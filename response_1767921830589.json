{
  "openapi": "3.1.0",
  "info": {
    "title": "✨ FastAPI RESTful API | Production",
    "description": "\n## ⚡ 운영 서버\n\n고성능 프로덕션 레벨 RESTful API 서버입니다.\n\n### 주요 기능:\n* ✅ **사용자관리**: 표준 CRUD 기능 및 로그인 관리\n* ✅ **인증 서비스**: JWT 기반 보안 인증 (Access/Refresh Token)\n* ✅ **권한 관리**: 역할 기반 접근 제어 (RBAC) 및 권한 검증\n* ✅ **로깅 서비스**: 구조화된 JSON 로깅 및 실시간 모니터링\n* ✅ **환경 관리**: 개발/테스트/운영 환경 분리 및 설정 관리\n* ✅ **API 문서**: Swagger UI & ReDoc 자동 생성\n* ✅ **Docker 지원**: 컨테이너화된 배포 및 경량화 이미지 제공\n* ✅ **성능 최적화**: 비동기 처리 및 데이터베이스 커넥션 풀링\n* ✅ **미들웨어**: CORS, 요청 검증, 공통 예외 처리\n* ✅ **모니터링**: 헬스체크 및 메트릭 수집 지원\n\n### 기술 스택:\n* **FastAPI**: 고성능 비동기 Python 프레임워크 (최신 버전)\n* **SQLAlchemy 2.0**: 최신 ORM 및 비동기 데이터베이스 지원\n* **MySQL 8.0**: 관계형 데이터베이스 (JSON 지원)\n* **Pydantic V2**: 향상된 데이터 검증 및 직렬화\n* **Uvicorn**: ASGI 서버 (프로덕션 최적화)\n* **Python 3.11+**: 최신 Python 기능 활용\n\n### API 버전:\n현재 API 버전: v1\n\n### 배포/DB 안내:\n* 현재 서버 유형: **운영 서버**\n* 연결된 DB: **개발 DB** (`dev-db.wpicenter.com:3306/wisdom`)\n",
    "version": "0.1.0"
  },
  "paths": {
    "/api/v1/ai-assistant/interpret": {
      "post": {
        "tags": [
          "AI Assistant"
        ],
        "summary": "WPI 조회 해석 (GPT-5.2 + Vector Store + MD chunk)",
        "description": "WPI 조회 해석 엔드포인트 (Phase 기반)\n\n- PDF는 조회 대상이 아니며, 사전 처리된 **MD chunk**만 Vector Store에 존재합니다.\n- 조회 흐름: 입력(JSON) → GPT-5.2 Assistant → file_search(Vector Store) → 근거(chunk) → 고정 JSON 응답\n- 이 엔드포인트는 **gpt-5.2만** 허용합니다.",
        "operationId": "interpret_with_assistant_api_v1_ai_assistant_interpret_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/OpenAIInterpretRequest"
                  }
                ],
                "examples": {
                  "phase1_example": {
                    "summary": "Phase 1 — 프로파일 기반 존재 구조 해석",
                    "value": {
                      "session": {
                        "turn": 1
                      },
                      "phase": 1,
                      "profiles": {
                        "reality": {
                          "self_scores": {
                            "realist": 27.5,
                            "romantic": 26.5,
                            "humanist": 4.7,
                            "idealist": 51.7,
                            "agent": 20.6
                          },
                          "standard_scores": {
                            "relation": 29.5,
                            "trust": 26,
                            "manual": 0,
                            "self": 50.1,
                            "culture": 23.3
                          }
                        },
                        "ideal": {
                          "self_scores": {
                            "realist": 40,
                            "romantic": 0,
                            "humanist": 10,
                            "idealist": 55,
                            "agent": 30
                          },
                          "standard_scores": {
                            "relation": 20,
                            "trust": 40,
                            "manual": 0,
                            "self": 60,
                            "culture": 25
                          }
                        }
                      },
                      "story": {},
                      "followup": {},
                      "model": "gpt-5.2"
                    }
                  }
                },
                "title": "Request"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpenAIInterpretResponse"
                }
              }
            }
          },
          "401": {
            "description": "인증되지 않음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "503": {
            "description": "OpenAI 서비스 설정 필요"
          }
        }
      }
    },
    "/api/v1/ai-assistant/health": {
      "get": {
        "tags": [
          "AI Assistant"
        ],
        "summary": "OpenAI Assistant 서비스 상태 확인",
        "description": "**OpenAI Assistant 서비스 상태 확인**\n\nOpenAI API 키 설정 여부와 Vector Store 연결 상태를 확인합니다.\n\n**응답 정보**\n- `status`: 서비스 상태 (\"healthy\" 또는 \"unhealthy\")\n- `api_key_configured`: API 키 설정 여부\n- `vector_store_configured`: Vector Store ID 설정 여부\n- `model`: 사용 중인 모델\n- `message`: 상태 메시지\n\n**에러 응답**\n- `401`: 인증되지 않은 사용자",
        "operationId": "check_openai_service_health_api_v1_ai_assistant_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "title": "Response Check Openai Service Health Api V1 Ai Assistant Health Get"
                }
              }
            }
          },
          "401": {
            "description": "인증되지 않음"
          },
          "503": {
            "description": "OpenAI 서비스 설정 필요"
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/v1/ai-assistant/threads/{thread_id}/status": {
      "get": {
        "tags": [
          "AI Assistant"
        ],
        "summary": "OpenAI thread 상태 확인",
        "description": "**OpenAI thread 존재 여부 확인**\n\n- 클라이언트가 보유한 `conversation_id`(OpenAI thread ID)가 유효한지 조회합니다.\n- 존재하지 않으면 404를 반환합니다.",
        "operationId": "get_thread_status_api_v1_ai_assistant_threads__thread_id__status_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "thread_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Thread Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ThreadStatusResponse"
                }
              }
            }
          },
          "401": {
            "description": "인증되지 않음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "503": {
            "description": "OpenAI 서비스 설정 필요"
          }
        }
      }
    },
    "/api/v1/ai-assistant/files": {
      "get": {
        "tags": [
          "AI Assistant"
        ],
        "summary": "OpenAI Files 중앙 저장소 목록 조회",
        "description": "**OpenAI Files 중앙 저장소 목록 조회**\n\n모든 업로드된 파일 목록과 각 파일이 어떤 Vector Store들과 연결되어 있는지 확인합니다.\n\n**기능**\n- OpenAI Files 중앙 저장소의 모든 파일 조회\n- 각 파일이 연결된 Vector Store 목록 표시\n- 파일 크기, 업로드 시간 등 상세 정보 제공\n\n**쿼리 파라미터**\n- `limit` (선택): 조회할 최대 파일 개수 (기본값: 100)\n\n**응답 정보**\n```json\n{\n    \"total_files\": 5,\n    \"files\": [\n        {\n            \"id\": \"file-abc123\",\n            \"filename\": \"심리상담_가이드.pdf\",\n            \"bytes\": 1048576,\n            \"created_at\": \"2025-01-20T10:00:00Z\",\n            \"purpose\": \"assistants\",\n            \"connected_stores\": [\n                {\n                    \"id\": \"vs_store1\",\n                    \"name\": \"프로젝트A 문서\"\n                },\n                {\n                    \"id\": \"vs_store2\",\n                    \"name\": \"프로젝트B 문서\"\n                }\n            ],\n            \"connected_count\": 2\n        }\n    ]\n}\n```\n\n**유용한 정보**\n- `connected_count`: 파일이 여러 Vector Store에서 공유되고 있는지 확인\n- `connected_stores`: 파일을 삭제할 때 영향받는 Vector Store 파악\n- 중복 업로드 방지를 위한 파일 존재 여부 확인\n\n**에러 응답**\n- `401`: 인증되지 않은 사용자\n- `500`: OpenAI API 호출 실패",
        "operationId": "list_files_with_vector_stores_api_v1_ai_assistant_files_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FilesListResponse"
                }
              }
            }
          },
          "401": {
            "description": "인증되지 않음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "503": {
            "description": "OpenAI 서비스 설정 필요"
          }
        }
      }
    },
    "/api/v1/ai-assistant/files/{file_id}": {
      "delete": {
        "tags": [
          "AI Assistant"
        ],
        "summary": "파일 완전 삭제 (모든 Vector Store에서 제거 후 파일 삭제)",
        "description": "**파일 완전 삭제**\n\nOpenAI Files 중앙 저장소에서 파일을 완전히 삭제합니다.\n\n**동작 방식**\n1. 모든 Vector Store를 순회하며 해당 파일이 연결된 Store 확인\n2. 연결된 모든 Vector Store에서 파일 제거\n3. OpenAI Files 중앙 저장소에서 파일 삭제\n\n**경로 파라미터**\n- `file_id`: 삭제할 파일 ID (예: file-abc123)\n\n**응답 정보**\n```json\n{\n    \"file_id\": \"file-abc123\",\n    \"deleted\": true,\n    \"removed_from_stores\": [\n        {\"id\": \"vs_store1\", \"name\": \"프로젝트A\"},\n        {\"id\": \"vs_store2\", \"name\": \"프로젝트B\"}\n    ],\n    \"removed_count\": 2,\n    \"message\": \"파일이 2개의 Vector Store에서 제거되고 완전히 삭제되었습니다.\",\n    \"timestamp\": \"2025-01-20T10:30:00Z\"\n}\n```\n\n**주의사항**\n- ⚠️ 이 작업은 되돌릴 수 없습니다!\n- 파일이 여러 Vector Store에서 사용 중이면 모두 영향을 받습니다\n- 기본 Vector Store(환경변수 OPENAI_VECTOR_STORE_ID)와 연결된 파일은 완전 삭제할 수 없습니다.\n- 삭제 전에 `GET /api/v1/ai-assistant/files`로 연결된 Store 확인 권장\n\n**에러 응답**\n- `401`: 인증되지 않은 사용자\n- `404`: 파일을 찾을 수 없음\n- `500`: 삭제 중 오류 발생",
        "operationId": "delete_file_permanently_api_v1_ai_assistant_files__file_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "file_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "File Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FileDeletePermanentlyResponse"
                }
              }
            }
          },
          "401": {
            "description": "인증되지 않음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "503": {
            "description": "OpenAI 서비스 설정 필요"
          }
        }
      }
    },
    "/api/v1/ai-assistant/vector-stores/{vector_store_id}/files": {
      "post": {
        "tags": [
          "AI Assistant"
        ],
        "summary": "Vector Store에 파일 업로드",
        "description": "**Vector Store에 파일 업로드**\n\n**개요**\n- PDF, TXT, DOCX, PPTX, MD 등 다양한 문서 파일을 특정 Vector Store에 업로드합니다.\n- 업로드된 파일은 AI Assistant가 자동으로 참조하여 답변에 활용합니다.\n- 파일은 자동으로 벡터화되어 의미론적 검색이 가능해집니다.\n\n**경로 파라미터**\n- `vector_store_id`: 파일을 업로드할 Vector Store ID (필수)\n\n**지원 파일 형식**\n- **문서**: PDF, DOCX, TXT, MD, RTF\n- **프레젠테이션**: PPTX\n- **스프레드시트**: XLSX, CSV\n- **코드**: PY, JS, TS, JAVA, CPP, etc.\n- **최대 파일 크기**: 512 MB\n\n**요청 방식**\n- Content-Type: `multipart/form-data`\n- Form Field: `file` (업로드할 파일)\n\n**응답 정보**\n- `file_id`: 업로드된 파일 ID (OpenAI Files)\n- `filename`: 파일명\n- `bytes`: 파일 크기 (바이트)\n- `status`: 파일 처리 상태\n    - `in_progress`: 벡터화 처리 중\n    - `completed`: 처리 완료\n    - `failed`: 처리 실패\n- `vector_store_id`: Vector Store ID\n- `created_at`: 업로드 시간\n- `message`: 업로드 결과 메시지\n\n**응답 예시**\n```json\n{\n    \"file_id\": \"file-abc123xyz\",\n    \"filename\": \"심리상담_가이드.pdf\",\n    \"bytes\": 1048576,\n    \"status\": \"in_progress\",\n    \"vector_store_id\": \"vs_69254fe5beb081919c947a6f5b409f68\",\n    \"created_at\": \"2025-01-20T10:00:00Z\",\n    \"message\": \"파일이 성공적으로 업로드되어 처리 중입니다.\"\n}\n```\n\n**에러 응답**\n- `400`: 잘못된 요청 (파일 형식 미지원, 크기 초과 등)\n- `401`: 인증되지 않은 사용자\n- `413`: 파일 크기 초과 (최대 512 MB)\n- `503`: OpenAI API 키 또는 Vector Store ID 미설정\n- `500`: 업로드 실패\n\n**사용 시나리오**\n1. **문서 추가**: 새로운 심리검사 결과 문서 업로드\n2. **참고 자료 등록**: 상담 가이드라인 문서 추가\n3. **연구 논문 등록**: 관련 연구 자료 업로드\n4. **매뉴얼 등록**: 업무 매뉴얼이나 가이드 문서 추가\n\n**처리 과정**\n1. 파일을 OpenAI Files API로 업로드\n2. 업로드된 파일을 Vector Store에 자동 추가\n3. 파일 내용을 벡터화하여 검색 가능하게 처리\n4. AI Assistant가 자동으로 파일 내용 참조 가능\n\n**주의사항**\n- 인증된 사용자만 파일을 업로드할 수 있습니다.\n- 파일 처리에는 수 분 정도 시간이 걸릴 수 있습니다.\n- `status`가 `completed`가 되어야 검색 및 질의응답에 사용됩니다.\n- 민감한 정보가 포함된 파일은 업로드 전에 검토하세요.\n- 파일 업로드 및 저장에 따라 비용이 발생할 수 있습니다.\n\n**Swagger UI 사용법**\n1. \"Try it out\" 클릭\n2. \"file\" 필드에서 \"Choose File\" 클릭하여 파일 선택\n3. \"Execute\" 클릭하여 업로드 실행",
        "operationId": "upload_file_to_vector_store_api_v1_ai_assistant_vector_stores__vector_store_id__files_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "vector_store_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Vector Store Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_file_to_vector_store_api_v1_ai_assistant_vector_stores__vector_store_id__files_post"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VectorStoreUploadResponse"
                }
              }
            }
          },
          "401": {
            "description": "인증되지 않음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "503": {
            "description": "OpenAI 서비스 설정 필요"
          }
        }
      }
    },
    "/api/v1/ai-assistant/vector-stores/{vector_store_id}/files/{file_id}": {
      "delete": {
        "tags": [
          "AI Assistant"
        ],
        "summary": "Vector Store에서 파일 제거 (파일 자체는 유지)",
        "description": "**Vector Store에서 파일 제거 (연결만 끊기)**\n\n**개요**\n- 특정 Vector Store에서 파일과의 연결을 제거합니다\n- ✅ **파일 자체는 삭제되지 않으며** OpenAI Files에 유지됩니다\n- 다른 Vector Store에서는 계속 해당 파일을 사용할 수 있습니다\n- 파일을 완전히 삭제하려면 `DELETE /api/v1/ai-assistant/files/{file_id}` 사용\n\n**경로 파라미터**\n- `vector_store_id`: Vector Store ID (필수)\n- `file_id`: 제거할 파일 ID (필수)\n    - Vector Store 상세 조회 API(`GET /vector-stores/{id}`)에서 확인 가능\n\n**응답 정보**\n- `file_id`: 제거된 파일 ID\n- `vector_store_id`: 파일이 제거된 Vector Store ID\n- `deleted`: 제거 성공 여부 (true/false)\n- `message`: 제거 결과 메시지\n- `timestamp`: 제거 실행 시간\n\n**응답 예시**\n```json\n{\n    \"file_id\": \"file-abc123\",\n    \"vector_store_id\": \"vs_xyz789\",\n    \"deleted\": true,\n    \"message\": \"Vector Store에서 파일이 제거되었습니다. (파일 자체는 유지됨)\",\n    \"timestamp\": \"2025-01-20T10:30:00Z\"\n}\n```\n\n**에러 응답**\n- `400`: 잘못된 요청 (잘못된 file_id)\n- `401`: 인증되지 않은 사용자\n- `404`: 파일을 찾을 수 없음\n- `500`: 제거 실패\n\n**사용 시나리오**\n1. **특정 프로젝트에서만 제거**: Vector Store A에서 제거하지만 B에서는 유지\n2. **문서 재구성**: Store 구조 변경 시 파일 재배치\n3. **안전한 제거**: 다른 곳에서 사용 중인지 확인하며 제거\n\n**주의사항**\n- 삭제된 파일은 복구할 수 없습니다.\n- AI Assistant는 삭제 즉시 해당 파일을 참조하지 않습니다.\n- ⚠️ 기본 Vector Store(환경변수 설정)에 연결된 파일은 삭제할 수 없습니다.\n- 파일 ID는 파일 목록 조회 API에서 확인하세요.\n- 삭제 권한이 있는 사용자만 호출할 수 있습니다.\n\n**삭제 과정**\n1. Vector Store에서 파일 제거\n2. OpenAI Files에서도 파일 삭제\n3. 삭제 결과 반환",
        "operationId": "delete_file_from_vector_store_api_v1_ai_assistant_vector_stores__vector_store_id__files__file_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "vector_store_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Vector Store Id"
            }
          },
          {
            "name": "file_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "File Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VectorStoreDeleteResponse"
                }
              }
            }
          },
          "401": {
            "description": "인증되지 않음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "503": {
            "description": "OpenAI 서비스 설정 필요"
          }
        }
      }
    },
    "/api/v1/ai-assistant/vector-stores": {
      "get": {
        "tags": [
          "AI Assistant"
        ],
        "summary": "Vector Store 목록 조회",
        "description": "**Vector Store 목록 조회**\n\n**개요**\n- 사용 가능한 모든 Vector Store 목록을 조회합니다.\n- 각 Vector Store의 파일 개수, 상태, 용량 등 기본 정보를 확인할 수 있습니다.\n- 기본 Vector Store(환경변수 설정)도 함께 표시됩니다.\n\n**쿼리 파라미터**\n- `limit`: 조회할 최대 Vector Store 개수 (기본값: 20, 최대: 100)\n\n**응답 정보**\n- `total_count`: 총 Vector Store 개수\n- `default_vector_store_id`: 기본 Vector Store ID (환경변수 설정)\n- `vector_stores`: Vector Store 목록\n    - `id`: Vector Store ID\n    - `name`: Vector Store 이름\n    - `file_counts`: 파일 카운트 정보 (in_progress, completed, failed, cancelled, total)\n    - `status`: Vector Store 상태 (completed, in_progress, expired)\n    - `created_at`: 생성 시간\n    - `usage_bytes`: 사용 중인 스토리지 (바이트)\n    - `is_default`: 기본 Vector Store 여부\n\n**응답 예시**\n```json\n{\n    \"total_count\": 3,\n    \"default_vector_store_id\": \"vs_69254fe5beb081919c947a6f5b409f68\",\n    \"vector_stores\": [\n        {\n            \"id\": \"vs_69254fe5beb081919c947a6f5b409f68\",\n            \"name\": \"심리상담 문서 저장소\",\n            \"file_counts\": {\n                \"in_progress\": 0,\n                \"completed\": 5,\n                \"failed\": 0,\n                \"cancelled\": 0,\n                \"total\": 5\n            },\n            \"status\": \"completed\",\n            \"created_at\": \"2025-01-20T10:00:00Z\",\n            \"usage_bytes\": 5242880,\n            \"is_default\": true\n        }\n    ]\n}\n```\n\n**에러 응답**\n- `401`: 인증되지 않은 사용자\n- `503`: OpenAI API 키 미설정\n- `500`: 목록 조회 실패\n\n**사용 시나리오**\n1. **전체 저장소 확인**: 모든 Vector Store 파악\n2. **용량 관리**: 각 저장소별 용량 확인\n3. **상태 모니터링**: 파일 처리 상태 확인\n4. **저장소 선택**: 작업할 Vector Store 선택",
        "operationId": "list_vector_stores_api_v1_ai_assistant_vector_stores_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VectorStoreListResponse"
                }
              }
            }
          },
          "401": {
            "description": "인증되지 않음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "503": {
            "description": "OpenAI 서비스 설정 필요"
          }
        }
      },
      "post": {
        "tags": [
          "AI Assistant"
        ],
        "summary": "새 Vector Store 생성",
        "description": "**새로운 Vector Store 생성**\n\n**개요**\n- 새로운 Vector Store를 생성합니다.\n- 생성 시 초기 파일을 함께 추가할 수 있습니다.\n- 각 프로젝트나 주제별로 별도의 Vector Store를 관리할 수 있습니다.\n\n**요청 본문**\n- `name`: Vector Store 이름 (필수, 1~100자)\n- `file_ids`: 초기에 추가할 파일 ID 목록 (선택)\n\n**요청 예시**\n```json\n{\n    \"name\": \"상담 케이스 문서\",\n    \"file_ids\": [\"file-abc123\"]\n}\n```\n\n**응답 정보**\n- `id`: 생성된 Vector Store ID\n- `name`: Vector Store 이름\n- `file_counts`: 파일 카운트 정보\n- `status`: Vector Store 상태 (in_progress: 처리 중, completed: 완료)\n- `created_at`: 생성 시간\n- `usage_bytes`: 사용 중인 스토리지 (바이트)\n- `message`: 생성 결과 메시지\n\n**응답 예시**\n```json\n{\n    \"id\": \"vs_xyz789newstore\",\n    \"name\": \"상담 케이스 문서\",\n    \"file_counts\": {\n        \"in_progress\": 1,\n        \"completed\": 0,\n        \"failed\": 0,\n        \"cancelled\": 0,\n        \"total\": 1\n    },\n    \"status\": \"in_progress\",\n    \"created_at\": \"2025-01-20T15:00:00Z\",\n    \"usage_bytes\": 0,\n    \"message\": \"Vector Store '상담 케이스 문서'이(가) 성공적으로 생성되었습니다.\"\n}\n```\n\n**에러 응답**\n- `400`: 잘못된 요청 (이름 길이 초과 등)\n- `401`: 인증되지 않은 사용자\n- `503`: OpenAI API 키 미설정\n- `500`: 생성 실패\n\n**사용 시나리오**\n1. **프로젝트별 관리**: 각 프로젝트마다 독립적인 문서 저장소 생성\n2. **주제별 분류**: 상담, 검사, 연구 등 주제별 Vector Store 구성\n3. **테스트 환경**: 실험용 Vector Store 생성\n4. **임시 저장소**: 특정 작업을 위한 임시 저장소 생성\n\n**주의사항**\n- Vector Store 생성 후 파일 처리에 시간이 걸릴 수 있습니다.\n- `status`가 `completed`가 되어야 검색 및 질의응답에 사용됩니다.\n- 생성된 Vector Store ID를 기록해두세요.\n- 사용하지 않는 Vector Store는 삭제하여 비용을 절감하세요.",
        "operationId": "create_vector_store_api_v1_ai_assistant_vector_stores_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VectorStoreCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VectorStoreCreateResponse"
                }
              }
            }
          },
          "401": {
            "description": "인증되지 않음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "503": {
            "description": "OpenAI 서비스 설정 필요"
          }
        }
      }
    },
    "/api/v1/ai-assistant/vector-stores/{vector_store_id}": {
      "get": {
        "tags": [
          "AI Assistant"
        ],
        "summary": "Vector Store 상세 정보 조회",
        "description": "**특정 Vector Store 상세 정보 조회**\n\n**개요**\n- 특정 Vector Store의 상세 정보를 조회합니다.\n- 파일 목록, 만료 시간 등 추가 정보를 확인할 수 있습니다.\n\n**경로 파라미터**\n- `vector_store_id`: Vector Store ID (필수)\n\n**응답 정보**\n- `id`: Vector Store ID\n- `name`: Vector Store 이름\n- `file_counts`: 파일 카운트 정보\n- `status`: Vector Store 상태\n- `created_at`: 생성 시간\n- `usage_bytes`: 사용 중인 스토리지 (바이트)\n- `expires_at`: 만료 시간 (설정된 경우)\n- `is_default`: 기본 Vector Store 여부\n- `files`: 파일 목록 (ID, 파일명, 상태, 크기 포함)\n\n**응답 예시**\n```json\n{\n    \"id\": \"vs_69254fe5beb081919c947a6f5b409f68\",\n    \"name\": \"심리상담 문서 저장소\",\n    \"file_counts\": {\n        \"in_progress\": 0,\n        \"completed\": 5,\n        \"failed\": 0,\n        \"cancelled\": 0,\n        \"total\": 5\n    },\n    \"status\": \"completed\",\n    \"created_at\": \"2025-01-20T10:00:00Z\",\n    \"usage_bytes\": 5242880,\n    \"expires_at\": null,\n    \"is_default\": true,\n    \"files\": [\n        {\n            \"id\": \"file-abc123\",\n            \"filename\": \"심리상담_가이드.pdf\",\n            \"status\": \"completed\",\n            \"bytes\": 1048576\n        },\n        {\n            \"id\": \"file-def456\",\n            \"filename\": \"상담_케이스_분석.docx\",\n            \"status\": \"completed\",\n            \"bytes\": 524288\n        }\n    ]\n}\n```\n\n**에러 응답**\n- `401`: 인증되지 않은 사용자\n- `404`: Vector Store를 찾을 수 없음\n- `503`: OpenAI API 키 미설정\n- `500`: 조회 실패",
        "operationId": "get_vector_store_details_api_v1_ai_assistant_vector_stores__vector_store_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "vector_store_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Vector Store Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VectorStoreDetailResponse"
                }
              }
            }
          },
          "401": {
            "description": "인증되지 않음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "503": {
            "description": "OpenAI 서비스 설정 필요"
          }
        }
      },
      "delete": {
        "tags": [
          "AI Assistant"
        ],
        "summary": "Vector Store 삭제",
        "description": "**Vector Store 삭제**\n\n**개요**\n- 지정된 Vector Store를 영구적으로 삭제합니다.\n- 삭제된 Vector Store 내의 모든 파일 연결도 함께 제거됩니다.\n- ⚠️ **기본 Vector Store(환경변수 설정)는 삭제할 수 없습니다.**\n\n**경로 파라미터**\n- `vector_store_id`: 삭제할 Vector Store ID (필수)\n\n**응답 정보**\n- `id`: 삭제된 Vector Store ID\n- `deleted`: 삭제 성공 여부 (true/false)\n- `message`: 삭제 결과 메시지\n- `timestamp`: 삭제 실행 시간\n\n**응답 예시**\n```json\n{\n    \"id\": \"vs_xyz789\",\n    \"deleted\": true,\n    \"message\": \"Vector Store가 성공적으로 삭제되었습니다.\",\n    \"timestamp\": \"2025-01-20T16:00:00Z\"\n}\n```\n\n**에러 응답**\n- `400`: 기본 Vector Store 삭제 시도\n- `401`: 인증되지 않은 사용자\n- `404`: Vector Store를 찾을 수 없음\n- `503`: OpenAI API 키 미설정\n- `500`: 삭제 실패\n\n**기본 Vector Store 보호**\n- 환경변수 `OPENAI_VECTOR_STORE_ID`에 설정된 Vector Store는 삭제할 수 없습니다.\n- 삭제 시도 시 400 에러가 반환됩니다:\n```json\n{\n    \"detail\": \"기본 Vector Store는 삭제할 수 없습니다. (ID: vs_69254fe5beb081919c947a6f5b409f68)\"\n}\n```\n\n**사용 시나리오**\n1. **테스트 정리**: 테스트용으로 생성한 Vector Store 삭제\n2. **프로젝트 종료**: 완료된 프로젝트의 Vector Store 정리\n3. **용량 관리**: 더 이상 사용하지 않는 저장소 삭제\n4. **재생성**: 잘못 구성된 Vector Store 삭제 후 재생성\n\n**주의사항**\n- ⚠️ **삭제된 Vector Store는 복구할 수 없습니다.**\n- Vector Store 내의 파일 연결이 제거되지만, OpenAI Files 자체는 삭제되지 않습니다.\n- 기본 Vector Store는 삭제할 수 없습니다 (시스템 보호).\n- 삭제 전에 중요한 데이터가 없는지 확인하세요.\n\n**삭제 과정**\n1. 기본 Vector Store 여부 확인 (보호)\n2. Vector Store 삭제 요청\n3. 삭제 결과 반환",
        "operationId": "delete_vector_store_api_v1_ai_assistant_vector_stores__vector_store_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "vector_store_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Vector Store Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VectorStoreDeleteRequestResponse"
                }
              }
            }
          },
          "401": {
            "description": "인증되지 않음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          },
          "503": {
            "description": "OpenAI 서비스 설정 필요"
          }
        }
      }
    },
    "/api/v1/pinecone/upload": {
      "post": {
        "tags": [
          "Pinecone Vector Store"
        ],
        "summary": "Upload a document to Pinecone vector store",
        "operationId": "upload_to_pinecone_api_v1_pinecone_upload_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_to_pinecone_api_v1_pinecone_upload_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PineconeUploadResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/v1/ai-logs": {
      "get": {
        "tags": [
          "AI 로그"
        ],
        "summary": "AI 로그 목록 조회",
        "description": "ai_logs 테이블에서 AI 로그를 조회합니다.\n- 일반 사용자: 자신의 로그만 조회합니다.\n- 관리자: 전체 로그 또는 user_id로 특정 사용자 로그 조회.\n- 기본 정렬: id 내림차순.\n- 상태 값(영/한): queued(대기) | in_progress(진행중) | succeeded(성공) | failed(실패) | timeout(타임아웃) | rate_limited(속도 제한) | cancelled(취소) | validation_error(검증 오류) | api_error(API 오류) | content_filter(콘텐츠 필터)",
        "operationId": "list_ai_logs_api_v1_ai_logs_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "관리자 전용: 조회 대상 user_id 재지정",
              "title": "User Id"
            },
            "description": "관리자 전용: 조회 대상 user_id 재지정"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "description": "가져올 최대 행 수",
              "default": 50,
              "title": "Limit"
            },
            "description": "가져올 최대 행 수"
          },
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "페이지네이션 offset",
              "default": 0,
              "title": "Skip"
            },
            "description": "페이지네이션 offset"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AiLogResponse"
                  },
                  "title": "Response List Ai Logs Api V1 Ai Logs Get"
                }
              }
            }
          },
          "401": {
            "description": "인증 필요"
          },
          "403": {
            "description": "권한 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ai-logs/{log_id}/feedback": {
      "put": {
        "tags": [
          "AI 로그"
        ],
        "summary": "로그 피드백 추가/수정",
        "description": "로그에 좋아요/싫어요와 코멘트를 추가하거나 수정합니다.\n- 사용자는 자신의 로그만 수정할 수 있습니다.\n- 관리자는 모든 로그를 수정할 수 있습니다.",
        "operationId": "upsert_ai_log_feedback_api_v1_ai_logs__log_id__feedback_put",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "log_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Log Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AiLogFeedbackRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AiLogResponse"
                }
              }
            }
          },
          "401": {
            "description": "인증 필요"
          },
          "403": {
            "description": "권한 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "AI 로그"
        ],
        "summary": "로그 피드백 삭제",
        "description": "로그의 좋아요/싫어요와 코멘트를 제거합니다.\n- 사용자는 자신의 로그만 수정할 수 있습니다.\n- 관리자는 모든 로그를 수정할 수 있습니다.",
        "operationId": "delete_ai_log_feedback_api_v1_ai_logs__log_id__feedback_delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "log_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Log Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AiLogResponse"
                }
              }
            }
          },
          "401": {
            "description": "인증 필요"
          },
          "403": {
            "description": "권한 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ai-logs/conversations": {
      "get": {
        "tags": [
          "AI 로그"
        ],
        "summary": "내 대화 스레드 목록",
        "description": "현재 사용자의 로그를 `conversation_id`(스레드)로 묶어 최신순으로 반환합니다.\n첫 질문(request_message)을 제목으로 사용합니다.",
        "operationId": "list_user_conversations_api_v1_ai_logs_conversations_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationSummaryListResponse"
                }
              }
            }
          },
          "401": {
            "description": "인증 필요"
          },
          "403": {
            "description": "권한 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ai-logs/conversations/{conversation_id}": {
      "get": {
        "tags": [
          "AI 로그"
        ],
        "summary": "대화 상세",
        "description": "지정한 `conversation_id`에 대한 요청/응답 로그를 시간순으로 반환합니다.",
        "operationId": "get_conversation_detail_api_v1_ai_logs_conversations__conversation_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Conversation Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationDetailResponse"
                }
              }
            }
          },
          "401": {
            "description": "인증 필요"
          },
          "403": {
            "description": "권한 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/psych-tests/{test_id}/items": {
      "get": {
        "tags": [
          "심리검사 항목"
        ],
        "summary": "심리검사 항목 조회",
        "description": "**심리검사 항목 조회**\n\n**요청 파라미터**\n- `test_id`: 심리검사 ID (경로 변수)\n\n**응답 정보**\n- `test_id`: 심리검사 ID\n- `test_name`: 심리검사 이름\n- `checklists`: 체크리스트 목록\n    - `id`: 체크리스트 ID\n    - `sequence`: 노출 순서\n    - `name`: 체크리스트 이름\n    - `question`: 체크리스트 질문\n    - `description`: 상세 설명\n    - `cnt_1st_selection`: 1순위 선택 가능 개수\n    - `cnt_2nd_selection`: 2순위 선택 가능 개수\n    - `cnt_3rd_selection`: 3순위 선택 가능 개수\n    - `classes`: 클래스 정보 (id, name, profile, contents)\n    - `questions`: 문항 정보 (id, sequence, question)\n\n**에러 응답**\n- `401`: 인증되지 않은 사용자\n- `404`: 해당 ID의 심리검사를 찾을 수 없음\n\n**특징**\n- 인증이 필요한 보호 엔드포인트\n- wisdom DB 자료를 계층 구조로 반환\n- USE_FLAG='Y'인 항목만 제공하며 시퀀스 순서를 보장",
        "operationId": "get_psych_test_items_api_v1_psych_tests__test_id__items_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "test_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Test Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PsychTestDetailResponse"
                }
              }
            }
          },
          "401": {
            "description": "인증되지 않음"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/psych-tests/accounts/{user_id}": {
      "get": {
        "tags": [
          "심리검사 항목"
        ],
        "summary": "유저별 심리검사 결과목록 조회",
        "description": "사용자 계좌/결제 내역 조회",
        "operationId": "get_psych_test_accounts_api_v1_psych_tests_accounts__user_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "페이지 번호",
              "default": 1,
              "title": "Page"
            },
            "description": "페이지 번호"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "description": "페이지당 항목 수",
              "default": 50,
              "title": "Page Size"
            },
            "description": "페이지당 항목 수"
          },
          {
            "name": "test_ids",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "array",
                  "items": {
                    "type": "integer"
                  }
                },
                {
                  "type": "null"
                }
              ],
              "description": "필터링할 TEST_ID 목록 (미지정 시 전체)",
              "title": "Test Ids"
            },
            "description": "필터링할 TEST_ID 목록 (미지정 시 전체)"
          },
          {
            "name": "fetch_all",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "true이면 페이징 없이 전체 조회",
              "default": false,
              "title": "Fetch All"
            },
            "description": "true이면 페이징 없이 전체 조회"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PsychTestAccountListResponse"
                }
              }
            }
          },
          "401": {
            "description": "인증되지 않음"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/psych-tests/results/{result_id}": {
      "get": {
        "tags": [
          "심리검사 항목"
        ],
        "summary": "심리검사 저장 결과 조회",
        "description": "RESULT_ID로 저장된 사용자·클래스 결과 조회",
        "operationId": "get_psych_test_result_by_id_api_v1_psych_tests_results__result_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "result_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Result Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PsychTestStoredResultResponse"
                }
              }
            }
          },
          "401": {
            "description": "인증되지 않음"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "심리검사 항목"
        ],
        "summary": "심리검사 결과 수정",
        "description": "**심리검사 결과 수정**\n\n- 필요한 값만 보내면 해당 항목만 반영합니다. (selections를 생략하면 기존 답안을 유지)\n- selections를 일부 체크리스트만 보내면 해당 체크리스트만 덮어쓰고 나머지는 기존 답안을 유지합니다.",
        "operationId": "update_psych_test_result_api_v1_psych_tests_results__result_id__patch",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "result_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Result Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PsychTestResultUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PsychTestResultResponse"
                }
              }
            }
          },
          "401": {
            "description": "인증되지 않음"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/psych-tests/{test_id}/results": {
      "post": {
        "tags": [
          "심리검사 항목"
        ],
        "summary": "심리검사 결과 계산",
        "description": "**심리검사 결과 계산**\n\n**개요**\n- 선택한 문항을 순위별로 수집해 시퀀스(체크리스트) 단위로 클래스 점수를 산출합니다.\n- 순위 가중치 × 문항 가중치 × 클래스 가중치를 곱해 문항 점수를 만들고, 동일 클래스끼리 누적합니다.\n\n**요청 본문**\n- `selections`: 체크리스트별 선택 정보 배열\n    - `checklist_id`: 결과를 계산할 체크리스트 ID\n    - `ranks`: 순위별 선택 결과\n        - `rank`: 1~3 순위\n        - `question_ids`: 해당 순위에서 선택한 문항 ID 목록 (중복 불가, 허용 개수 초과 시 오류)\n\n- `worry` (선택): 고민 영역 메모 (예: 진로,연애)\n- `test_target_name` (선택): 실테스트자 이름 (미입력 시 로그인 사용자 이름 저장)\n- `note` (선택): 비고 내용\n- `process_sequence` (선택): 저장 시 PROCESS_SEQ 값 (기본 99)\n\n**예시 1 — 시퀀스 2개 (TEST_ID=1, checklist_id=1·2)**\n```json\n{\n    \"worry\": \"진로,연애\",\n    \"test_target_name\": \"홍길동\",\n    \"note\": \"상담 신청서 #123\",\n    \"process_sequence\": 99,\n    \"selections\": [\n        {\n            \"checklist_id\": 1,\n            \"ranks\": [\n                {\"rank\": 1, \"question_ids\": [1, 2, 3]},\n                {\"rank\": 2, \"question_ids\": [4, 5, 6, 7]},\n                {\"rank\": 3, \"question_ids\": [8, 9, 10, 11, 12]}\n            ]\n        },\n        {\n            \"checklist_id\": 2,\n            \"ranks\": [\n                {\"rank\": 1, \"question_ids\": [31, 32, 33]},\n                {\"rank\": 2, \"question_ids\": [34, 35, 36, 37]},\n                {\"rank\": 3, \"question_ids\": [38, 39, 40, 41, 42]}\n            ]\n        }\n    ]\n}\n```\n\n**예시 2 — 시퀀스 1개 (TEST_ID=1, checklist_id=3)**\n```json\n{\n    \"worry\": \"조직,가족\",\n    \"test_target_name\": \"현석원\",\n    \"note\": \"재응시\",\n    \"process_sequence\": 102,\n    \"selections\": [\n        {\n            \"checklist_id\": 3,\n            \"ranks\": [\n                {\"rank\": 1, \"question_ids\": [61, 62]},\n                {\"rank\": 2, \"question_ids\": [63, 64, 65]},\n                {\"rank\": 3, \"question_ids\": [66, 67, 68, 69]}\n            ]\n        }\n    ]\n}\n```\n\n**계산 방식**\n1. 순위별 허용 개수를 검증하고 중복 문항을 차단합니다.\n2. 순위 가중치 × 문항 가중치 × 클래스 가중치를 곱해 문항 점수를 구합니다.\n3. 같은 클래스에 속한 문항 점수를 누적해 시퀀스별 클래스 총점을 만듭니다.\n4. 클래스 ID가 작은 순으로 정렬해 응답합니다.\n\n**응답 정보**\n- `result_id`: 저장된 결과 ID\n- `test_id`: 검사 ID\n- `sequences`: 시퀀스별 결과 목록\n    - `checklist_id`: 체크리스트 ID\n    - `sequence`: 시퀀스 번호\n    - `name`: 체크리스트 이름\n    - `classes`: 클래스별 최종 점수\n        - `class_id`: 클래스 ID (오름차순)\n        - `class_name`: 클래스 이름\n        - `class_weight`: 클래스 가중치\n        - `total_score`: 누적 점수\n        - `result_combine_type`, `result_master_type`, `master_checklist_id`: 후속 조합을 위한 메타 데이터\n\n**응답 예시**\n```json\n{\n  \"test_id\": 1,\n  \"sequences\": [\n    {\n      \"checklist_id\": 1,\n      \"sequence\": 1,\n      \"name\": \"자기평가\",\n      \"classes\": [\n        {\"class_id\": 1, \"class_name\": \"Realist\", \"total_score\": 43.9},\n        {\"class_id\": 2, \"class_name\": \"Romantist\", \"total_score\": 45.18},\n        {\"class_id\": 3, \"class_name\": \"Humanist\", \"total_score\": 32.56}\n      ]\n    },\n    {\n      \"checklist_id\": 2,\n      \"sequence\": 2,\n      \"name\": \"타인평가\",\n      \"classes\": []\n    }\n  ]\n}\n```\n\n**에러 응답**\n- `400`: 허용 개수 초과, 중복 문항 선택, 유효하지 않은 체크리스트 ID 등\n- `404`: 주어진 `test_id`가 존재하지 않음\n\n**특징**\n- 인증된 사용자만 호출할 수 있는 보호 엔드포인트입니다.\n- 계산은 DB에서 조회한 체크리스트·클래스·문항 정보를 기반으로 수행되며 여러 시퀀스를 한 번에 처리할 수 있습니다.\n- 계산이 완료되면 wisdom.TBL_SVC_USER_RESULT 및 TBL_SVC_USER_ANSWER에 동일 내용이 즉시 저장됩니다.",
        "operationId": "calculate_psych_test_results_api_v1_psych_tests__test_id__results_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "test_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Test Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PsychTestResultRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PsychTestResultResponse"
                }
              }
            }
          },
          "401": {
            "description": "인증되지 않음"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/kakao/login-url": {
      "get": {
        "tags": [
          "카카오 로그인"
        ],
        "summary": "카카오 로그인 인가 URL 발급",
        "description": "카카오 인가 코드 요청 URL 반환\n- state를 함께 반환하므로, 클라이언트는 동일한 값을 callback에서 검증해야 한다.",
        "operationId": "get_kakao_login_url_api_v1_auth_kakao_login_url_get",
        "parameters": [
          {
            "name": "login_hint",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Kakao login_hint (auto-fill ID on login screen)",
              "title": "Login Hint"
            },
            "description": "Kakao login_hint (auto-fill ID on login screen)"
          },
          {
            "name": "service_terms",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Comma-separated service_terms tags",
              "title": "Service Terms"
            },
            "description": "Comma-separated service_terms tags"
          },
          {
            "name": "nonce",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "OIDC nonce (recommended when using openid)",
              "title": "Nonce"
            },
            "description": "OIDC nonce (recommended when using openid)"
          },
          {
            "name": "state",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "CSRF 방지용 state. 미전달 시 서버에서 생성",
              "title": "State"
            },
            "description": "CSRF 방지용 state. 미전달 시 서버에서 생성"
          },
          {
            "name": "redirect_uri",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "커스텀 Redirect URI. 미전달 시 설정값 사용",
              "title": "Redirect Uri"
            },
            "description": "커스텀 Redirect URI. 미전달 시 설정값 사용"
          },
          {
            "name": "scope",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "동의항목 scope (쉼표 구분). 미전달 시 설정값 사용",
              "title": "Scope"
            },
            "description": "동의항목 scope (쉼표 구분). 미전달 시 설정값 사용"
          },
          {
            "name": "prompt",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "카카오 prompt 값 (login/none/create/select_account)",
              "title": "Prompt"
            },
            "description": "카카오 prompt 값 (login/none/create/select_account)"
          },
          {
            "name": "code_challenge",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "PKCE code_challenge (모바일 권장)",
              "title": "Code Challenge"
            },
            "description": "PKCE code_challenge (모바일 권장)"
          },
          {
            "name": "code_challenge_method",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "PKCE code_challenge_method (S256 추천)",
              "title": "Code Challenge Method"
            },
            "description": "PKCE code_challenge_method (S256 추천)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KakaoAuthorizeURLResponse"
                }
              }
            }
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/kakao/authorize": {
      "get": {
        "tags": [
          "카카오 로그인"
        ],
        "summary": "카카오 로그인 인가 화면으로 리다이렉트",
        "operationId": "kakao_authorize_redirect_api_v1_auth_kakao_authorize_get",
        "parameters": [
          {
            "name": "state",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "CSRF 방지용 state. 미전달 시 서버에서 생성",
              "title": "State"
            },
            "description": "CSRF 방지용 state. 미전달 시 서버에서 생성"
          },
          {
            "name": "redirect_uri",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "커스텀 Redirect URI. 미전달 시 설정값 사용",
              "title": "Redirect Uri"
            },
            "description": "커스텀 Redirect URI. 미전달 시 설정값 사용"
          },
          {
            "name": "scope",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "동의항목 scope (공백/쉼표 구분). 미전달 시 설정값 사용",
              "title": "Scope"
            },
            "description": "동의항목 scope (공백/쉼표 구분). 미전달 시 설정값 사용"
          },
          {
            "name": "prompt",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "카카오 prompt 값 (login/none/create/select_account)",
              "title": "Prompt"
            },
            "description": "카카오 prompt 값 (login/none/create/select_account)"
          },
          {
            "name": "login_hint",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Kakao login_hint (auto-fill ID on login screen)",
              "title": "Login Hint"
            },
            "description": "Kakao login_hint (auto-fill ID on login screen)"
          },
          {
            "name": "service_terms",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Comma-separated service_terms tags",
              "title": "Service Terms"
            },
            "description": "Comma-separated service_terms tags"
          },
          {
            "name": "nonce",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "OIDC nonce (recommended when using openid)",
              "title": "Nonce"
            },
            "description": "OIDC nonce (recommended when using openid)"
          },
          {
            "name": "code_challenge",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "PKCE code_challenge (모바일 권장)",
              "title": "Code Challenge"
            },
            "description": "PKCE code_challenge (모바일 권장)"
          },
          {
            "name": "code_challenge_method",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "PKCE code_challenge_method (S256 추천)",
              "title": "Code Challenge Method"
            },
            "description": "PKCE code_challenge_method (S256 추천)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/kakao/callback": {
      "get": {
        "tags": [
          "카카오 로그인"
        ],
        "summary": "카카오 콜백 처리 및 JWT 발급",
        "description": "카카오 인가 코드 콜백 처리\n- 인가 코드를 카카오 토큰으로 교환\n- 카카오 프로필 기반으로 로컬 사용자 생성/조회\n- 자체 Access/Refresh Token 발급 및 쿠키 세팅",
        "operationId": "kakao_login_callback_api_v1_auth_kakao_callback_get",
        "parameters": [
          {
            "name": "code",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "카카오 인가 코드",
              "title": "Code"
            },
            "description": "카카오 인가 코드"
          },
          {
            "name": "state",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "CSRF 방지용 state",
              "title": "State"
            },
            "description": "CSRF 방지용 state"
          },
          {
            "name": "redirect_uri",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Redirect URI used for token exchange",
              "title": "Redirect Uri"
            },
            "description": "Redirect URI used for token exchange"
          },
          {
            "name": "error",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Kakao OAuth error",
              "title": "Error"
            },
            "description": "Kakao OAuth error"
          },
          {
            "name": "error_description",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Kakao OAuth error description",
              "title": "Error Description"
            },
            "description": "Kakao OAuth error description"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            }
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/kakao/exchange": {
      "post": {
        "tags": [
          "카카오 로그인"
        ],
        "summary": "카카오 인가 코드 교환 및 JWT 발급",
        "description": "프론트/모바일에서 code를 받은 뒤 호출하는 엔드포인트.\n- 백엔드에서 카카오 토큰 교환/프로필 조회/사용자 동기화 후 JWT를 발급한다.\n- redirect_uri는 인가 코드 요청 시 사용한 값과 반드시 일치해야 한다.",
        "operationId": "kakao_code_exchange_api_v1_auth_kakao_exchange_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/KakaoCodeExchangeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            }
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/social/login-url": {
      "get": {
        "tags": [
          "소셜 로그인"
        ],
        "summary": "소셜 로그인 인가 URL 발급 (PKCE)",
        "description": "소셜 인가 코드 요청 URL 반환 (모바일 PKCE 권장)\n\n모바일 적용 상세 가이드 (Authorization Code + PKCE)\n---------------------------------------------------\n이 엔드포인트는 **소셜 제공자 로그인 화면 URL**을 만들어 줍니다.\n실제 로그인은 **모바일 브라우저(Custom Tabs / ASWebAuthenticationSession)**에서 진행해야 합니다.\n\n1) 앱에서 PKCE 값 생성\n   - code_verifier: 43~128 길이의 랜덤 문자열\n   - code_challenge: BASE64URL(SHA256(code_verifier))\n   - code_challenge_method: \"S256\"\n\n   예: (pseudo)\n   - code_verifier = random(43~128)\n   - code_challenge = base64url(sha256(code_verifier))\n\n2) 이 API 호출로 인가 URL 획득\n   - provider: kakao / naver / google / apple\n   - redirect_uri: 모바일 딥링크/유니버설 링크 (예: myapp://oauth/kakao)\n   - code_challenge / code_challenge_method 전달\n\n   예:\n   GET /api/v1/auth/social/login-url?provider=google\n       &redirect_uri=myapp://oauth/google\n       &code_challenge=abc...xyz\n       &code_challenge_method=S256\n\n3) 응답의 authorize_url을 브라우저로 열기\n   - Custom Tabs / ASWebAuthenticationSession 등 사용\n   - 로그인/동의 완료 후 redirect_uri로 302 이동\n\n4) redirect_uri에서 code 추출\n   - 앱에서 딥링크 콜백을 처리하여 code, state를 추출\n   - state는 요청 시 저장한 값과 일치하는지 검증 권장\n\n5) code 교환은 /api/v1/auth/social/exchange 사용\n\n주의사항\n- redirect_uri는 **각 소셜 콘솔(Kakao/Naver/Google/Apple)에 사전 등록**되어 있어야 합니다.\n- login-url은 단순히 URL 생성만 하며, 로그인 완료는 다음 단계(exchange)에서 이루어집니다.",
        "operationId": "get_social_login_url_api_v1_auth_social_login_url_get",
        "parameters": [
          {
            "name": "provider",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "소셜 제공자 (kakao/naver/google/apple)",
              "title": "Provider"
            },
            "description": "소셜 제공자 (kakao/naver/google/apple)"
          },
          {
            "name": "redirect_uri",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "커스텀 Redirect URI. 미전달 시 설정값 사용",
              "title": "Redirect Uri"
            },
            "description": "커스텀 Redirect URI. 미전달 시 설정값 사용"
          },
          {
            "name": "scope",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "동의항목 scope (공백/쉼표 구분). 미전달 시 설정값 사용",
              "title": "Scope"
            },
            "description": "동의항목 scope (공백/쉼표 구분). 미전달 시 설정값 사용"
          },
          {
            "name": "prompt",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "prompt 값 (provider별 옵션)",
              "title": "Prompt"
            },
            "description": "prompt 값 (provider별 옵션)"
          },
          {
            "name": "state",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "CSRF 방지용 state. 미전달 시 서버에서 생성",
              "title": "State"
            },
            "description": "CSRF 방지용 state. 미전달 시 서버에서 생성"
          },
          {
            "name": "code_challenge",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "PKCE code_challenge (모바일 권장)",
              "title": "Code Challenge"
            },
            "description": "PKCE code_challenge (모바일 권장)"
          },
          {
            "name": "code_challenge_method",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "PKCE code_challenge_method (S256 추천)",
              "title": "Code Challenge Method"
            },
            "description": "PKCE code_challenge_method (S256 추천)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SocialAuthorizeURLResponse"
                }
              }
            }
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/social/exchange": {
      "post": {
        "tags": [
          "소셜 로그인"
        ],
        "summary": "소셜 인가 코드 교환 및 JWT 발급 (PKCE)",
        "description": "모바일/웹에서 code를 받은 뒤 호출하는 엔드포인트.\n- 소셜 토큰 교환/프로필 조회/사용자 동기화 후 **우리 서비스 JWT**를 발급한다.\n- include_refresh_token=true이면 refresh_token을 응답 본문에도 포함한다.\n\n모바일 적용 상세 가이드 (Authorization Code + PKCE)\n---------------------------------------------------\n이 단계는 **인가 코드(code)**를 우리 서버로 넘겨\n**우리 서비스용 JWT(access_token/refresh_token)**를 발급받는 단계입니다.\n\n1) 앞 단계에서 얻은 code와 code_verifier를 준비\n   - code: redirect_uri에서 받은 인가 코드\n   - code_verifier: 1단계에서 만든 값 (code_challenge의 원본)\n\n2) 교환 요청 (모바일 권장 JSON)\n   POST /api/v1/auth/social/exchange\n   {\n     \"provider\": \"google\",\n     \"code\": \"AUTH_CODE\",\n     \"redirect_uri\": \"myapp://oauth/google\",\n     \"code_verifier\": \"PKCE_VERIFIER\",\n     \"state\": \"optional\",\n     \"include_refresh_token\": true\n   }\n\n3) 응답 처리\n   - access_token: 이후 API 호출 시 Authorization: Bearer {access_token}\n   - refresh_token: HttpOnly 쿠키로 설정 + (모바일이면 응답 본문에도 포함)\n     모바일은 Keychain/Keystore 같은 Secure Storage에 저장 권장\n\n4) 토큰 갱신 (모바일)\n   POST /api/v1/auth/refresh\n   { \"refresh_token\": \"RT...\" }\n\n중요 포인트\n- **소셜 제공자의 access_token이 아니라, 이 응답의 access_token이 우리 서비스 인증용 토큰입니다.**\n- redirect_uri는 인가 요청에 사용한 값과 **완전히 동일**해야 합니다.\n- 이메일이 이미 가입된 계정이면 409 에러로 차단됩니다.\n- Apple은 최초 동의 이후 email이 내려오지 않을 수 있으므로, email scope/재동의 플로우를 확인하세요.",
        "operationId": "social_code_exchange_api_v1_auth_social_exchange_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SocialCodeExchangeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SocialLoginResponse"
                }
              }
            }
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/kakao/logout": {
      "post": {
        "tags": [
          "카카오 로그인"
        ],
        "summary": "카카오 로그아웃(토큰 폐기) + 서비스 로그아웃",
        "description": "카카오 API의 `POST /v1/user/logout`(Admin Key 방식)을 호출해 카카오 토큰을 폐기하고,\n우리 서비스의 refresh_token도 함께 무효화한다.",
        "operationId": "kakao_logout_api_v1_auth_kakao_logout_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KakaoTokenRevokeResponse"
                }
              }
            }
          },
          "404": {
            "description": "찾을 수 없음"
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/v1/auth/kakao/unlink": {
      "post": {
        "tags": [
          "카카오 로그인"
        ],
        "summary": "카카오 연결 해제(동의 철회) + 서비스 로그아웃",
        "description": "카카오 API의 `POST /v1/user/unlink`(Admin Key 방식)을 호출해 연결을 해제하고,\n우리 서비스의 refresh_token도 함께 무효화한다.",
        "operationId": "kakao_unlink_api_v1_auth_kakao_unlink_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KakaoTokenRevokeResponse"
                }
              }
            }
          },
          "404": {
            "description": "찾을 수 없음"
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/v1/auth/kakao/account-logout": {
      "get": {
        "tags": [
          "카카오 로그인"
        ],
        "summary": "카카오계정과 함께 로그아웃(브라우저 세션 만료) 리다이렉트",
        "description": "- 우리 서비스: refresh_token 쿠키가 있으면 먼저 무효화/삭제한다.\n- 카카오: 카카오계정 브라우저 세션을 만료시키는 로그아웃 URL로 302 리다이렉트한다.",
        "operationId": "kakao_account_logout_api_v1_auth_kakao_account_logout_get",
        "parameters": [
          {
            "name": "logout_redirect_uri",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Kakao Developers에 등록된 로그아웃 리다이렉트 URI(미전달 시 설정값 사용)",
              "title": "Logout Redirect Uri"
            },
            "description": "Kakao Developers에 등록된 로그아웃 리다이렉트 URI(미전달 시 설정값 사용)"
          },
          {
            "name": "state",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "유지하고 싶은 state 값(선택)",
              "title": "State"
            },
            "description": "유지하고 싶은 state 값(선택)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/login": {
      "post": {
        "tags": [
          "인증"
        ],
        "summary": "Login For Access Token",
        "description": "사용자 로그인 (OAuth2 표준 형식)\n\n**요청 파라미터:**\n- **username**: 이메일 주소 (예: admin@example.com)\n- **password**: 비밀번호 (예: password123)\n\n**응답 정보:**\n- **access_token**: JWT 액세스 토큰 (Bearer 토큰으로 API 요청 시 사용)\n- **token_type**: 토큰 타입 (bearer)\n- **user_id**: 사용자 ID (TBL_SVC_USER.ID)\n- **email**: 이메일 주소 (TBL_SVC_USER.EMAIL)\n- **name**: 사용자 이름 (TBL_SVC_USER.NAME)\n- **user_type**: 사용자 타입 (0:비회원, 1:비인증회원, 2:인증회원, 3:그룹생성자, 4:코치(활동정지), 5:코치(활동중), 6:관리자, 9:임시회원)\n- **user_type_name**: 사용자 타입명 (한글)\n- **is_admin**: 관리자 여부 (TYPE이 6인 경우 true)\n- **is_coach**: 활성 코치 여부 (TYPE이 5인 경우 true)\n- **role**: 사용자 역할 (USER:일반사용자, PARENT:맥스학원부모, STUDENT:맥스학원학생, COUNSELOR:상담사)\n- **counseling_client**: 매칭된 내담자 정보 (승인된 경우만 반환)\n    - **client_id**: 내담자 ID\n    - **student_name**: 학생(내담자) 이름\n    - **parent_name**: 학부모 이름 (있는 경우만)\n    - **grade**: 학년 (있는 경우만)\n    - **academic_track**: 계열(문과/이과 등, 있는 경우만)\n    - **institution_name**: 소속 기관명 (있는 경우만)\n    - **approval_role**: 승인된 역할 (student/parent1/parent2)\n    - **is_approved**: 승인 여부 (항상 true, 승인된 경우만 반환되므로)\n\n**JWT 토큰 포함 정보:**\nJWT 액세스 토큰에는 응답 본문의 모든 사용자 정보와 내담자 정보(승인된 경우)가 포함되어 있으며, API 인증 시 토큰에서 직접 사용자 및 내담자 정보를 추출할 수 있습니다.\n\n**내담자 승인 시스템:**\n- 관리자가 TBL_SVC_USER의 사용자를 counseling_client 테이블의 student_user_id, parent1_user_id, parent2_user_id에 매칭시키면 승인됨\n- 승인된 사용자만 counseling_client 정보가 로그인 응답에 포함됨\n- 각 내담자당 최대 3명의 사용자(학생, 부모1, 부모2)가 승인될 수 있음\n\n**참고사항:**\n- 리프레시 토큰은 HTTP-only 쿠키로 안전하게 전달됩니다\n- 액세스 토큰은 Bearer 토큰으로 Authorization 헤더에 포함하여 사용하세요\n\n**토큰 관리:**\n- 로그인 시 최근 2개의 토큰만 유지하고 나머지는 자동으로 무효화됩니다\n- 이는 토큰이 무한정 쌓이는 것을 방지하고 보안을 강화합니다\n- 오래된 디바이스나 세션은 자동으로 정리되어 안전성을 보장합니다",
        "operationId": "login_for_access_token_api_v1_auth_login_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_login_for_access_token_api_v1_auth_login_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            }
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/logout": {
      "post": {
        "tags": [
          "인증"
        ],
        "summary": "Logout",
        "description": "사용자 로그아웃\n\n**기능:**\n- 현재 로그인된 사용자를 로그아웃 처리\n- 사용자의 모든 활성 Refresh Token 무효화 (보안 강화)\n- 쿠키에서 토큰 제거\n\n**응답 정보:**\n- **message**: 로그아웃 완료 메시지\n\n**처리 과정:**\n1. 현재 사용자의 모든 활성 토큰 조회\n2. 모든 활성 토큰을 무효화 처리\n3. 쿠키에서 토큰 삭제\n4. 로그아웃 완료 응답\n\n**보안 강화:**\n- 모든 디바이스에서 동시 로그아웃 (세션 보안 강화)\n- 이전에 발급된 토큰들도 모두 무효화\n- 토큰이 없어도 정상적으로 로그아웃 처리\n- 오류 발생 시에도 쿠키 삭제로 안전 보장\n\n**CORS 정보:**\n- Authorization 헤더를 포함한 요청 지원\n- Preflight 요청에서 Authorization 헤더 명시적 허용\n- 허용된 출처: localhost:3000, localhost:5500, 54.180.104.98\n- credentials 포함 요청 지원 (쿠키 및 Authorization 헤더)\n\n**참고:**\n- 로그아웃 후 다른 디바이스에서도 재로그인이 필요합니다\n- 보안상 권장되는 방식으로 모든 세션을 종료합니다",
        "operationId": "logout_api_v1_auth_logout_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LogoutResponse"
                }
              }
            }
          },
          "404": {
            "description": "찾을 수 없음"
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/v1/auth/send-verification-email": {
      "post": {
        "tags": [
          "인증"
        ],
        "summary": "Send Verification Email",
        "description": "이메일 인증 메일 발송\n\n**요청 파라미터:**\n- **email**: 인증할 이메일 주소\n- **verification_url_base**: 프론트엔드 인증 페이지 URL (예: https://example.com/verify)\n\n**응답:**\n- **success**: 발송 성공 여부\n- **message**: 결과 메시지\n\n**처리 과정:**\n1. 사용자 정보 확인\n2. 인증 코드 생성 및 저장\n3. 이메일 발송\n4. AUTH_STATUS를 \"1\"로 업데이트",
        "operationId": "send_verification_email_api_v1_auth_send_verification_email_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmailVerificationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Send Verification Email Api V1 Auth Send Verification Email Post"
                }
              }
            }
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/verify-email": {
      "post": {
        "tags": [
          "인증"
        ],
        "summary": "Verify Email",
        "description": "이메일 인증 코드 확인\n\n**요청 파라미터:**\n- **auth_code**: 이메일로 받은 인증 코드\n\n**응답:**\n- **success**: 인증 성공 여부\n- **message**: 결과 메시지\n\n**처리 과정:**\n1. 인증 코드로 사용자 조회\n2. 사용자 TYPE을 2(인증회원)로 변경\n3. AUTH_STATUS를 \"2\"로 업데이트\n4. AUTH_CODE 삭제",
        "operationId": "verify_email_api_v1_auth_verify_email_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmailVerificationConfirm"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Verify Email Api V1 Auth Verify Email Post"
                }
              }
            }
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/resend-verification-email": {
      "post": {
        "tags": [
          "인증"
        ],
        "summary": "Resend Verification Email",
        "description": "인증 메일 재발송\n\n**요청 파라미터:**\n- **email**: 재발송할 이메일 주소\n- **verification_url_base**: 프론트엔드 인증 페이지 URL\n\n**응답:**\n- **success**: 발송 성공 여부\n- **message**: 결과 메시지",
        "operationId": "resend_verification_email_api_v1_auth_resend_verification_email_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmailVerificationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Resend Verification Email Api V1 Auth Resend Verification Email Post"
                }
              }
            }
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/refresh": {
      "post": {
        "tags": [
          "인증"
        ],
        "summary": "Refresh Access Token",
        "description": "Access Token 갱신\n\n**요청 방식:**\n- Refresh Token은 HTTP-only 쿠키에서 자동으로 추출\n- 모바일 등 쿠키 사용이 어려운 경우 JSON 바디로 전달 가능\n\n**응답 정보:**\n- **access_token**: 새로운 JWT 액세스 토큰\n- **token_type**: 토큰 타입 (bearer)\n\n**에러 응답:**\n- **401**: Refresh Token이 없거나 만료됨\n- **403**: 무효화된 토큰\n\n**토큰 갱신 정책:**\n\n**1. 보안 원칙**\n- **단일 용도**: Refresh Token은 Access Token 갱신 전용\n- **재사용 방지**: 사용된 Refresh Token은 추적 관리\n- **만료 관리**: 7일 후 자동 만료, 사용 시 last_used_at 업데이트\n- **도난 방지**: 비정상적인 사용 패턴 감지 시 토큰 무효화\n\n**2. 자동 갱신 정책**\n- **만료 전 갱신**: Access Token 만료 5분 전부터 갱신 가능\n- **연장 제한**: Refresh Token 자체는 갱신되지 않음 (재로그인 필요)\n- **사용자 정보**: 갱신 시 최신 사용자 정보와 권한을 반영\n- **내담자 정보**: 승인 상태 변경사항을 실시간 반영\n\n**3. 실패 처리**\n- **자동 정리**: 만료된 토큰 자동 삭제\n- **재로그인 유도**: 갱신 실패 시 로그인 페이지로 리다이렉트 필요\n- **오류 로깅**: 토큰 갱신 실패 이력 기록\n- **보안 알림**: 반복적인 실패 시 계정 보안 점검 알림",
        "operationId": "refresh_access_token_api_v1_auth_refresh_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "$ref": "#/components/schemas/RefreshTokenRequest"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Payload"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RefreshTokenResponse"
                }
              }
            }
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/check-email": {
      "post": {
        "tags": [
          "사용자"
        ],
        "summary": "Check Email",
        "description": "이메일 중복 체크\n\n회원가입 전 이메일 사용 가능 여부를 확인합니다.\n- 이미 등록된 이메일인지 확인\n- 사용 가능 여부 반환",
        "operationId": "check_email_api_v1_users_check_email_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmailCheckRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailCheckResponse"
                }
              }
            }
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/register": {
      "post": {
        "tags": [
          "사용자"
        ],
        "summary": "Register User",
        "description": "사용자 회원가입\n\n**요청 바디:**\n- **EMAIL**: 이메일 주소 (필수, 고유값, 사용자 ID로 사용)\n- **PASSWORD**: 비밀번호 (필수, 8-20자, 영문/숫자/특수기호 조합)\n- **GENDER**: 성별 (필수, \"남\" 또는 \"여\", 최대 4자)\n- **NAME**: 이름 (필수, 최대 30자)\n- **BIRTHDAY**: 생년월일 (필수, YYYYMMDD 형식, 8자리)\n- **MOBILE_NUMBER**: 휴대폰 번호 (선택적, 최대 30자, 숫자만 또는 +로 시작하는 국제번호, 하이픈 불허용)\n    - 한국번호 예시: 01012345678 (10-11자리)\n    - 국제번호 예시: +821012345678, +8615012345678 (10-20자리)\n- **JOB**: 직업 (선택적, 최대 20자)\n- **ADDRESS**: 주소 (선택적, 최대 50자)\n- **EDUCATION**: 학력 (선택적, 최대 10자)\n- **ROLE**: 사용자 역할 (선택적, USER/PARENT/STUDENT/COUNSELOR 등)\n- **TERMS_AGREED**: 이용약관 동의 (필수, Y 또는 N)\n- **PRIVACY_AGREED**: 개인정보 취급방침 동의 (필수, Y 또는 N)\n- **MAIL_YN**: 메일 수신 동의 (선택적, 기본값: Y, Y 또는 N)\n\n**응답 정보:**\n- **success**: 성공 여부 (boolean)\n- **message**: 응답 메시지\n- **user_id**: 생성된 사용자 ID (성공 시)\n\n**에러 응답:**\n- **400**: 이미 존재하는 이메일, 잘못된 요청 데이터\n- **422**: 유효성 검증 실패 (필수 필드 누락, 형식 오류)\n- **500**: 서버 내부 오류\n\n**처리 과정:**\n1. **이메일 중복 확인**: 기존 사용자와 이메일 중복 검사\n2. **비밀번호 암호화**: 기존 Java 시스템 호환 암호화 (userId:password → MD5 → SHA1 → Base64)\n3. **AUTH_CODE 생성**: 이메일 인증용 코드 자동 생성\n4. **사용자 타입 설정**: 기본값 1 (비인증회원)\n5. **타임스탬프 설정**: CREATE_DATE, MODIFY_DATE 자동 설정\n6. **데이터베이스 저장**: TBL_SVC_USER 테이블에 새 레코드 생성\n\n**사용자 타입 (TYPE):**\n- 0: 비회원\n- 1: 비인증회원 (가입 직후 기본값)\n- 2: 인증회원 (이메일 인증 완료)\n- 3: 그룹생성자\n- 4: 코치 (활동정지)\n- 5: 코치 (활동 중)\n- 6: 관리자\n\n**특징:**\n- **보안**: 비밀번호는 기존 시스템과 호환되는 방식으로 암호화\n- **인증 시스템**: 가입 후 이메일 인증이 필요한 구조\n- **약관 동의**: 이용약관과 개인정보 처리방침 동의 필수\n- **마케팅 수신**: 메일 수신 동의는 선택사항 (기본값: 동의)\n- **데이터 완전성**: 모든 필수 정보 검증 후 저장",
        "operationId": "register_user_api_v1_users_register_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserRegister"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRegisterResponse"
                }
              }
            }
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/checklists/": {
      "get": {
        "tags": [
          "체크리스트"
        ],
        "summary": "Get Checklist List",
        "description": "체크리스트 목록 조회\n\n**응답 정보:**\n- **Array**: 체크리스트 목록 배열\n    - **checklist_id**: 체크리스트 ID\n    - **checklist_name**: 체크리스트 이름\n    - **description**: 설명\n    - **question_count**: 문항 개수\n    - **is_active**: 사용 여부\n    - **created_at**: 생성 시간\n\n**특징:**\n- 전체 목록: 모든 체크리스트 반환\n- 문항 개수: 각 체크리스트의 문항 수 포함\n- 활성 상태: 사용 가능한 체크리스트 구분",
        "operationId": "get_checklist_list_api_v1_checklists__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ChecklistListResponse"
                  },
                  "type": "array",
                  "title": "Response Get Checklist List Api V1 Checklists  Get"
                }
              }
            }
          },
          "404": {
            "description": "찾을 수 없음"
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/v1/checklists/{checklist_id}": {
      "get": {
        "tags": [
          "체크리스트"
        ],
        "summary": "Get Checklist Detail",
        "description": "체크리스트 상세 조회\n\n**요청 파라미터:**\n- **checklist_id**: 체크리스트 ID (경로 변수)\n\n**응답 정보:**\n- **checklist_id**: 체크리스트 ID\n- **checklist_name**: 체크리스트 이름\n- **description**: 설명\n- **is_active**: 사용 여부\n- **created_at**: 생성 시간\n- **questions**: 문항 목록 배열\n    - **question_id**: 문항 ID\n    - **question_text**: 문항 내용\n    - **question_order**: 문항 순서\n    - **category**: 문항 카테고리\n    - **is_required**: 필수 여부\n\n**에러 응답:**\n- **404**: 해당 ID의 체크리스트를 찾을 수 없음\n\n**특징:**\n- 완전한 정보: 체크리스트와 모든 문항 포함\n- 순서 정렬: 문항들이 순서대로 정렬됨\n- 체크리스트 기본 정보 (이름, 설명, 척도 수 등)\n- 모든 문항 정보 (문항 번호, 내용, 카테고리, 가중치 등)",
        "operationId": "get_checklist_detail_api_v1_checklists__checklist_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "checklist_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Checklist Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChecklistDetailResponse"
                }
              }
            }
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/checklists/responses": {
      "post": {
        "tags": [
          "체크리스트"
        ],
        "summary": "Save Checklist Response",
        "description": "체크리스트 단일 응답 저장\n\n체크리스트의 특정 문항에 대한 응답을 저장합니다.\n- assignment_id: 상담 과제 ID\n- respondent_type: 응답자 유형 (counselor/client)\n- checklist_id: 체크리스트 ID\n- question_id: 문항 ID\n- response_score: 응답 점수 (숫자 1~5 입력)\n\nresponse_binary는 자동으로 변환됩니다:\n- 숫자 1 → '10000'\n- 숫자 2 → '01000'\n- 숫자 3 → '00100'\n- 숫자 4 → '00010'\n- 숫자 5 → '00001'",
        "operationId": "save_checklist_response_api_v1_checklists_responses_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChecklistResponseCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChecklistResultSaveResponse"
                }
              }
            }
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/v1/checklists/responses/batch": {
      "post": {
        "tags": [
          "체크리스트"
        ],
        "summary": "Save Checklist Responses Batch",
        "description": "체크리스트 응답 일괄 저장\n\n체크리스트의 여러 문항에 대한 응답을 한 번에 저장합니다.\n- assignment_id: 상담 과제 ID\n- respondent_type: 응답자 유형 (counselor/client)\n- checklist_id: 체크리스트 ID\n- responses: 응답 목록 [{\"question_id\": 1, \"response_score\": 3}, ...] (response_score는 숫자 1~5)\n\n기존 응답이 있으면 업데이트하고, 없으면 새로 생성합니다.",
        "operationId": "save_checklist_responses_batch_api_v1_checklists_responses_batch_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChecklistResponseBatch"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChecklistResultSaveResponse"
                }
              }
            }
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/v1/checklists/results/{assignment_id}": {
      "get": {
        "tags": [
          "체크리스트"
        ],
        "summary": "Get Checklist Results",
        "description": "체크리스트 결과 조회\n\n특정 상담 과제의 체크리스트 응답 결과를 조회합니다.\n- assignment_id: 상담 과제 ID (필수)\n- checklist_id: 체크리스트 ID (선택적)\n- respondent_type: 응답자 유형 (선택적, counselor/client)",
        "operationId": "get_checklist_results_api_v1_checklists_results__assignment_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "assignment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Assignment Id"
            }
          },
          {
            "name": "checklist_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Checklist Id"
            }
          },
          {
            "name": "respondent_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Respondent Type"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ChecklistResultResponse"
                  },
                  "title": "Response Get Checklist Results Api V1 Checklists Results  Assignment Id  Get"
                }
              }
            }
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/docs/openapi.json": {
      "get": {
        "tags": [
          "문서"
        ],
        "summary": "OpenAPI JSON 다운로드",
        "description": "OpenAPI 스키마를 JSON으로 반환합니다.\n- Content-Disposition 헤더를 추가해 파일로 저장하기 쉽게 만듭니다.",
        "operationId": "download_openapi_json_api_v1_docs_openapi_json_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/counseling/assignments": {
      "get": {
        "tags": [
          "상담 배정"
        ],
        "summary": "[ADMIN] 상담 배정 목록 조회",
        "description": "상담 배정 목록 조회 (페이지네이션 지원)\n\n**권한 요구사항: ADMIN만 접근 가능**\n\n**요청 파라미터:**\n- **page**: 페이지 번호 (기본값: 1, 최소: 1)\n- **page_size**: 페이지 크기 (기본값: 20, 최소: 1, 최대: 100)\n- **program_id**: 프로그램 ID로 필터링 (선택적)\n- **session_id**: 세션 ID로 필터링 (선택적)\n- **counselor_id**: 상담사 ID로 필터링 (선택적)\n- **client_id**: 내담자 ID로 필터링 (선택적)\n- **attribute**: CP(맥스 시스템) 또는 SP(기타)로 필터링 (선택적)\n- **account_id**: TBL_SVC_ACCOUNT 참조 ID로 필터링 (선택적)\n- **start_date**: 상담 날짜 시작 범위 (YYYY-MM-DD 형식, 선택적)\n- **end_date**: 상담 날짜 종료 범위 (YYYY-MM-DD 형식, 선택적)\n\n**응답 정보:**\n- **data**: 상담 배정 목록 배열\n    - **assignment_id**: 배정 고유 ID\n    - **session_id**: 세션 ID\n    - **counselor_id**: 상담사 ID  \n    - **client_id**: 내담자 ID\n    - **counseling_date**: 상담 날짜 (YYYY-MM-DD 형식)\n    - **counseling_time**: 상담 시간 (HH:MM:SS 형식)\n    - **attribute**: 속성 (CP: 맥스 시스템, SP: 기타)\n    - **account_id**: TBL_SVC_ACCOUNT 참조 ID\n    - **memo**: 메모\n    - **checklist_disabled**: 체크리스트 비활성화 여부 (0: 활성, 1: 비활성)\n    - **counselor_info**: 상담사 정보 객체\n        - **id**: 상담사 ID\n        - **name**: 상담사 이름\n        - **contact**: 연락처\n        - **email**: 이메일\n        - **web_user_id**: 웹 사용자 ID\n        - **crm_user_id**: CRM 사용자 ID\n        - **attribute**: 상담사 속성\n        - **memo**: 상담사 메모\n    - **client_info**: 내담자 정보 객체\n        - **id**: 내담자 ID\n        - **name**: 내담자(학생) 이름\n        - **type**: 내담자 타입 (CP/SP)\n        - **parent_name**: 학부모 이름\n        - **parent_contact**: 학부모 연락처\n        - **parent_email**: 학부모 이메일\n        - **birth_date**: 생년월일\n        - **grade**: 학년\n        - **academic_track**: 계열(문과/이과 등)\n        - **contact**: 내담자 연락처\n        - **email**: 내담자 이메일\n        - **application_source**: 신청 경로\n        - **institution_name**: 소속 기관명\n        - **application_reason**: 상담 신청 이유\n    - **session_info**: 세션 정보 객체 (연결된 경우)\n        - **session_id**: 세션 ID\n        - **session_name**: 세션 이름\n        - **session_order**: 세션 순서\n        - **subsession_name**: 하위 세션 이름\n        - **month**: 월 정보\n        - **week**: 주 정보\n        - **program_info**: 프로그램 정보 객체\n            - **program_id**: 프로그램 ID\n            - **program_name**: 프로그램 이름\n            - **start_date**: 시작 날짜\n            - **end_date**: 종료 날짜\n            - **year**: 연도\n            - **semester**: 학기\n            - **subprogram_name**: 하위 프로그램 이름\n            - **attribute**: 프로그램 속성\n- **total**: 전체 레코드 수\n- **page**: 현재 페이지 번호\n- **page_size**: 페이지 크기\n- **total_pages**: 전체 페이지 수\n- **has_next**: 다음 페이지 존재 여부\n- **has_prev**: 이전 페이지 존재 여부\n\n**특징:**\n- 복합 조인: 세션-프로그램 정보 자동 포함\n- 동적 필터링: 모든 필드에 대한 선택적 필터링\n- 상담사/내담자 정보: 각 배정에 연결된 상세 정보 포함\n- 날짜 범위 검색: start_date/end_date로 기간별 조회",
        "operationId": "get_counseling_assignments_api_v1_counseling_assignments_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "페이지 번호",
              "default": 1,
              "title": "Page"
            },
            "description": "페이지 번호"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "페이지 크기",
              "default": 20,
              "title": "Page Size"
            },
            "description": "페이지 크기"
          },
          {
            "name": "program_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "프로그램 ID",
              "title": "Program Id"
            },
            "description": "프로그램 ID"
          },
          {
            "name": "session_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "세션 ID",
              "title": "Session Id"
            },
            "description": "세션 ID"
          },
          {
            "name": "counselor_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "상담사 ID",
              "title": "Counselor Id"
            },
            "description": "상담사 ID"
          },
          {
            "name": "client_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "내담자 ID",
              "title": "Client Id"
            },
            "description": "내담자 ID"
          },
          {
            "name": "attribute",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "속성 (CP 또는 SP)",
              "title": "Attribute"
            },
            "description": "속성 (CP 또는 SP)"
          },
          {
            "name": "account_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "TBL_SVC_ACCOUNT 참조 ID",
              "title": "Account Id"
            },
            "description": "TBL_SVC_ACCOUNT 참조 ID"
          },
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "시작 날짜",
              "title": "Start Date"
            },
            "description": "시작 날짜"
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "종료 날짜",
              "title": "End Date"
            },
            "description": "종료 날짜"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CounselingAssignmentList"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - 일부 작업은 ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "상담 배정"
        ],
        "summary": "[ADMIN] 상담 배정 생성",
        "description": "새로운 상담 배정 생성\n\n**권한 요구사항: ADMIN만 접근 가능**\n\n**요청 바디:**\n- **session_id**: 세션 ID (필수)\n- **counselor_id**: 상담사 ID (필수)\n- **client_id**: 내담자 ID (필수)\n- **counseling_date**: 상담 날짜 (YYYY-MM-DD 형식, 선택적)\n- **counseling_time**: 상담 시간 (HH:MM:SS 형식, 선택적)\n- **attribute**: 속성 (CP/SP, 선택적)\n- **account_id**: TBL_SVC_ACCOUNT 참조 ID (선택적)\n- **memo**: 메모 (선택적)\n- **checklist_disabled**: 체크리스트 비활성화 여부 (선택적, 기본값: 0)\n\n**응답 정보:**\n생성된 상담 배정의 상세 정보 (위 상세 조회와 동일한 구조)\n\n**에러 응답:**\n- **404**: 세션, 상담사, 또는 내담자를 찾을 수 없음\n- **400**: 잘못된 요청 데이터\n- **422**: 유효성 검증 실패\n\n**유효성 검증:**\n- 세션 ID 존재 여부 확인\n- 상담사 ID 존재 여부 확인  \n- 내담자 ID 존재 여부 확인",
        "operationId": "create_counseling_assignment_api_v1_counseling_assignments_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CounselingAssignmentCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CounselingAssignment"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - 일부 작업은 ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/counseling/assignments/{assignment_id}": {
      "get": {
        "tags": [
          "상담 배정"
        ],
        "summary": "[ADMIN] 상담 배정 상세 조회",
        "description": "특정 상담 배정 상세 조회\n\n**권한 요구사항: ADMIN만 접근 가능**\n\n**요청 파라미터:**\n- **assignment_id**: 조회할 배정 ID (경로 변수)\n\n**응답 정보:**\n- **assignment_id**: 배정 고유 ID\n- **session_id**: 세션 ID\n- **counselor_id**: 상담사 ID  \n- **client_id**: 내담자 ID\n- **counseling_date**: 상담 날짜 (YYYY-MM-DD 형식)\n- **counseling_time**: 상담 시간 (HH:MM:SS 형식)\n- **attribute**: 속성 (CP: 맥스 시스템, SP: 기타)\n- **account_id**: TBL_SVC_ACCOUNT 참조 ID\n- **assigned_date**: 배정 날짜\n- **changed_date**: 수정 날짜\n- **memo**: 메모\n- **checklist_disabled**: 체크리스트 비활성화 여부\n- **counselor_info**: 상담사 상세 정보 (위 목록 조회와 동일)\n- **client_info**: 내담자 상세 정보 (위 목록 조회와 동일)\n- **session**: 연결된 세션 정보 (프로그램 정보 포함)\n\n**에러 응답:**\n- **404**: 해당 ID의 상담 배정을 찾을 수 없음",
        "operationId": "get_counseling_assignment_api_v1_counseling_assignments__assignment_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "assignment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Assignment Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CounselingAssignment"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - 일부 작업은 ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "상담 배정"
        ],
        "summary": "[ADMIN] 상담 배정 수정",
        "description": "상담 배정 수정\n\n**권한 요구사항: ADMIN만 접근 가능**\n\n**요청 파라미터:**\n- **assignment_id**: 수정할 배정 ID (경로 변수)\n\n**요청 바디:**\n- **session_id**: 세션 ID (선택적)\n- **counselor_id**: 상담사 ID (선택적)\n- **client_id**: 내담자 ID (선택적)\n- **counseling_date**: 상담 날짜 (선택적)\n- **counseling_time**: 상담 시간 (선택적)\n- **attribute**: 속성 (선택적)\n- **account_id**: TBL_SVC_ACCOUNT 참조 ID (선택적)\n- **memo**: 메모 (선택적)\n- **checklist_disabled**: 체크리스트 비활성화 여부 (선택적)\n\n**응답 정보:**\n수정된 상담 배정의 상세 정보 (상세 조회와 동일한 구조)\n\n**에러 응답:**\n- **404**: 배정 또는 상담사를 찾을 수 없음\n- **400**: 잘못된 요청 데이터\n- **422**: 유효성 검증 실패\n\n**특징:**\n- 부분 업데이트: 제공된 필드만 수정 (exclude_unset=True)\n- 상담사 변경 시 자동으로 changed_date 업데이트\n- 상담사 존재 여부 검증\n- 관계 데이터 자동 로드 (상담사/내담자 정보 포함)",
        "operationId": "update_counseling_assignment_api_v1_counseling_assignments__assignment_id__put",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "assignment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Assignment Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CounselingAssignmentUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CounselingAssignment"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - 일부 작업은 ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "상담 배정"
        ],
        "summary": "[ADMIN] 상담 배정 삭제",
        "description": "상담 배정 삭제\n\n**권한 요구사항: ADMIN만 접근 가능**\n\n**요청 파라미터:**\n- **assignment_id**: 삭제할 배정 ID (경로 변수)\n\n**응답 정보:**\n- **message**: 삭제 완료 메시지\n\n**에러 응답:**\n- **404**: 해당 ID의 상담 배정을 찾을 수 없음\n\n**특징:**\n- 물리적 삭제: 데이터베이스에서 완전히 제거\n- 관련 데이터: 체크리스트 결과 등 관련 데이터도 함께 삭제됨\n- 되돌릴 수 없음: 삭제 후 복구 불가능",
        "operationId": "delete_counseling_assignment_api_v1_counseling_assignments__assignment_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "assignment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Assignment Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "403": {
            "description": "권한 없음 - 일부 작업은 ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/counseling/assignments/by-counselor/{counselor_id}": {
      "get": {
        "tags": [
          "상담 배정"
        ],
        "summary": "[모든 사용자] 상담사별 배정 조회",
        "description": "특정 상담사의 배정 목록 조회\n\n**요청 파라미터:**\n- **counselor_id**: 상담사 ID (경로 변수)\n- **page**: 페이지 번호 (기본값: 1, 최소: 1)\n- **page_size**: 페이지 크기 (기본값: 20, 최소: 1, 최대: 100)\n- **start_date**: 상담 날짜 시작 범위 (YYYY-MM-DD 형식, 선택적)\n- **end_date**: 상담 날짜 종료 범위 (YYYY-MM-DD 형식, 선택적)\n- **attribute**: CP(맥스 시스템) 또는 SP(기타)로 필터링 (선택적)\n\n**응답 정보:**\n- 지정된 상담사에게 배정된 모든 상담 목록\n- 각 배정에 대한 상세 정보 (내담자, 세션, 프로그램 정보 포함)\n- 페이지네이션 정보\n\n**특징:**\n- 상담사별 전체 일정 확인 가능\n- 날짜 범위로 특정 기간 조회 가능\n- 내담자 정보와 프로그램 정보 자동 포함",
        "operationId": "get_assignments_by_counselor_api_v1_counseling_assignments_by_counselor__counselor_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "counselor_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Counselor Id"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "페이지 번호",
              "default": 1,
              "title": "Page"
            },
            "description": "페이지 번호"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "페이지 크기",
              "default": 20,
              "title": "Page Size"
            },
            "description": "페이지 크기"
          },
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "시작 날짜",
              "title": "Start Date"
            },
            "description": "시작 날짜"
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "종료 날짜",
              "title": "End Date"
            },
            "description": "종료 날짜"
          },
          {
            "name": "attribute",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "속성 (CP 또는 SP)",
              "title": "Attribute"
            },
            "description": "속성 (CP 또는 SP)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CounselingAssignmentList"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - 일부 작업은 ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/counseling/assignments/by-client/{client_id}": {
      "get": {
        "tags": [
          "상담 배정"
        ],
        "summary": "[모든 사용자] 내담자별 배정 조회",
        "description": "특정 내담자의 배정 목록 조회\n\n**요청 파라미터:**\n- **client_id**: 내담자 ID (경로 변수)\n- **page**: 페이지 번호 (기본값: 1, 최소: 1)\n- **page_size**: 페이지 크기 (기본값: 20, 최소: 1, 최대: 100)\n- **start_date**: 상담 날짜 시작 범위 (YYYY-MM-DD 형식, 선택적)\n- **end_date**: 상담 날짜 종료 범위 (YYYY-MM-DD 형식, 선택적)\n- **attribute**: CP(맥스 시스템) 또는 SP(기타)로 필터링 (선택적)\n\n**응답 정보:**\n- 지정된 내담자에게 배정된 모든 상담 목록\n- 각 배정에 대한 상세 정보 (상담사, 세션, 프로그램 정보 포함)\n- 페이지네이션 정보\n\n**특징:**\n- 내담자별 상담 이력 확인 가능\n- 날짜 범위로 특정 기간 조회 가능\n- 상담사 정보와 프로그램 정보 자동 포함",
        "operationId": "get_assignments_by_client_api_v1_counseling_assignments_by_client__client_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "client_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Client Id"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "페이지 번호",
              "default": 1,
              "title": "Page"
            },
            "description": "페이지 번호"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "페이지 크기",
              "default": 20,
              "title": "Page Size"
            },
            "description": "페이지 크기"
          },
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "시작 날짜",
              "title": "Start Date"
            },
            "description": "시작 날짜"
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "종료 날짜",
              "title": "End Date"
            },
            "description": "종료 날짜"
          },
          {
            "name": "attribute",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "속성 (CP 또는 SP)",
              "title": "Attribute"
            },
            "description": "속성 (CP 또는 SP)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CounselingAssignmentList"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - 일부 작업은 ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/counseling/counselors": {
      "get": {
        "tags": [
          "상담사 (ADMIN)"
        ],
        "summary": "[ADMIN] 상담사 목록 조회",
        "description": "상담사 목록 조회 (페이지네이션 지원)\n\n**권한 요구사항: ADMIN만 접근 가능**\n\n**요청 파라미터:**\n- **page**: 페이지 번호 (기본값: 1, 최소: 1)\n- **page_size**: 페이지 크기 (기본값: 20, 최소: 1, 최대: 100)\n- **name**: 상담사 이름으로 부분 검색 (선택적)\n- **email**: 이메일로 부분 검색 (선택적)\n- **attribute**: 과정구분으로 필터링 (선택적)\n- **web_user_id**: WEB 회원번호로 필터링 (선택적)\n- **crm_user_id**: CRM 회원번호로 필터링 (선택적)\n- **checklist_disabled**: 체크리스트 비활성화 여부로 필터링 (선택적)\n\n**응답 정보:**\n- **data**: 상담사 목록 배열\n    - **counselor_id**: 상담사 고유 ID\n    - **name**: 상담사 이름\n    - **contact**: 연락처\n    - **email**: 이메일 주소\n    - **gender**: 성별\n    - **attribute**: 과정구분/속성\n    - **major**: 전공\n    - **web_user_id**: WEB 회원번호 (TBL_SVC_USER 연결)\n    - **crm_user_id**: CRM 회원번호\n    - **status**: 상담사 상태\n    - **memo**: 메모\n    - **checklist_disabled**: 체크리스트 비활성화 여부 (0: 활성, 1: 비활성)\n    - **reg_date**: 등록 날짜\n    - **modify_date**: 수정 날짜\n- **total**: 전체 레코드 수\n- **page**: 현재 페이지 번호\n- **page_size**: 페이지 크기\n- **total_pages**: 전체 페이지 수\n- **has_next**: 다음 페이지 존재 여부\n- **has_prev**: 이전 페이지 존재 여부\n\n**특징:**\n- 다중 필터링: 이름, 이메일, 속성, 사용자 ID 등 다양한 조건 조합 가능\n- 부분 검색: 이름과 이메일은 부분 일치 검색 지원\n- 정렬: 상담사 ID 기준 오름차순 정렬",
        "operationId": "get_counselors_api_v1_counseling_counselors_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "페이지 번호",
              "default": 1,
              "title": "Page"
            },
            "description": "페이지 번호"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "페이지 크기",
              "default": 20,
              "title": "Page Size"
            },
            "description": "페이지 크기"
          },
          {
            "name": "name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "상담사 이름 (부분 검색)",
              "title": "Name"
            },
            "description": "상담사 이름 (부분 검색)"
          },
          {
            "name": "email",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "이메일 (부분 검색)",
              "title": "Email"
            },
            "description": "이메일 (부분 검색)"
          },
          {
            "name": "attribute",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "과정구분",
              "title": "Attribute"
            },
            "description": "과정구분"
          },
          {
            "name": "web_user_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "WEB 회원번호",
              "title": "Web User Id"
            },
            "description": "WEB 회원번호"
          },
          {
            "name": "crm_user_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "CRM 회원번호",
              "title": "Crm User Id"
            },
            "description": "CRM 회원번호"
          },
          {
            "name": "checklist_disabled",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "description": "체크리스트 비활성화 여부",
              "title": "Checklist Disabled"
            },
            "description": "체크리스트 비활성화 여부"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CounselorList"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "상담사 (ADMIN)"
        ],
        "summary": "[ADMIN] 상담사 생성",
        "description": "새로운 상담사 생성\n\n**권한 요구사항: ADMIN만 접근 가능**\n\n**요청 바디:**\n- **name**: 상담사 이름 (필수, 최대 100자)\n- **contact**: 연락처 (선택적, 최대 20자)\n- **email**: 이메일 주소 (선택적, 최대 100자)\n- **gender**: 성별 (선택적, 최대 2자)\n- **attribute**: 과정구분/속성 (선택적, 최대 50자)\n- **major**: 전공 (선택적, 최대 100자)\n- **web_user_id**: WEB 회원번호 (선택적)\n- **crm_user_id**: CRM 회원번호 (선택적)\n- **status**: 상담사 상태 (선택적, 최대 20자)\n- **memo**: 메모 (선택적, 텍스트)\n- **checklist_disabled**: 체크리스트 비활성화 여부 (선택적, 기본값: 0)\n\n**응답 정보:**\n생성된 상담사의 상세 정보 (위 상세 조회와 동일한 구조)\n\n**에러 응답:**\n- **400**: 이미 존재하는 상담사 이름 또는 이메일\n- **422**: 유효성 검증 실패\n\n**유효성 검증:**\n- 상담사 이름 중복 확인\n- 이메일 중복 확인 (제공된 경우)\n- 자동 타임스탬프: reg_date, modify_date 자동 설정",
        "operationId": "create_counselor_api_v1_counseling_counselors_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CounselorCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Counselor"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/counseling/counselors/{counselor_id}": {
      "get": {
        "tags": [
          "상담사 (ADMIN)"
        ],
        "summary": "[ADMIN] 상담사 상세 조회",
        "description": "특정 상담사 상세 조회\n\n**권한 요구사항: ADMIN만 접근 가능**\n\n**요청 파라미터:**\n- **counselor_id**: 조회할 상담사 ID (경로 변수)\n\n**응답 정보:**\n- **counselor_id**: 상담사 고유 ID\n- **name**: 상담사 이름\n- **contact**: 연락처\n- **email**: 이메일 주소\n- **gender**: 성별\n- **attribute**: 과정구분/속성\n- **major**: 전공\n- **web_user_id**: WEB 회원번호 (TBL_SVC_USER 연결)\n- **crm_user_id**: CRM 회원번호\n- **status**: 상담사 상태\n- **memo**: 메모\n- **checklist_disabled**: 체크리스트 비활성화 여부\n- **reg_date**: 등록 날짜\n- **modify_date**: 수정 날짜\n\n**에러 응답:**\n- **404**: 해당 ID의 상담사를 찾을 수 없음",
        "operationId": "get_counselor_api_v1_counseling_counselors__counselor_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "counselor_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Counselor Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Counselor"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "상담사 (ADMIN)"
        ],
        "summary": "[ADMIN] 상담사 정보 수정",
        "description": "상담사 정보 수정\n\n**권한 요구사항: ADMIN만 접근 가능**\n\n**요청 파라미터:**\n- **counselor_id**: 수정할 상담사 ID (경로 변수)\n\n**요청 바디:**\n- **name**: 상담사 이름 (선택적)\n- **contact**: 연락처 (선택적)\n- **email**: 이메일 주소 (선택적)\n- **gender**: 성별 (선택적)\n- **attribute**: 과정구분/속성 (선택적)\n- **major**: 전공 (선택적)\n- **web_user_id**: WEB 회원번호 (선택적)\n- **crm_user_id**: CRM 회원번호 (선택적)\n- **status**: 상담사 상태 (선택적)\n- **memo**: 메모 (선택적)\n- **checklist_disabled**: 체크리스트 비활성화 여부 (선택적)\n\n**응답 정보:**\n수정된 상담사의 상세 정보 (상세 조회와 동일한 구조)\n\n**에러 응답:**\n- **404**: 해당 ID의 상담사를 찾을 수 없음\n- **400**: 중복된 이름 또는 이메일\n- **422**: 유효성 검증 실패\n\n**특징:**\n- 부분 업데이트: 제공된 필드만 수정\n- 중복 검증: 이름과 이메일 중복 확인 (변경 시에만)\n- 자동 타임스탬프: modify_date 자동 업데이트",
        "operationId": "update_counselor_api_v1_counseling_counselors__counselor_id__put",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "counselor_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Counselor Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CounselorUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Counselor"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "상담사 (ADMIN)"
        ],
        "summary": "[ADMIN] 상담사 삭제",
        "description": "상담사 삭제\n\n**권한 요구사항: ADMIN만 접근 가능**\n\n**요청 파라미터:**\n- **counselor_id**: 삭제할 상담사 ID (경로 변수)\n\n**응답 정보:**\n- **message**: 삭제 완료 메시지\n\n**에러 응답:**\n- **404**: 해당 ID의 상담사를 찾을 수 없음\n- **400**: 상담 배정에서 사용 중인 상담사 (삭제 불가)\n\n**특징:**\n- 안전한 삭제: 상담 배정에서 사용 중인 상담사는 삭제 방지\n- 참조 무결성: 관련 데이터 확인 후 삭제\n- 물리적 삭제: 데이터베이스에서 완전히 제거\n- 되돌릴 수 없음: 삭제 후 복구 불가능",
        "operationId": "delete_counselor_api_v1_counseling_counselors__counselor_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "counselor_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Counselor Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "403": {
            "description": "권한 없음 - ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/counseling/counselors/stats/summary": {
      "get": {
        "tags": [
          "상담사 (ADMIN)"
        ],
        "summary": "[ADMIN] 상담사 통계 요약",
        "description": "상담사 통계 요약\n\n**권한 요구사항: ADMIN만 접근 가능**\n\n**응답 정보:**\n- **total_counselors**: 전체 상담사 수\n- **active_counselors**: 활성 상담사 수 (체크리스트 활성화)\n- **disabled_counselors**: 비활성 상담사 수 (체크리스트 비활성화)\n- **counselors_with_assignments**: 배정이 있는 상담사 수\n- **counselors_without_assignments**: 배정이 없는 상담사 수\n- **by_attribute**: 속성별 상담사 수\n    - **attribute**: 속성명\n    - **count**: 해당 속성의 상담사 수\n- **by_gender**: 성별 상담사 수 (성별 정보가 있는 경우)\n    - **gender**: 성별 (M/F)\n    - **count**: 해당 성별의 상담사 수\n\n**특징:**\n- 실시간 통계: 현재 데이터베이스 상태 기준\n- 다차원 분석: 활성 상태, 배정 여부, 속성, 성별 기준\n- 배정 연관성: 실제 상담 배정과 연결된 통계",
        "operationId": "get_counselor_stats_api_v1_counseling_counselors_stats_summary_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "403": {
            "description": "권한 없음 - ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/v1/counseling/clients": {
      "get": {
        "tags": [
          "내담자 (ADMIN)"
        ],
        "summary": "[ADMIN] 내담자 목록 조회",
        "description": "내담자 목록 조회 (페이지네이션 지원)\n\n**권한 요구사항: ADMIN만 접근 가능**\n\n**요청 파라미터:**\n- **page**: 페이지 번호 (기본값: 1, 최소: 1)\n- **page_size**: 페이지 크기 (기본값: 20, 최소: 1, 최대: 100)\n- **student_name**: 학생(내담자) 이름으로 부분 검색 (선택적)\n- **parent_name**: 학부모 이름으로 부분 검색 (선택적)\n- **grade**: 학년으로 필터링 (선택적)\n- **academic_track**: 계열(문과/이과 등)로 필터링 (선택적)\n- **institution_name**: 소속 기관명으로 부분 검색 (선택적)\n- **application_source**: 신청경로로 부분 검색 (선택적)\n- **birth_year**: 출생년도로 필터링 (선택적)\n- **start_date**: 생성일 시작 범위 (YYYY-MM-DD 형식, 선택적)\n- **end_date**: 생성일 종료 범위 (YYYY-MM-DD 형식, 선택적)\n\n**응답 정보:**\n- **data**: 내담자 목록 배열\n    - **client_id**: 내담자 고유 ID\n    - **student_user_id**: 학생 사용자 ID (TBL_SVC_USER 참조, 승인 시)\n    - **parent1_user_id**: 부모1 사용자 ID (TBL_SVC_USER 참조, 승인 시)\n    - **parent2_user_id**: 부모2 사용자 ID (TBL_SVC_USER 참조, 승인 시)\n    - **student_name**: 학생(내담자) 이름\n    - **parent_name**: 학부모 이름\n    - **parent_contact**: 학부모 연락처\n    - **parent_email**: 학부모 이메일\n    - **birth_date**: 생년월일 (YYYY-MM-DD 형식)\n    - **grade**: 학년\n    - **academic_track**: 계열(문과/이과 등)\n    - **contact**: 내담자 연락처\n    - **email**: 내담자 이메일\n    - **application_source**: 신청경로\n    - **institution_name**: 소속 기관명\n    - **application_reason**: 상담 신청 이유\n    - **created_at**: 생성 시간\n    - **updated_at**: 수정 시간\n    - **is_approved**: 승인 여부 (student/parent1/parent2 중 하나라도 user_id가 있으면 true)\n    - **approval_status**: 각 역할별 승인 상태 객체\n        - **student_approved**: 학생 승인 여부\n        - **parent1_approved**: 부모1 승인 여부\n        - **parent2_approved**: 부모2 승인 여부\n        - **any_approved**: 전체 승인 여부\n- **total**: 전체 레코드 수\n- **page**: 현재 페이지 번호\n- **page_size**: 페이지 크기\n- **total_pages**: 전체 페이지 수\n- **has_next**: 다음 페이지 존재 여부\n- **has_prev**: 이전 페이지 존재 여부\n\n**특징:**\n- 승인 시스템: 관리자가 사용자를 매칭하면 승인 상태 표시\n- 다중 필터링: 이름, 학년, 계열, 기관명 등 다양한 조건 조합 가능\n- 부분 검색: 이름, 기관명, 신청경로는 부분 일치 검색 지원\n- 날짜 범위 검색: 생성일 기준 기간별 조회\n- 정렬: 내담자 ID 기준 오름차순 정렬",
        "operationId": "get_clients_api_v1_counseling_clients_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "페이지 번호",
              "default": 1,
              "title": "Page"
            },
            "description": "페이지 번호"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "페이지 크기",
              "default": 20,
              "title": "Page Size"
            },
            "description": "페이지 크기"
          },
          {
            "name": "student_name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "학생 이름 (부분 검색)",
              "title": "Student Name"
            },
            "description": "학생 이름 (부분 검색)"
          },
          {
            "name": "parent_name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "학부모 이름 (부분 검색)",
              "title": "Parent Name"
            },
            "description": "학부모 이름 (부분 검색)"
          },
          {
            "name": "grade",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "학년",
              "title": "Grade"
            },
            "description": "학년"
          },
          {
            "name": "academic_track",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "계열",
              "title": "Academic Track"
            },
            "description": "계열"
          },
          {
            "name": "institution_name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "소속 기관명 (부분 검색)",
              "title": "Institution Name"
            },
            "description": "소속 기관명 (부분 검색)"
          },
          {
            "name": "application_source",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "신청경로 (부분 검색)",
              "title": "Application Source"
            },
            "description": "신청경로 (부분 검색)"
          },
          {
            "name": "birth_year",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "출생년도",
              "title": "Birth Year"
            },
            "description": "출생년도"
          },
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "생성일 시작 범위",
              "title": "Start Date"
            },
            "description": "생성일 시작 범위"
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "생성일 종료 범위",
              "title": "End Date"
            },
            "description": "생성일 종료 범위"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClientList"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "내담자 (ADMIN)"
        ],
        "summary": "[ADMIN] 내담자 생성",
        "description": "새로운 내담자 생성\n\n**요청 바디:**\n- **student_name**: 학생(내담자) 이름 (필수)\n- **parent_name**: 학부모 이름 (선택적)\n- **parent_contact**: 학부모 연락처 (선택적)\n- **parent_email**: 학부모 이메일 (선택적)\n- **birth_date**: 생년월일 (선택적, YYYY-MM-DD 형식)\n- **grade**: 학년 (선택적)\n- **academic_track**: 계열 (선택적)\n- **contact**: 내담자 연락처 (선택적)\n- **email**: 내담자 이메일 (선택적)\n- **application_source**: 신청경로 (선택적)\n- **institution_name**: 소속 기관명 (선택적)\n- **application_reason**: 상담 신청 이유 (선택적)\n\n**응답 정보:**\n생성된 내담자의 상세 정보 (상세 조회와 동일한 구조)\n\n**에러 응답:**\n- **400**: 잘못된 요청 데이터\n- **422**: 유효성 검증 실패\n\n**특징:**\n- 자동 타임스탬프: created_at, updated_at 자동 설정\n- 승인 대기 상태: 관리자 승인 전까지 미승인 상태\n- 최소 정보: 학생 이름만 필수, 나머지는 선택적",
        "operationId": "create_client_api_v1_counseling_clients_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ClientCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Client"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/counseling/clients/{client_id}": {
      "get": {
        "tags": [
          "내담자 (ADMIN)"
        ],
        "summary": "[ADMIN] 내담자 상세 조회",
        "description": "특정 내담자 상세 조회\n\n**요청 파라미터:**\n- **client_id**: 조회할 내담자 ID (경로 변수)\n\n**응답 정보:**\n- **client_id**: 내담자 고유 ID\n- **student_user_id**: 학생 사용자 ID (승인 시)\n- **parent1_user_id**: 부모1 사용자 ID (승인 시)\n- **parent2_user_id**: 부모2 사용자 ID (승인 시)\n- **student_name**: 학생(내담자) 이름\n- **parent_name**: 학부모 이름\n- **parent_contact**: 학부모 연락처\n- **parent_email**: 학부모 이메일\n- **birth_date**: 생년월일\n- **grade**: 학년\n- **academic_track**: 계열\n- **contact**: 내담자 연락처\n- **email**: 내담자 이메일\n- **application_source**: 신청경로\n- **institution_name**: 소속 기관명\n- **application_reason**: 상담 신청 이유\n- **created_at**: 생성 시간\n- **updated_at**: 수정 시간\n- **is_approved**: 승인 여부\n- **approval_status**: 각 역할별 승인 상태\n\n**에러 응답:**\n- **404**: 해당 ID의 내담자를 찾을 수 없음",
        "operationId": "get_client_api_v1_counseling_clients__client_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "client_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Client Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Client"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "내담자 (ADMIN)"
        ],
        "summary": "[ADMIN] 내담자 정보 수정",
        "description": "내담자 정보 수정\n\n**권한 요구사항: ADMIN만 접근 가능**",
        "operationId": "update_client_api_v1_counseling_clients__client_id__put",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "client_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Client Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ClientUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Client"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "내담자 (ADMIN)"
        ],
        "summary": "[ADMIN] 내담자 삭제",
        "description": "내담자 삭제",
        "operationId": "delete_client_api_v1_counseling_clients__client_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "client_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Client Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "403": {
            "description": "권한 없음 - ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/counseling/clients/stats/summary": {
      "get": {
        "tags": [
          "내담자 (ADMIN)"
        ],
        "summary": "[ADMIN] 내담자 통계 요약",
        "description": "내담자 통계 요약",
        "operationId": "get_client_stats_api_v1_counseling_clients_stats_summary_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "403": {
            "description": "권한 없음 - ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/v1/counseling/clients/search/advanced": {
      "get": {
        "tags": [
          "내담자 (ADMIN)"
        ],
        "summary": "[ADMIN] 내담자 고급 검색",
        "description": "고급 내담자 검색",
        "operationId": "advanced_client_search_api_v1_counseling_clients_search_advanced_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "검색어",
              "title": "Query"
            },
            "description": "검색어"
          },
          {
            "name": "search_fields",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "검색할 필드 (name,email,contact,institution 중 콤마로 구분)",
              "default": "name,email,institution",
              "title": "Search Fields"
            },
            "description": "검색할 필드 (name,email,contact,institution 중 콤마로 구분)"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "페이지 번호",
              "default": 1,
              "title": "Page"
            },
            "description": "페이지 번호"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "페이지 크기",
              "default": 20,
              "title": "Page Size"
            },
            "description": "페이지 크기"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "403": {
            "description": "권한 없음 - ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/counseling/programs": {
      "get": {
        "tags": [
          "상담 프로그램 (ADMIN)"
        ],
        "summary": "[ADMIN] 상담 프로그램 목록 조회",
        "description": "상담 프로그램 목록 조회 (페이지네이션 지원)\n\n**권한 요구사항: ADMIN만 접근 가능**\n\n**요청 파라미터:**\n- **page**: 페이지 번호 (기본값: 1, 최소: 1)\n- **page_size**: 페이지 크기 (기본값: 20, 최소: 1, 최대: 100)\n- **program_name**: 프로그램 이름으로 부분 검색 (선택적)\n- **year**: 연도로 필터링 (선택적, 예: \"2024\")\n- **semester**: 학기로 필터링 (선택적, 예: \"1학기\", \"2학기\")\n- **attribute**: 프로그램 속성으로 필터링 (선택적)\n- **is_active**: 사용 여부로 필터링 (선택적, 0: 삭제됨, 1: 활성)\n- **start_date_from**: 시작일 범위 시작 (YYYY-MM-DD 형식, 선택적)\n- **start_date_to**: 시작일 범위 종료 (YYYY-MM-DD 형식, 선택적)\n- **end_date_from**: 종료일 범위 시작 (YYYY-MM-DD 형식, 선택적)\n- **end_date_to**: 종료일 범위 종료 (YYYY-MM-DD 형식, 선택적)\n- **include_stats**: 통계 정보 포함 여부 (선택적, 기본값: false)\n\n**응답 정보:**\n- **data**: 프로그램 목록 배열\n    - **program_id**: 프로그램 고유 ID\n    - **program_name**: 프로그램 이름\n    - **start_date**: 시작 날짜 (YYYY-MM-DD 형식)\n    - **end_date**: 종료 날짜 (YYYY-MM-DD 형식)\n    - **year**: 연도\n    - **semester**: 학기\n    - **subprogram_name**: 하위 프로그램 이름\n    - **is_active**: 사용 여부 (0: 삭제됨, 1: 활성)\n    - **attribute**: 프로그램 속성\n    - **session_count**: 세션 개수 (include_stats=true인 경우만)\n    - **assignment_count**: 배정 개수 (include_stats=true인 경우만)\n- **total**: 전체 레코드 수\n- **page**: 현재 페이지 번호\n- **page_size**: 페이지 크기\n- **total_pages**: 전체 페이지 수\n- **has_next**: 다음 페이지 존재 여부\n- **has_prev**: 이전 페이지 존재 여부\n\n**특징:**\n- 통계 정보: include_stats=true 시 관련 세션과 배정 개수 포함\n- 다중 필터링: 이름, 연도, 학기, 속성, 활성 상태 등 조합 가능\n- 날짜 범위 검색: 시작일/종료일 기준 기간별 조회\n- 부분 검색: 프로그램 이름은 부분 일치 검색 지원\n- 상태 관리: is_active로 활성/비활성 프로그램 구분",
        "operationId": "get_programs_api_v1_counseling_programs_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "페이지 번호",
              "default": 1,
              "title": "Page"
            },
            "description": "페이지 번호"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "페이지 크기",
              "default": 20,
              "title": "Page Size"
            },
            "description": "페이지 크기"
          },
          {
            "name": "program_name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "프로그램 이름 (부분 검색)",
              "title": "Program Name"
            },
            "description": "프로그램 이름 (부분 검색)"
          },
          {
            "name": "year",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "연도",
              "title": "Year"
            },
            "description": "연도"
          },
          {
            "name": "semester",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "학기",
              "title": "Semester"
            },
            "description": "학기"
          },
          {
            "name": "attribute",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "프로그램 속성",
              "title": "Attribute"
            },
            "description": "프로그램 속성"
          },
          {
            "name": "is_active",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "사용 여부 (0: 삭제됨, 1: 활성)",
              "title": "Is Active"
            },
            "description": "사용 여부 (0: 삭제됨, 1: 활성)"
          },
          {
            "name": "start_date_from",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "시작일 범위 시작",
              "title": "Start Date From"
            },
            "description": "시작일 범위 시작"
          },
          {
            "name": "start_date_to",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "시작일 범위 종료",
              "title": "Start Date To"
            },
            "description": "시작일 범위 종료"
          },
          {
            "name": "end_date_from",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "종료일 범위 시작",
              "title": "End Date From"
            },
            "description": "종료일 범위 시작"
          },
          {
            "name": "end_date_to",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "종료일 범위 종료",
              "title": "End Date To"
            },
            "description": "종료일 범위 종료"
          },
          {
            "name": "include_stats",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "통계 정보 포함 여부",
              "default": false,
              "title": "Include Stats"
            },
            "description": "통계 정보 포함 여부"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProgramList"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "상담 프로그램 (ADMIN)"
        ],
        "summary": "[ADMIN] 상담 프로그램 생성",
        "description": "새로운 상담 프로그램 생성",
        "operationId": "create_program_api_v1_counseling_programs_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProgramCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Program"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/counseling/programs/{program_id}": {
      "get": {
        "tags": [
          "상담 프로그램 (ADMIN)"
        ],
        "summary": "[ADMIN] 상담 프로그램 상세 조회",
        "description": "특정 상담 프로그램 조회\n\n**권한 요구사항: ADMIN만 접근 가능**",
        "operationId": "get_program_api_v1_counseling_programs__program_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "program_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Program Id"
            }
          },
          {
            "name": "include_stats",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "통계 정보 포함 여부",
              "default": false,
              "title": "Include Stats"
            },
            "description": "통계 정보 포함 여부"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Program"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "상담 프로그램 (ADMIN)"
        ],
        "summary": "[ADMIN] 상담 프로그램 수정",
        "description": "상담 프로그램 정보 수정\n\n**권한 요구사항: ADMIN만 접근 가능**",
        "operationId": "update_program_api_v1_counseling_programs__program_id__put",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "program_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Program Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProgramUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Program"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "상담 프로그램 (ADMIN)"
        ],
        "summary": "[ADMIN] 상담 프로그램 삭제",
        "description": "상담 프로그램 삭제\n\n**권한 요구사항: ADMIN만 접근 가능**",
        "operationId": "delete_program_api_v1_counseling_programs__program_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "program_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Program Id"
            }
          },
          {
            "name": "force",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "강제 삭제 (관련 데이터 포함)",
              "default": false,
              "title": "Force"
            },
            "description": "강제 삭제 (관련 데이터 포함)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "403": {
            "description": "권한 없음 - ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/counseling/programs/{program_id}/toggle-active": {
      "patch": {
        "tags": [
          "상담 프로그램 (ADMIN)"
        ],
        "summary": "[ADMIN] 프로그램 활성/비활성 토글",
        "description": "프로그램 활성/비활성 상태 토글",
        "operationId": "toggle_program_active_api_v1_counseling_programs__program_id__toggle_active_patch",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "program_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Program Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "403": {
            "description": "권한 없음 - ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/counseling/programs/stats/summary": {
      "get": {
        "tags": [
          "상담 프로그램 (ADMIN)"
        ],
        "summary": "[ADMIN] 프로그램 통계 요약",
        "description": "프로그램 통계 요약\n\n**권한 요구사항: ADMIN만 접근 가능**",
        "operationId": "get_program_stats_api_v1_counseling_programs_stats_summary_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "403": {
            "description": "권한 없음 - ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/v1/counseling/sessions": {
      "get": {
        "tags": [
          "상담 세션 (ADMIN)"
        ],
        "summary": "[ADMIN] 상담 세션 목록 조회",
        "description": "상담 세션 목록 조회 (페이지네이션 지원)\n\n**권한 요구사항: ADMIN만 접근 가능**\n\n**요청 파라미터:**\n- **page**: 페이지 번호 (기본값: 1, 최소: 1)\n- **page_size**: 페이지 크기 (기본값: 20, 최소: 1, 최대: 100)\n- **program_id**: 프로그램 ID로 필터링 (선택적)\n- **session_name**: 세션 이름으로 부분 검색 (선택적)\n- **is_active**: 사용 여부로 필터링 (선택적, 0: 삭제됨, 1: 활성)\n- **month**: 월 정보로 필터링 (선택적, 1-12)\n- **week**: 주 정보로 필터링 (선택적, 1-53)\n- **session_order_from**: 세션 순서 범위 시작 (선택적)\n- **session_order_to**: 세션 순서 범위 종료 (선택적)\n- **include_program**: 프로그램 정보 포함 여부 (선택적, 기본값: true)\n- **include_stats**: 통계 정보 포함 여부 (선택적, 기본값: false)\n\n**응답 정보:**\n- **data**: 세션 목록 배열\n    - **session_id**: 세션 고유 ID\n    - **program_id**: 프로그램 ID\n    - **session_name**: 세션 이름\n    - **session_order**: 세션 순서\n    - **is_active**: 사용 여부 (0: 삭제됨, 1: 활성)\n    - **subsession_name**: 하위 세션 이름\n    - **month**: 월 정보\n    - **week**: 주 정보\n    - **program**: 프로그램 정보 객체 (include_program=true인 경우)\n        - **program_id**: 프로그램 ID\n        - **program_name**: 프로그램 이름\n        - **start_date**: 시작 날짜\n        - **end_date**: 종료 날짜\n        - **year**: 연도\n        - **semester**: 학기\n        - **attribute**: 프로그램 속성\n    - **assignment_count**: 배정 개수 (include_stats=true인 경우만)\n- **total**: 전체 레코드 수\n- **page**: 현재 페이지 번호\n- **page_size**: 페이지 크기\n- **total_pages**: 전체 페이지 수\n- **has_next**: 다음 페이지 존재 여부\n- **has_prev**: 이전 페이지 존재 여부\n\n**특징:**\n- 프로그램 연결: 각 세션에 연결된 프로그램 정보 자동 조인\n- 통계 정보: include_stats=true 시 관련 배정 개수 포함\n- 다중 필터링: 프로그램, 이름, 월/주, 순서 등 조합 가능\n- 순서 범위 검색: session_order_from/to로 순서 기준 범위 조회\n- 부분 검색: 세션 이름은 부분 일치 검색 지원\n- 상태 관리: is_active로 활성/비활성 세션 구분",
        "operationId": "get_sessions_api_v1_counseling_sessions_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "페이지 번호",
              "default": 1,
              "title": "Page"
            },
            "description": "페이지 번호"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "페이지 크기",
              "default": 20,
              "title": "Page Size"
            },
            "description": "페이지 크기"
          },
          {
            "name": "program_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "프로그램 ID",
              "title": "Program Id"
            },
            "description": "프로그램 ID"
          },
          {
            "name": "session_name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "세션 이름 (부분 검색)",
              "title": "Session Name"
            },
            "description": "세션 이름 (부분 검색)"
          },
          {
            "name": "is_active",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "사용 여부 (0: 삭제됨, 1: 활성)",
              "title": "Is Active"
            },
            "description": "사용 여부 (0: 삭제됨, 1: 활성)"
          },
          {
            "name": "month",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 12,
                  "minimum": 1
                },
                {
                  "type": "null"
                }
              ],
              "description": "월 정보",
              "title": "Month"
            },
            "description": "월 정보"
          },
          {
            "name": "week",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 53,
                  "minimum": 1
                },
                {
                  "type": "null"
                }
              ],
              "description": "주 정보",
              "title": "Week"
            },
            "description": "주 정보"
          },
          {
            "name": "session_order_from",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "세션 순서 범위 시작",
              "title": "Session Order From"
            },
            "description": "세션 순서 범위 시작"
          },
          {
            "name": "session_order_to",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "세션 순서 범위 종료",
              "title": "Session Order To"
            },
            "description": "세션 순서 범위 종료"
          },
          {
            "name": "include_program",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "프로그램 정보 포함 여부",
              "default": true,
              "title": "Include Program"
            },
            "description": "프로그램 정보 포함 여부"
          },
          {
            "name": "include_stats",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "통계 정보 포함 여부",
              "default": false,
              "title": "Include Stats"
            },
            "description": "통계 정보 포함 여부"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionList"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "상담 세션 (ADMIN)"
        ],
        "summary": "[ADMIN] 상담 세션 생성",
        "description": "새로운 상담 세션 생성",
        "operationId": "create_session_api_v1_counseling_sessions_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SessionCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Session"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/counseling/sessions/{session_id}": {
      "get": {
        "tags": [
          "상담 세션 (ADMIN)"
        ],
        "summary": "[ADMIN] 상담 세션 상세 조회",
        "description": "특정 상담 세션 조회",
        "operationId": "get_session_api_v1_counseling_sessions__session_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Session Id"
            }
          },
          {
            "name": "include_program",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "프로그램 정보 포함 여부",
              "default": true,
              "title": "Include Program"
            },
            "description": "프로그램 정보 포함 여부"
          },
          {
            "name": "include_stats",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "통계 정보 포함 여부",
              "default": false,
              "title": "Include Stats"
            },
            "description": "통계 정보 포함 여부"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Session"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "상담 세션 (ADMIN)"
        ],
        "summary": "[ADMIN] 상담 세션 수정",
        "description": "상담 세션 정보 수정",
        "operationId": "update_session_api_v1_counseling_sessions__session_id__put",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Session Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SessionUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Session"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "상담 세션 (ADMIN)"
        ],
        "summary": "[ADMIN] 상담 세션 삭제",
        "description": "상담 세션 삭제",
        "operationId": "delete_session_api_v1_counseling_sessions__session_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Session Id"
            }
          },
          {
            "name": "force",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "강제 삭제 (관련 배정 포함)",
              "default": false,
              "title": "Force"
            },
            "description": "강제 삭제 (관련 배정 포함)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "403": {
            "description": "권한 없음 - ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/counseling/sessions/bulk": {
      "post": {
        "tags": [
          "상담 세션 (ADMIN)"
        ],
        "summary": "[ADMIN] 상담 세션 일괄 생성",
        "description": "세션 일괄 생성",
        "operationId": "create_sessions_bulk_api_v1_counseling_sessions_bulk_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SessionBulkCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/Session"
                  },
                  "type": "array",
                  "title": "Response Create Sessions Bulk Api V1 Counseling Sessions Bulk Post"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/v1/counseling/sessions/{session_id}/toggle-active": {
      "patch": {
        "tags": [
          "상담 세션 (ADMIN)"
        ],
        "summary": "[ADMIN] 세션 활성/비활성 토글",
        "description": "세션 활성/비활성 상태 토글",
        "operationId": "toggle_session_active_api_v1_counseling_sessions__session_id__toggle_active_patch",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Session Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "403": {
            "description": "권한 없음 - ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/counseling/sessions/stats/by-program/{program_id}": {
      "get": {
        "tags": [
          "상담 세션 (ADMIN)"
        ],
        "summary": "[ADMIN] 프로그램별 세션 통계",
        "description": "프로그램별 세션 통계",
        "operationId": "get_session_stats_by_program_api_v1_counseling_sessions_stats_by_program__program_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "program_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Program Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "403": {
            "description": "권한 없음 - ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/counseling-requests/": {
      "post": {
        "tags": [
          "상담 신청"
        ],
        "summary": "상담 신청 생성 (로그인 필요)",
        "description": "상담 신청 생성 (로그인 필요)\n\n**권한 요구사항**: 로그인한 사용자만 접근 가능\n\n**요청 파라미터:**\n- request_type: 상담 유형 (필수)\n  - GENERAL: 일반 상담\n  - EMERGENCY: 긴급 상담 (urgency_level 필수)\n  - FOLLOWUP: 후속 상담 (previous_request_id 필수)\n- category: 상담 카테고리 (선택적)\n  - 가족, 대인관계, 진로, 정신건강, 스트레스, 중독, 트라우마, 기타\n- title: 상담 제목 (필수, 최대 200자)\n- content: 상담 사연 내용 (필수, 최소 10자)\n- urgency_level: 긴급도 (선택적, 1-5, 1:매우긴급)\n- preferred_counselor_gender: 선호 상담사 성별 (선택적, M/F)\n- preferred_date1: 희망 상담일시 1순위 (선택적)\n- preferred_date2: 희망 상담일시 2순위 (선택적)\n- preferred_date3: 희망 상담일시 3순위 (선택적)\n- counseling_method: 상담 방식 (선택적)\n  - ONLINE: 온라인 화상 상담\n  - OFFLINE: 대면 상담\n  - PHONE: 전화 상담\n  - CHAT: 채팅 상담\n- is_test_required: 심리검사 필요 여부 (선택적)\n- previous_request_id: 이전 상담 ID (후속상담 시 필수)\n- reservation_idx: 예약 인덱스 (선택적, CRM 연동용)\n- account_id: 계정 ID (선택적, 기업 계정용)\n\n**응답 정보:**\n- request_id: 상담 신청 고유 ID\n- user_id: 사용자 ID\n- status: 상담 상태 (초기값: DRAFT)\n- created_at: 생성 일시\n- 요청한 모든 필드 포함\n\n**특징:**\n- 초기 상태는 DRAFT(작성중)로 생성\n- 긴급 상담은 urgency_level 필수 입력\n- 후속 상담은 이전 상담 완료 확인\n- 제출 전까지 수정 가능",
        "operationId": "create_counseling_request_api_v1_counseling_requests__post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CounselingRequestCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CounselingRequestResponse"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - 일부 작업은 ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "상담 신청"
        ],
        "summary": "상담 신청 목록 조회 (본인 것만/ADMIN은 전체)",
        "description": "상담 신청 목록 조회 (페이지네이션 지원)\n\n**권한 요구사항**: \n- 일반 사용자: 본인의 상담 신청만 조회 가능\n- ADMIN: 모든 사용자의 상담 신청 조회 가능\n\n**요청 파라미터:**\n- page: 페이지 번호 (기본값: 1, 최소: 1)\n- page_size: 페이지 크기 (기본값: 10, 최소: 1, 최대: 100)\n- status: 상담 상태로 필터링 (선택적)\n  - DRAFT: 작성중\n  - SUBMITTED: 제출완료\n  - PAYMENT_PENDING: 결제대기\n  - PAID: 결제완료\n  - ASSIGNED: 상담사배정\n  - IN_PROGRESS: 진행중\n  - COMPLETED: 완료\n  - CANCELLED: 취소\n- payment_status: 결제 상태로 필터링 (선택적)\n  - PENDING: 대기\n  - PROCESSING: 진행중\n  - COMPLETED: 완료\n  - FAILED: 실패\n  - REFUNDED: 환불\n- request_type: 상담 유형으로 필터링 (선택적)\n  - GENERAL: 일반\n  - EMERGENCY: 긴급\n  - FOLLOWUP: 후속\n- category: 카테고리로 필터링 (선택적)\n- counseling_method: 상담 방식으로 필터링 (선택적)\n- assigned_counselor_id: 담당 상담사 ID로 필터링 (선택적, ADMIN만)\n- urgency_level: 긴급도로 필터링 (선택적, 1-5)\n- start_date: 조회 시작일 (선택적, YYYY-MM-DDTHH:MM:SS)\n- end_date: 조회 종료일 (선택적, YYYY-MM-DDTHH:MM:SS)\n\n**응답 정보:**\n- items: 상담 신청 목록 배열\n  - request_id: 상담 신청 고유 ID\n  - user_id: 사용자 ID\n  - request_type: 상담 유형\n  - category: 카테고리\n  - title: 상담 제목\n  - content: 상담 내용\n  - urgency_level: 긴급도\n  - status: 상담 상태\n  - payment_status: 결제 상태\n  - assigned_counselor_id: 배정된 상담사 ID\n  - counseling_date: 확정된 상담일시\n  - created_at: 생성일시\n  - submitted_at: 제출일시\n  - completed_at: 완료일시\n- total: 전체 레코드 수\n- page: 현재 페이지 번호\n- page_size: 페이지 크기\n- total_pages: 전체 페이지 수\n\n**특징:**\n- 동적 필터링: 모든 필드에 대한 선택적 필터링\n- 날짜 범위 검색: start_date/end_date로 기간별 조회\n- 최신순 정렬: created_at 기준 내림차순\n- 권한별 데이터 접근 제어",
        "operationId": "get_counseling_requests_api_v1_counseling_requests__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "페이지 번호",
              "default": 1,
              "title": "Page"
            },
            "description": "페이지 번호"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "페이지 크기",
              "default": 10,
              "title": "Page Size"
            },
            "description": "페이지 크기"
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/RequestStatus"
                },
                {
                  "type": "null"
                }
              ],
              "description": "상담 상태",
              "title": "Status"
            },
            "description": "상담 상태"
          },
          {
            "name": "payment_status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/PaymentStatus"
                },
                {
                  "type": "null"
                }
              ],
              "description": "결제 상태",
              "title": "Payment Status"
            },
            "description": "결제 상태"
          },
          {
            "name": "request_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/RequestType"
                },
                {
                  "type": "null"
                }
              ],
              "description": "상담 유형",
              "title": "Request Type"
            },
            "description": "상담 유형"
          },
          {
            "name": "category",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/CounselingCategory"
                },
                {
                  "type": "null"
                }
              ],
              "description": "상담 카테고리",
              "title": "Category"
            },
            "description": "상담 카테고리"
          },
          {
            "name": "counseling_method",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/CounselingMethod"
                },
                {
                  "type": "null"
                }
              ],
              "description": "상담 방식",
              "title": "Counseling Method"
            },
            "description": "상담 방식"
          },
          {
            "name": "assigned_counselor_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "담당 상담사 ID (관리자용)",
              "title": "Assigned Counselor Id"
            },
            "description": "담당 상담사 ID (관리자용)"
          },
          {
            "name": "urgency_level",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 5,
                  "minimum": 1
                },
                {
                  "type": "null"
                }
              ],
              "description": "긴급도",
              "title": "Urgency Level"
            },
            "description": "긴급도"
          },
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "조회 시작일",
              "title": "Start Date"
            },
            "description": "조회 시작일"
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "조회 종료일",
              "title": "End Date"
            },
            "description": "조회 종료일"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CounselingRequestListResponse"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - 일부 작업은 ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/counseling-requests/statistics": {
      "get": {
        "tags": [
          "상담 신청"
        ],
        "summary": "상담 통계 조회 (본인 것만/ADMIN은 전체)",
        "description": "상담 통계 조회\n\n**권한 요구사항**: \n- 일반 사용자: 본인의 상담 통계만 조회 가능\n- ADMIN: 전체 상담 통계 조회 가능\n\n**요청 파라미터:**\n- start_date: 통계 시작일 (선택적, YYYY-MM-DDTHH:MM:SS)\n- end_date: 통계 종료일 (선택적, YYYY-MM-DDTHH:MM:SS)\n\n**응답 정보:**\n- total_requests: 전체 상담 신청 수\n- pending_requests: 대기 중인 상담 수 (SUBMITTED, PAYMENT_PENDING)\n- in_progress_requests: 진행 중인 상담 수 (ASSIGNED, IN_PROGRESS)\n- completed_requests: 완료된 상담 수\n- average_rating: 평균 만족도 (1-5점, null 가능)\n- emergency_requests: 긴급 상담 수\n- by_category: 카테고리별 상담 수 (객체)\n  - 가족: 건수\n  - 대인관계: 건수\n  - 진로: 건수\n  - 정신건강: 건수\n  - 스트레스: 건수\n  - 중독: 건수\n  - 트라우마: 건수\n  - 기타: 건수\n- by_method: 상담 방식별 수 (객체)\n  - ONLINE: 건수\n  - OFFLINE: 건수\n  - PHONE: 건수\n  - CHAT: 건수\n\n**특징:**\n- 기간별 통계 필터링\n- 다양한 관점의 통계 집계\n- 권한별 데이터 접근 제어",
        "operationId": "get_counseling_statistics_api_v1_counseling_requests_statistics_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "통계 시작일",
              "title": "Start Date"
            },
            "description": "통계 시작일"
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "description": "통계 종료일",
              "title": "End Date"
            },
            "description": "통계 종료일"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CounselingStatistics"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - 일부 작업은 ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/counseling-requests/available-dates": {
      "get": {
        "tags": [
          "상담 신청"
        ],
        "summary": "예약 가능한 상담 일시 조회 (로그인 필요)",
        "description": "예약 가능한 상담 일시 조회\n\n**권한 요구사항**: 로그인한 사용자만 접근 가능\n\n**요청 파라미터:**\n- counselor_id: 특정 상담사의 가능 일시 조회 (선택적)\n\n**응답 정보:**\n- 예약 가능한 일시 배열 (YYYY-MM-DDTHH:MM:SS 형식)\n\n**특징:**\n- 향후 7일간의 가능 일시 제공\n- 평일 오전 10시, 오후 2시, 오후 4시 슬롯\n- 향후 상담사 스케줄 시스템과 연동 예정",
        "operationId": "get_available_counseling_dates_api_v1_counseling_requests_available_dates_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "counselor_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "특정 상담사의 가능 일시 조회",
              "title": "Counselor Id"
            },
            "description": "특정 상담사의 가능 일시 조회"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "title": "Response Get Available Counseling Dates Api V1 Counseling Requests Available Dates Get"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - 일부 작업은 ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/counseling-requests/{request_id}": {
      "get": {
        "tags": [
          "상담 신청"
        ],
        "summary": "상담 신청 상세 조회 (본인 것만/ADMIN은 전체)",
        "description": "상담 신청 상세 조회\n\n**권한 요구사항**: \n- 일반 사용자: 본인의 상담 신청만 조회 가능\n- ADMIN: 모든 상담 신청 조회 가능\n\n**요청 파라미터:**\n- request_id: 상담 신청 ID (필수, 경로 파라미터)\n\n**응답 정보:**\n- request_id: 상담 신청 고유 ID\n- user_id: 사용자 ID\n- reservation_idx: 예약 인덱스 (CRM 연동)\n- account_id: 계정 ID\n- request_type: 상담 유형 (GENERAL/EMERGENCY/FOLLOWUP)\n- category: 상담 카테고리\n- title: 상담 제목\n- content: 상담 사연 내용\n- urgency_level: 긴급도 (1-5)\n- preferred_counselor_gender: 선호 상담사 성별 (M/F)\n- preferred_date1: 희망 상담일시 1순위\n- preferred_date2: 희망 상담일시 2순위\n- preferred_date3: 희망 상담일시 3순위\n- counseling_method: 상담 방식\n- status: 상담 상태\n- payment_status: 결제 상태\n- assigned_counselor_id: 배정된 상담사 ID\n- assignment_date: 상담사 배정일시\n- counseling_date: 확정된 상담일시\n- counseling_notes: 상담 진행 노트\n- client_feedback: 내담자 피드백\n- rating: 만족도 평점 (1-5)\n- is_test_required: 심리검사 필요 여부\n- test_results_id: 연결된 심리검사 결과 ID\n- previous_request_id: 이전 상담 신청 ID (후속상담인 경우)\n- created_at: 생성일시\n- updated_at: 수정일시\n- submitted_at: 제출일시\n- completed_at: 완료일시\n\n**특징:**\n- 모든 필드 포함한 상세 정보 제공\n- 권한별 접근 제어\n- 상태 및 진행 사항 추적 가능",
        "operationId": "get_counseling_request_api_v1_counseling_requests__request_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "request_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "상담 신청 ID",
              "title": "Request Id"
            },
            "description": "상담 신청 ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CounselingRequestResponse"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - 일부 작업은 ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "상담 신청"
        ],
        "summary": "상담 신청 수정 (본인 것만, DRAFT/SUBMITTED 상태만)",
        "description": "상담 신청 수정\n\n**권한 요구사항**: 본인의 상담 신청만 수정 가능\n\n**수정 가능 상태**: \n- DRAFT: 작성중\n- SUBMITTED: 제출완료\n\n**요청 파라미터:**\n- request_id: 상담 신청 ID (필수, 경로 파라미터)\n- request_type: 상담 유형 (선택적)\n- category: 카테고리 (선택적)\n- title: 제목 (선택적, 최대 200자)\n- content: 내용 (선택적, 최소 10자)\n- urgency_level: 긴급도 (선택적, 1-5)\n- preferred_counselor_gender: 선호 상담사 성별 (선택적, M/F)\n- preferred_date1: 희망 상담일시 1순위 (선택적)\n- preferred_date2: 희망 상담일시 2순위 (선택적)\n- preferred_date3: 희망 상담일시 3순위 (선택적)\n- counseling_method: 상담 방식 (선택적)\n- is_test_required: 심리검사 필요 여부 (선택적)\n\n**응답 정보:**\n- 수정된 상담 신청 전체 정보\n- updated_at: 수정일시 자동 갱신\n\n**특징:**\n- DRAFT 또는 SUBMITTED 상태에서만 수정 가능\n- 다른 상태에서는 수정 불가\n- 부분 수정 지원 (필요한 필드만 전송)",
        "operationId": "update_counseling_request_api_v1_counseling_requests__request_id__put",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "request_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "상담 신청 ID",
              "title": "Request Id"
            },
            "description": "상담 신청 ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CounselingRequestUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CounselingRequestResponse"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - 일부 작업은 ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/counseling-requests/{request_id}/admin": {
      "put": {
        "tags": [
          "상담 신청"
        ],
        "summary": "[ADMIN] 상담 신청 관리자 수정 (ADMIN만)",
        "description": "상담 신청 관리자 수정\n\n**권한 요구사항: ADMIN만 접근 가능**\n\n**요청 파라미터:**\n- request_id: 상담 신청 ID (필수, 경로 파라미터)\n- status: 상담 상태 (선택적)\n  - DRAFT: 작성중\n  - SUBMITTED: 제출완료\n  - PAYMENT_PENDING: 결제대기\n  - PAID: 결제완료\n  - ASSIGNED: 상담사배정\n  - IN_PROGRESS: 진행중\n  - COMPLETED: 완료\n  - CANCELLED: 취소\n- payment_status: 결제 상태 (선택적)\n  - PENDING: 대기\n  - PROCESSING: 진행중\n  - COMPLETED: 완료\n  - FAILED: 실패\n  - REFUNDED: 환불\n- assigned_counselor_id: 배정할 상담사 ID (선택적)\n- counseling_date: 확정된 상담일시 (선택적)\n- counseling_notes: 상담 진행 노트 (선택적)\n- test_results_id: 연결할 심리검사 결과 ID (선택적)\n\n**응답 정보:**\n- 수정된 상담 신청 전체 정보\n- assignment_date: 상담사 배정 시 자동 설정\n- completed_at: COMPLETED 상태 변경 시 자동 설정\n\n**특징:**\n- 상담사 배정 시 assignment_date 자동 설정\n- PAID 상태에서 상담사 배정 시 ASSIGNED로 자동 변경\n- COMPLETED로 변경 시 completed_at 자동 설정\n- 모든 상태에서 수정 가능",
        "operationId": "admin_update_counseling_request_api_v1_counseling_requests__request_id__admin_put",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "request_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "상담 신청 ID",
              "title": "Request Id"
            },
            "description": "상담 신청 ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CounselingRequestAdminUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CounselingRequestResponse"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - 일부 작업은 ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/counseling-requests/{request_id}/submit": {
      "post": {
        "tags": [
          "상담 신청"
        ],
        "summary": "상담 신청 제출 (본인 것만, DRAFT 상태만)",
        "description": "상담 신청 제출\n\n**권한 요구사항**: 본인의 상담 신청만 제출 가능\n\n**제출 가능 상태**: DRAFT (작성중)\n\n**요청 파라미터:**\n- request_id: 상담 신청 ID (필수, 경로 파라미터)\n\n**제출 전 필수 정보:**\n- counseling_method: 상담 방식 선택 필수\n- preferred_date: 희망 상담일시 최소 1개 필수\n\n**응답 정보:**\n- 제출된 상담 신청 전체 정보\n- status: SUBMITTED로 변경\n- submitted_at: 제출일시 자동 설정\n\n**특징:**\n- DRAFT 상태에서만 제출 가능\n- 제출 후 SUBMITTED 상태로 변경\n- submitted_at 자동 설정\n- 제출 후에도 제한적 수정 가능",
        "operationId": "submit_counseling_request_api_v1_counseling_requests__request_id__submit_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "request_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "상담 신청 ID",
              "title": "Request Id"
            },
            "description": "상담 신청 ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CounselingRequestResponse"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - 일부 작업은 ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/counseling-requests/{request_id}/cancel": {
      "post": {
        "tags": [
          "상담 신청"
        ],
        "summary": "상담 신청 취소 (본인 것만/ADMIN은 전체)",
        "description": "상담 신청 취소\n\n**권한 요구사항**: \n- 일반 사용자: 본인의 상담 신청만 취소 가능\n- ADMIN: 모든 상담 신청 취소 가능\n\n**요청 파라미터:**\n- request_id: 상담 신청 ID (필수, 경로 파라미터)\n\n**취소 가능 상태:**\n- DRAFT: 작성중\n- SUBMITTED: 제출완료\n- PAYMENT_PENDING: 결제대기\n- PAID: 결제완료\n- ASSIGNED: 상담사배정\n\n**취소 불가 상태:**\n- IN_PROGRESS: 진행중\n- COMPLETED: 완료\n- CANCELLED: 이미 취소됨\n\n**응답 정보:**\n- 취소된 상담 신청 전체 정보\n- status: CANCELLED로 변경\n- payment_status: 결제완료인 경우 REFUNDED로 변경\n\n**특징:**\n- 진행중/완료/취소 상태에서는 취소 불가\n- 결제완료 상태인 경우 자동 환불 처리\n- updated_at 자동 갱신",
        "operationId": "cancel_counseling_request_api_v1_counseling_requests__request_id__cancel_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "request_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "상담 신청 ID",
              "title": "Request Id"
            },
            "description": "상담 신청 ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CounselingRequestResponse"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - 일부 작업은 ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/counseling-requests/{request_id}/feedback": {
      "post": {
        "tags": [
          "상담 신청"
        ],
        "summary": "상담 피드백 작성 (본인 것만, COMPLETED 상태만)",
        "description": "상담 피드백 작성\n\n**권한 요구사항**: 본인의 상담에만 피드백 작성 가능\n\n**작성 가능 상태**: COMPLETED (완료)\n\n**요청 파라미터:**\n- request_id: 상담 신청 ID (필수, 경로 파라미터)\n- client_feedback: 내담자 피드백 (필수, 최소 10자)\n- rating: 만족도 평점 (필수, 1-5점)\n\n**응답 정보:**\n- 피드백이 추가된 상담 신청 전체 정보\n- client_feedback: 작성된 피드백 내용\n- rating: 설정된 평점\n\n**특징:**\n- COMPLETED 상태에서만 작성 가능\n- 피드백 내용 최소 10자 필수\n- 평점 1-5점 범위 제한\n- updated_at 자동 갱신",
        "operationId": "add_counseling_feedback_api_v1_counseling_requests__request_id__feedback_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "request_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "상담 신청 ID",
              "title": "Request Id"
            },
            "description": "상담 신청 ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CounselingFeedback"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CounselingRequestResponse"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음 - 일부 작업은 ADMIN 권한 필요"
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/counseling/attachments/upload": {
      "post": {
        "tags": [
          "상담 신청 첨부파일"
        ],
        "summary": "Upload Attachment",
        "description": "첨부파일 업로드\n\n- **request_id**: 상담 신청 ID\n- **file_type**: 파일 타입 (DOCUMENT, IMAGE, TEST_RESULT, OTHER)\n- **file**: 업로드할 파일\n- **description**: 파일 설명 (선택)\n- **file_order**: 파일 순서 (선택)\n- **is_private**: 비공개 여부 (선택)",
        "operationId": "upload_attachment_api_v1_counseling_attachments_upload_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_attachment_api_v1_counseling_attachments_upload_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PCCounselingAttachmentResponse"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음"
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/v1/counseling/attachments/{attachment_id}": {
      "get": {
        "tags": [
          "상담 신청 첨부파일"
        ],
        "summary": "Get Attachment",
        "description": "특정 첨부파일 조회",
        "operationId": "get_attachment_api_v1_counseling_attachments__attachment_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "attachment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Attachment Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PCCounselingAttachmentResponse"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음"
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "상담 신청 첨부파일"
        ],
        "summary": "Update Attachment",
        "description": "첨부파일 정보 수정\n\n수정 가능한 필드:\n- **description**: 파일 설명\n- **file_order**: 파일 순서\n- **is_private**: 비공개 여부\n- **is_active**: 활성 상태",
        "operationId": "update_attachment_api_v1_counseling_attachments__attachment_id__patch",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "attachment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Attachment Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PCCounselingAttachmentUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PCCounselingAttachmentResponse"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음"
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "상담 신청 첨부파일"
        ],
        "summary": "Delete Attachment",
        "description": "첨부파일 삭제\n\n- **hard_delete**: True일 경우 완전 삭제, False일 경우 소프트 삭제",
        "operationId": "delete_attachment_api_v1_counseling_attachments__attachment_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "attachment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Attachment Id"
            }
          },
          {
            "name": "hard_delete",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Hard Delete"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "403": {
            "description": "권한 없음"
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/counseling/attachments/request/{request_id}": {
      "get": {
        "tags": [
          "상담 신청 첨부파일"
        ],
        "summary": "Get Attachments By Request",
        "description": "상담 신청별 첨부파일 목록 조회",
        "operationId": "get_attachments_by_request_api_v1_counseling_attachments_request__request_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "request_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Request Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PCCounselingAttachmentResponse"
                  },
                  "title": "Response Get Attachments By Request Api V1 Counseling Attachments Request  Request Id  Get"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음"
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/counseling/attachments/{attachment_id}/download-url": {
      "get": {
        "tags": [
          "상담 신청 첨부파일"
        ],
        "summary": "Get Download Url",
        "description": "첨부파일 다운로드 URL 생성\n\n- **expires_in**: URL 만료 시간(초) (기본값: 3600초 = 1시간)",
        "operationId": "get_download_url_api_v1_counseling_attachments__attachment_id__download_url_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "name": "attachment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Attachment Id"
            }
          },
          {
            "name": "expires_in",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 3600,
              "title": "Expires In"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "403": {
            "description": "권한 없음"
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/counseling/attachments/presigned-url": {
      "post": {
        "tags": [
          "상담 신청 첨부파일"
        ],
        "summary": "Generate Upload Url",
        "description": "직접 업로드용 Presigned URL 생성\n\n클라이언트가 직접 S3에 업로드할 수 있는 URL을 생성합니다.\n\n- **request_id**: 상담 신청 ID\n- **file_name**: 파일명\n- **file_type**: 파일 타입 (DOCUMENT, IMAGE, TEST_RESULT, OTHER)\n- **expires_in**: URL 만료 시간(초) (기본값: 3600초 = 1시간)",
        "operationId": "generate_upload_url_api_v1_counseling_attachments_presigned_url_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_generate_upload_url_api_v1_counseling_attachments_presigned_url_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PCCounselingAttachmentPresignedUrl"
                }
              }
            }
          },
          "403": {
            "description": "권한 없음"
          },
          "404": {
            "description": "Not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/v1/payments/inicis/prepare": {
      "post": {
        "tags": [
          "결제",
          "결제"
        ],
        "summary": "이니시스 PC 결제 파라미터 생성",
        "description": "INIStdPay.js 호출에 필요한 파라미터 세트를 생성합니다.\n- 서버 signKey로 signature, verification, mKey를 계산합니다.\n- returnUrl/closeUrl을 입력하지 않으면 설정값을 사용합니다.\n- 주문번호(oid)는 미입력 시 서버에서 고유값을 생성합니다.\n\n필수 필드\n- version: 1.0 고정\n- gopaymethod: 요청지불수단 (빈값이면 전체 결제수단 표시)\n- mid: 상점아이디\n- oid: 주문번호(Unique, 미입력 시 서버 생성)\n- price: 결제금액(숫자만, USD는 1달러=100부터)\n- timestamp: 타임스탬프(TimeInMillis)\n- use_chkfake: PC결제 보안강화 \"Y\" 고정\n- signature: SHA256(oid, price, timestamp)\n- verification: SHA256(oid, price, signKey, timestamp)\n- mKey: SHA256(signKey)\n- currency: WON/ USD(카드 결제만 가능)\n- goodname: 40Byte 초과 시 37Byte + ... 자동 변환\n- buyername: 30Byte 초과 시 30Byte로 자동 변환\n- buyertel: 숫자와 \"-\"만 허용\n- buyeremail: \"@\", \".\" 외 특수문자 입력불가\n- returnUrl: 결과수신 URL\n- closeUrl: 결제창 닫기 URL\n- acceptmethod: centerCd(Y) 필수, 여러 옵션은 \":\" 구분\n\n선택/추가 필드\n- quotabase: 할부개월수 노출옵션(일시불 00, 2~6개월 02:03:04:05:06)\n- nointerest: 상점부담 무이자(카드코드-개월:개월,...)\n- tax: 부가세(\"부가세 업체정함\" 계약, 전체금액 10% 이하)\n- taxfree: 비과세 금액(\"부가세 업체정함\" 계약)\n- charset: UTF-8/EUC-KR (기본 UTF-8)\n- payViewType: overlay/popup (기본 overlay)\n- languageView: ko/en/cn (기본 ko)\n- logo_url: 메인로고(URL 전체)\n- logo_2nd: 서브로고(URL 전체)\n- popupUrl: payViewType=popup 시 필요\n- parentemail: 14세 미만 필수, \"@\", \".\" 외 특수문자 불가\n- Ini_SSGPAY_MDN: SSGPAY PUSH 번호(숫자)\n- merchantData: 한글 입력불가(한글 입력 시 urlencode 필수)\n- popreturn: 부모페이지 유지옵션\n- SKIN: 배경색상(기본 #C1272C)\n- paypopup: 안심클릭 POPUP 형태\n- hidebar: 프로그래스바 미노출\n- noeasypay: 간편결제 미노출\n- pinpayId(DI값): 핀페이 고유 식별값\n- vbank(YYYYMMDD[hhmm]): 입금기한/시간\n- HPP(1|2): 휴대폰결제 유형(1 콘텐츠 / 2 실물, MID 계약 기준)\n\nacceptmethod 예시\n- centerCd(Y):below1000:ini_onlycardcode(04:12):va_receipt:HPP(1)",
        "operationId": "prepare_inicis_payment_api_v1_payments_inicis_prepare_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InicisPaymentPrepareRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InicisPaymentPayload"
                }
              }
            }
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/v1/payments/inicis/approve": {
      "post": {
        "tags": [
          "결제",
          "결제"
        ],
        "summary": "이니시스 PC 승인요청 파라미터 생성",
        "description": "승인요청(인증결과 STEP2) 파라미터를 생성합니다.\n- STEP2 인증결과에서 전달된 authUrl/authToken을 입력받아 승인 요청용 바디를 만듭니다.\n- 서버 signKey로 signature, verification을 계산합니다.\n- IDC 센터코드(idc_name)와 authUrl 호스트를 비교하여 검증합니다.\n\n필수 필드\n- authToken: 인증결과의 authToken\n- authUrl: 인증결과의 승인요청 URL (호스트가 IDC와 일치해야 함)\n- timestamp: 서버에서 생성(TimeInMillis)\n- signature: SHA256(authToken + timestamp)\n- verification: SHA256(authToken + signKey + timestamp)\n- mid: 환경설정 MID\n- charset: 기본 UTF-8\n- format: 기본 JSON\n\n선택 필드\n- price: 인증가격(옵션)\n- resultLanguage: 승인 응답 resultMsg 언어 설정 (ENG/CHI/기본 국문)",
        "operationId": "approve_inicis_payment_api_v1_payments_inicis_approve_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InicisPaymentApproveRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InicisPaymentApprovePayload"
                }
              }
            }
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ]
      }
    },
    "/api/v1/payments/inicis/approve/result": {
      "post": {
        "tags": [
          "결제",
          "결제"
        ],
        "summary": "이니시스 PC 승인요청 실행 및 결과 조회",
        "description": "승인요청을 실제 authUrl로 POST하고 승인결과를 JSON으로 반환합니다.\n- authUrl/IDC 호스트를 검증합니다.\n- 서버 signKey로 signature, verification을 계산합니다.\n- format은 JSON으로 강제하여 결과를 파싱합니다.\n- 실패 시 일부 필드가 null일 수 있습니다.",
        "operationId": "execute_inicis_approval_api_v1_payments_inicis_approve_result_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InicisPaymentApproveRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InicisPaymentApproveResult"
                }
              }
            }
          },
          "404": {
            "description": "찾을 수 없음"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          },
          {
            "Bearer": []
          }
        ]
      }
    },
    "/": {
      "get": {
        "tags": [
          "헬스체크"
        ],
        "summary": "Root",
        "description": "API 루트 엔드포인트\n서버 상태 확인용",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "tags": [
          "헬스체크"
        ],
        "summary": "Health Check",
        "description": "헬스체크 엔드포인트\n서버 및 데이터베이스 상태 확인",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AiLogFeedbackRequest": {
        "properties": {
          "reaction": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 16
              },
              {
                "type": "null"
              }
            ],
            "title": "Reaction",
            "description": "피드백 반응: like 또는 dislike"
          },
          "comment": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Comment",
            "description": "선택적 텍스트 피드백"
          }
        },
        "type": "object",
        "title": "AiLogFeedbackRequest",
        "description": "AI 로그 피드백 추가/수정용 페이로드."
      },
      "AiLogResponse": {
        "properties": {
          "conversation_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 64
              },
              {
                "type": "null"
              }
            ],
            "title": "Conversation Id",
            "description": "대화/스레드 식별자"
          },
          "status": {
            "type": "string",
            "maxLength": 32,
            "title": "Status",
            "description": "호출 상태(영/한): queued(대기)|in_progress(진행중)|succeeded(성공)|failed(실패)|timeout(타임아웃)|rate_limited(속도 제한)|cancelled(취소)|validation_error(검증 오류)|api_error(API 오류)|content_filter(콘텐츠 필터)",
            "default": "queued"
          },
          "status_changed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status Changed At",
            "description": "마지막 상태 변경 시각"
          },
          "request_message": {
            "type": "string",
            "title": "Request Message",
            "description": "사용자 요청 내용"
          },
          "request_model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Request Model",
            "description": "요청에 사용된 모델 이름"
          },
          "vector_store_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 64
              },
              {
                "type": "null"
              }
            ],
            "title": "Vector Store Id",
            "description": "실제로 사용된 Vector Store ID"
          },
          "run_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 128
              },
              {
                "type": "null"
              }
            ],
            "title": "Run Id",
            "description": "제공자 요청/실행 ID"
          },
          "error_code": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 64
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Code",
            "description": "실패/제한 발생 시 에러 코드"
          },
          "error_detail": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Detail",
            "description": "에러 상세 메시지 또는 스택 요약"
          },
          "temperature": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Temperature",
            "description": "요청에 사용된 샘플링 temperature"
          },
          "max_tokens": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Tokens",
            "description": "호출 시 설정한 최대 토큰 수"
          },
          "request_metadata": {
            "anyOf": [
              {},
              {
                "type": "null"
              }
            ],
            "title": "Request Metadata",
            "description": "요청 메타데이터 스냅샷(IP, UA, 트레이싱, 옵션 등)"
          },
          "conversation_history": {
            "anyOf": [
              {},
              {
                "type": "null"
              }
            ],
            "title": "Conversation History",
            "description": "대화 이력 페이로드"
          },
          "response_message": {
            "type": "string",
            "title": "Response Message",
            "description": "모델 응답"
          },
          "tokens_used": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tokens Used",
            "description": "총 사용 토큰 수"
          },
          "prompt_tokens": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prompt Tokens",
            "description": "입력 토큰 수"
          },
          "cached_prompt_tokens": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cached Prompt Tokens",
            "description": "캐시된 프롬프트 토큰(있는 경우)"
          },
          "completion_tokens": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completion Tokens",
            "description": "생성된 출력 토큰 수"
          },
          "api_cost_usd": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Cost Usd",
            "description": "예상 API 비용(USD)"
          },
          "latency_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Latency Ms",
            "description": "엔드 투 엔드 지연 시간(ms)"
          },
          "feedback_reaction": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Feedback Reaction",
            "description": "사용자 반응(좋아요 또는 싫어요)"
          },
          "feedback_comment": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Feedback Comment",
            "description": "사용자 피드백 코멘트"
          },
          "feedback_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Feedback At",
            "description": "피드백이 기록된 시각"
          },
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "기본 키"
          },
          "user_id": {
            "type": "integer",
            "title": "User Id",
            "description": "호출을 시작한 사용자 ID"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "생성 시각"
          }
        },
        "type": "object",
        "required": [
          "request_message",
          "response_message",
          "id",
          "user_id",
          "created_at"
        ],
        "title": "AiLogResponse",
        "description": "AI 로그 응답 모델."
      },
      "Body_generate_upload_url_api_v1_counseling_attachments_presigned_url_post": {
        "properties": {
          "request_id": {
            "type": "integer",
            "title": "Request Id"
          },
          "file_name": {
            "type": "string",
            "title": "File Name"
          },
          "file_type": {
            "type": "string",
            "title": "File Type"
          },
          "expires_in": {
            "type": "integer",
            "title": "Expires In",
            "default": 3600
          }
        },
        "type": "object",
        "required": [
          "request_id",
          "file_name",
          "file_type"
        ],
        "title": "Body_generate_upload_url_api_v1_counseling_attachments_presigned_url_post"
      },
      "Body_login_for_access_token_api_v1_auth_login_post": {
        "properties": {
          "grant_type": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "password"
              },
              {
                "type": "null"
              }
            ],
            "title": "Grant Type"
          },
          "username": {
            "type": "string",
            "title": "Username"
          },
          "password": {
            "type": "string",
            "title": "Password"
          },
          "scope": {
            "type": "string",
            "title": "Scope",
            "default": ""
          },
          "client_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Id"
          },
          "client_secret": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Secret"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "Body_login_for_access_token_api_v1_auth_login_post"
      },
      "Body_upload_attachment_api_v1_counseling_attachments_upload_post": {
        "properties": {
          "request_id": {
            "type": "integer",
            "title": "Request Id"
          },
          "file_type": {
            "type": "string",
            "title": "File Type"
          },
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "file_order": {
            "type": "integer",
            "title": "File Order"
          },
          "is_private": {
            "type": "boolean",
            "title": "Is Private",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "request_id",
          "file_type",
          "file"
        ],
        "title": "Body_upload_attachment_api_v1_counseling_attachments_upload_post"
      },
      "Body_upload_file_to_vector_store_api_v1_ai_assistant_vector_stores__vector_store_id__files_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_file_to_vector_store_api_v1_ai_assistant_vector_stores__vector_store_id__files_post"
      },
      "Body_upload_to_pinecone_api_v1_pinecone_upload_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_to_pinecone_api_v1_pinecone_upload_post"
      },
      "ChecklistDetailResponse": {
        "properties": {
          "checklist_id": {
            "type": "integer",
            "title": "Checklist Id"
          },
          "checklist_name": {
            "type": "string",
            "title": "Checklist Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "scale_count": {
            "type": "integer",
            "title": "Scale Count"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "questions": {
            "items": {
              "$ref": "#/components/schemas/ChecklistQuestionResponse"
            },
            "type": "array",
            "title": "Questions"
          }
        },
        "type": "object",
        "required": [
          "checklist_id",
          "checklist_name",
          "scale_count",
          "created_at",
          "updated_at",
          "questions"
        ],
        "title": "ChecklistDetailResponse"
      },
      "ChecklistListResponse": {
        "properties": {
          "checklist_id": {
            "type": "integer",
            "title": "Checklist Id"
          },
          "checklist_name": {
            "type": "string",
            "title": "Checklist Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "scale_count": {
            "type": "integer",
            "title": "Scale Count"
          },
          "question_count": {
            "type": "integer",
            "title": "Question Count"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "checklist_id",
          "checklist_name",
          "scale_count",
          "question_count",
          "created_at",
          "updated_at"
        ],
        "title": "ChecklistListResponse"
      },
      "ChecklistQuestionResponse": {
        "properties": {
          "question_id": {
            "type": "integer",
            "title": "Question Id"
          },
          "question_number": {
            "type": "integer",
            "title": "Question Number"
          },
          "question_text": {
            "type": "string",
            "title": "Question Text"
          },
          "category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category"
          },
          "weight": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Weight"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "question_id",
          "question_number",
          "question_text",
          "created_at",
          "updated_at"
        ],
        "title": "ChecklistQuestionResponse"
      },
      "ChecklistResponseBatch": {
        "properties": {
          "assignment_id": {
            "type": "integer",
            "title": "Assignment Id",
            "description": "상담 과제 ID"
          },
          "respondent_type": {
            "$ref": "#/components/schemas/RespondentType"
          },
          "checklist_id": {
            "type": "integer",
            "title": "Checklist Id",
            "description": "체크리스트 ID"
          },
          "responses": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "title": "Responses",
            "description": "응답 목록 [{'question_id': 1, 'response_score': 3}, ...] (response_score는 1~5 숫자)"
          }
        },
        "type": "object",
        "required": [
          "assignment_id",
          "respondent_type",
          "checklist_id",
          "responses"
        ],
        "title": "ChecklistResponseBatch",
        "description": "체크리스트 일괄 응답"
      },
      "ChecklistResponseCreate": {
        "properties": {
          "assignment_id": {
            "type": "integer",
            "title": "Assignment Id",
            "description": "상담 과제 ID"
          },
          "respondent_type": {
            "$ref": "#/components/schemas/RespondentType"
          },
          "checklist_id": {
            "type": "integer",
            "title": "Checklist Id",
            "description": "체크리스트 ID"
          },
          "question_id": {
            "type": "integer",
            "title": "Question Id",
            "description": "문항 ID"
          },
          "response_score": {
            "type": "integer",
            "maximum": 5,
            "minimum": 1,
            "title": "Response Score",
            "description": "응답 점수 (숫자 1~5 입력, 예: 1, 2, 3, 4, 5)"
          }
        },
        "type": "object",
        "required": [
          "assignment_id",
          "respondent_type",
          "checklist_id",
          "question_id",
          "response_score"
        ],
        "title": "ChecklistResponseCreate",
        "description": "체크리스트 응답 생성"
      },
      "ChecklistResultResponse": {
        "properties": {
          "result_id": {
            "type": "integer",
            "title": "Result Id"
          },
          "assignment_id": {
            "type": "integer",
            "title": "Assignment Id"
          },
          "respondent_type": {
            "$ref": "#/components/schemas/RespondentType"
          },
          "checklist_id": {
            "type": "integer",
            "title": "Checklist Id"
          },
          "question_id": {
            "type": "integer",
            "title": "Question Id"
          },
          "response_binary": {
            "type": "string",
            "title": "Response Binary"
          },
          "response_score": {
            "type": "integer",
            "title": "Response Score",
            "description": "변환된 응답 점수"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "result_id",
          "assignment_id",
          "respondent_type",
          "checklist_id",
          "question_id",
          "response_binary",
          "response_score",
          "created_at",
          "updated_at"
        ],
        "title": "ChecklistResultResponse",
        "description": "체크리스트 결과 응답"
      },
      "ChecklistResultSaveResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "saved_count": {
            "type": "integer",
            "title": "Saved Count"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/ChecklistResultResponse"
            },
            "type": "array",
            "title": "Results"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message",
          "saved_count",
          "results"
        ],
        "title": "ChecklistResultSaveResponse",
        "description": "체크리스트 결과 저장 응답"
      },
      "Client": {
        "properties": {
          "student_name": {
            "type": "string",
            "maxLength": 100,
            "title": "Student Name",
            "description": "학생(내담자) 이름"
          },
          "parent_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Name",
            "description": "학부모 이름"
          },
          "parent_contact": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Contact",
            "description": "학부모 연락처"
          },
          "parent_email": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Email",
            "description": "학부모 이메일"
          },
          "birth_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Birth Date",
            "description": "생년월일"
          },
          "grade": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 10
              },
              {
                "type": "null"
              }
            ],
            "title": "Grade",
            "description": "학년"
          },
          "academic_track": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Academic Track",
            "description": "계열(문과/이과 등)"
          },
          "contact": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Contact",
            "description": "연락처"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Email",
            "description": "이메일"
          },
          "application_source": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Application Source",
            "description": "신청경로(어떻게 상담을 알게 되었는지)"
          },
          "institution_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Institution Name",
            "description": "소속 기관명(학교/학원/기타 기관 등)"
          },
          "application_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Application Reason",
            "description": "상담 신청 이유 또는 목적"
          },
          "client_id": {
            "type": "integer",
            "title": "Client Id",
            "description": "내담자 고유 식별자"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At",
            "description": "레코드 생성 시간"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At",
            "description": "레코드 업데이트 시간"
          }
        },
        "type": "object",
        "required": [
          "student_name",
          "client_id"
        ],
        "title": "Client",
        "description": "내담자 응답"
      },
      "ClientCreate": {
        "properties": {
          "student_name": {
            "type": "string",
            "maxLength": 100,
            "title": "Student Name",
            "description": "학생(내담자) 이름"
          },
          "parent_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Name",
            "description": "학부모 이름"
          },
          "parent_contact": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Contact",
            "description": "학부모 연락처"
          },
          "parent_email": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Email",
            "description": "학부모 이메일"
          },
          "birth_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Birth Date",
            "description": "생년월일"
          },
          "grade": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 10
              },
              {
                "type": "null"
              }
            ],
            "title": "Grade",
            "description": "학년"
          },
          "academic_track": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Academic Track",
            "description": "계열(문과/이과 등)"
          },
          "contact": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Contact",
            "description": "연락처"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Email",
            "description": "이메일"
          },
          "application_source": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Application Source",
            "description": "신청경로(어떻게 상담을 알게 되었는지)"
          },
          "institution_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Institution Name",
            "description": "소속 기관명(학교/학원/기타 기관 등)"
          },
          "application_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Application Reason",
            "description": "상담 신청 이유 또는 목적"
          }
        },
        "type": "object",
        "required": [
          "student_name"
        ],
        "title": "ClientCreate",
        "description": "내담자 생성"
      },
      "ClientList": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/Client"
            },
            "type": "array",
            "title": "Items",
            "description": "내담자 목록"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "전체 개수"
          },
          "page": {
            "type": "integer",
            "title": "Page",
            "description": "현재 페이지"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size",
            "description": "페이지 크기"
          },
          "total_pages": {
            "type": "integer",
            "title": "Total Pages",
            "description": "전체 페이지 수"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size",
          "total_pages"
        ],
        "title": "ClientList",
        "description": "내담자 목록 응답"
      },
      "ClientUpdate": {
        "properties": {
          "student_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Student Name",
            "description": "학생(내담자) 이름"
          },
          "parent_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Name",
            "description": "학부모 이름"
          },
          "parent_contact": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Contact",
            "description": "학부모 연락처"
          },
          "parent_email": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Email",
            "description": "학부모 이메일"
          },
          "birth_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Birth Date",
            "description": "생년월일"
          },
          "grade": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 10
              },
              {
                "type": "null"
              }
            ],
            "title": "Grade",
            "description": "학년"
          },
          "academic_track": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Academic Track",
            "description": "계열(문과/이과 등)"
          },
          "contact": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Contact",
            "description": "연락처"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Email",
            "description": "이메일"
          },
          "application_source": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Application Source",
            "description": "신청경로(어떻게 상담을 알게 되었는지)"
          },
          "institution_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Institution Name",
            "description": "소속 기관명(학교/학원/기타 기관 등)"
          },
          "application_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Application Reason",
            "description": "상담 신청 이유 또는 목적"
          }
        },
        "type": "object",
        "title": "ClientUpdate",
        "description": "내담자 수정"
      },
      "ConnectedVectorStore": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Vector Store ID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Vector Store 이름"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name"
        ],
        "title": "ConnectedVectorStore",
        "description": "파일이 연결된 Vector Store 정보",
        "example": {
          "id": "vs_abc123",
          "name": "심리상담 문서"
        }
      },
      "ConversationDetailEntry": {
        "properties": {
          "log_id": {
            "type": "integer",
            "title": "Log Id",
            "description": "로그 ID"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "로그 상태"
          },
          "request_message": {
            "type": "string",
            "title": "Request Message",
            "description": "사용자 요청 메시지"
          },
          "response_message": {
            "type": "string",
            "title": "Response Message",
            "description": "모델 응답"
          },
          "request_model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Request Model",
            "description": "사용된 모델"
          },
          "run_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Run Id",
            "description": "OpenAI run ID"
          },
          "tokens_used": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tokens Used",
            "description": "사용된 총 토큰 수"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "로그 생성 시각"
          }
        },
        "type": "object",
        "required": [
          "log_id",
          "status",
          "request_message",
          "response_message",
          "created_at"
        ],
        "title": "ConversationDetailEntry",
        "description": "대화 내 단일 로그 엔트리."
      },
      "ConversationDetailResponse": {
        "properties": {
          "conversation_id": {
            "type": "string",
            "title": "Conversation Id",
            "description": "대화/스레드 ID"
          },
          "total_messages": {
            "type": "integer",
            "title": "Total Messages",
            "description": "엔트리 개수"
          },
          "entries": {
            "items": {
              "$ref": "#/components/schemas/ConversationDetailEntry"
            },
            "type": "array",
            "title": "Entries"
          }
        },
        "type": "object",
        "required": [
          "conversation_id",
          "total_messages",
          "entries"
        ],
        "title": "ConversationDetailResponse",
        "description": "대화 상세 응답."
      },
      "ConversationSummary": {
        "properties": {
          "conversation_id": {
            "type": "string",
            "title": "Conversation Id",
            "description": "대화/스레드 ID"
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "제목으로 사용하는 첫 질문 텍스트"
          },
          "first_message_at": {
            "type": "string",
            "format": "date-time",
            "title": "First Message At",
            "description": "첫 메시지 시각"
          },
          "last_message_at": {
            "type": "string",
            "format": "date-time",
            "title": "Last Message At",
            "description": "마지막 메시지 시각"
          },
          "total_messages": {
            "type": "integer",
            "title": "Total Messages",
            "description": "스레드에 포함된 로그 개수"
          }
        },
        "type": "object",
        "required": [
          "conversation_id",
          "title",
          "first_message_at",
          "last_message_at",
          "total_messages"
        ],
        "title": "ConversationSummary",
        "description": "사용자용 대화(스레드) 요약."
      },
      "ConversationSummaryListResponse": {
        "properties": {
          "conversations": {
            "items": {
              "$ref": "#/components/schemas/ConversationSummary"
            },
            "type": "array",
            "title": "Conversations"
          }
        },
        "type": "object",
        "required": [
          "conversations"
        ],
        "title": "ConversationSummaryListResponse",
        "description": "대화 요약 목록 응답."
      },
      "CounselingAssignment": {
        "properties": {
          "session_id": {
            "type": "integer",
            "title": "Session Id",
            "description": "상담 회차 세션 ID"
          },
          "client_id": {
            "type": "integer",
            "title": "Client Id",
            "description": "내담자 ID"
          },
          "counselor_id": {
            "type": "integer",
            "title": "Counselor Id",
            "description": "상담사 ID"
          },
          "counseling_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Counseling Date",
            "description": "상담 날짜"
          },
          "attribute": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Attribute",
            "description": "상담 속성 (결제 필요 여부와 관련된 속성)"
          },
          "account_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Account Id",
            "description": "TBL_SVC_ACCOUNT 참조 ID"
          },
          "assignment_id": {
            "type": "integer",
            "title": "Assignment Id",
            "description": "배정 ID"
          },
          "assigned_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assigned Date"
          },
          "changed_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Changed Date"
          },
          "session": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CounselingSession"
              },
              {
                "type": "null"
              }
            ]
          },
          "counselor_info": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Counselor Info",
            "description": "상담사 정보"
          },
          "client_info": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Info",
            "description": "내담자 정보"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "client_id",
          "counselor_id",
          "assignment_id"
        ],
        "title": "CounselingAssignment"
      },
      "CounselingAssignmentCreate": {
        "properties": {
          "session_id": {
            "type": "integer",
            "title": "Session Id",
            "description": "상담 회차 세션 ID"
          },
          "client_id": {
            "type": "integer",
            "title": "Client Id",
            "description": "내담자 ID"
          },
          "counselor_id": {
            "type": "integer",
            "title": "Counselor Id",
            "description": "상담사 ID"
          },
          "counseling_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Counseling Date",
            "description": "상담 날짜"
          },
          "attribute": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Attribute",
            "description": "상담 속성 (결제 필요 여부와 관련된 속성)"
          },
          "account_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Account Id",
            "description": "TBL_SVC_ACCOUNT 참조 ID"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "client_id",
          "counselor_id"
        ],
        "title": "CounselingAssignmentCreate"
      },
      "CounselingAssignmentList": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/CounselingAssignment"
            },
            "type": "array",
            "title": "Items",
            "description": "상담 배정 목록"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "전체 개수"
          },
          "page": {
            "type": "integer",
            "title": "Page",
            "description": "현재 페이지"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size",
            "description": "페이지 크기"
          },
          "total_pages": {
            "type": "integer",
            "title": "Total Pages",
            "description": "전체 페이지 수"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size",
          "total_pages"
        ],
        "title": "CounselingAssignmentList",
        "description": "상담 배정 목록 응답"
      },
      "CounselingAssignmentUpdate": {
        "properties": {
          "session_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id"
          },
          "client_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Id"
          },
          "counselor_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Counselor Id"
          },
          "counseling_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Counseling Date"
          },
          "attribute": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Attribute"
          },
          "account_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Account Id"
          }
        },
        "type": "object",
        "title": "CounselingAssignmentUpdate"
      },
      "CounselingCategory": {
        "type": "string",
        "enum": [
          "가족",
          "대인관계",
          "진로",
          "정신건강",
          "스트레스",
          "중독",
          "트라우마",
          "기타"
        ],
        "title": "CounselingCategory",
        "description": "상담 카테고리"
      },
      "CounselingClientInfo": {
        "properties": {
          "client_id": {
            "type": "integer",
            "title": "Client Id",
            "description": "내담자 ID"
          },
          "student_name": {
            "type": "string",
            "title": "Student Name",
            "description": "학생(내담자) 이름"
          },
          "parent_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Name",
            "description": "학부모 이름"
          },
          "grade": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Grade",
            "description": "학년"
          },
          "academic_track": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Academic Track",
            "description": "계열(문과/이과 등)"
          },
          "institution_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Institution Name",
            "description": "소속 기관명"
          },
          "approval_role": {
            "type": "string",
            "title": "Approval Role",
            "description": "승인된 역할 (student/parent1/parent2)"
          },
          "is_approved": {
            "type": "boolean",
            "title": "Is Approved",
            "description": "승인 여부"
          }
        },
        "type": "object",
        "required": [
          "client_id",
          "student_name",
          "approval_role",
          "is_approved"
        ],
        "title": "CounselingClientInfo",
        "description": "내담자 정보"
      },
      "CounselingFeedback": {
        "properties": {
          "client_feedback": {
            "type": "string",
            "minLength": 10,
            "title": "Client Feedback",
            "description": "내담자 피드백 (최소 10자)"
          },
          "rating": {
            "type": "integer",
            "maximum": 5,
            "minimum": 1,
            "title": "Rating",
            "description": "만족도 평점 (1-5)"
          }
        },
        "type": "object",
        "required": [
          "client_feedback",
          "rating"
        ],
        "title": "CounselingFeedback",
        "description": "상담 피드백 스키마"
      },
      "CounselingMethod": {
        "type": "string",
        "enum": [
          "ONLINE",
          "OFFLINE",
          "PHONE",
          "CHAT"
        ],
        "title": "CounselingMethod",
        "description": "상담 방식"
      },
      "CounselingProgram": {
        "properties": {
          "program_name": {
            "type": "string",
            "title": "Program Name",
            "description": "프로그램 이름"
          },
          "start_date": {
            "type": "string",
            "format": "date",
            "title": "Start Date",
            "description": "시작 날짜"
          },
          "end_date": {
            "type": "string",
            "format": "date",
            "title": "End Date",
            "description": "종료 날짜"
          },
          "year": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Year",
            "description": "연도"
          },
          "semester": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Semester",
            "description": "학기"
          },
          "subprogram_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subprogram Name",
            "description": "서브프로그램 이름"
          },
          "is_active": {
            "type": "integer",
            "title": "Is Active",
            "description": "사용 여부 (0: 삭제됨, 1: 활성)",
            "default": 1
          },
          "attribute": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Attribute",
            "description": "프로그램 속성"
          },
          "program_id": {
            "type": "integer",
            "title": "Program Id",
            "description": "프로그램 ID"
          }
        },
        "type": "object",
        "required": [
          "program_name",
          "start_date",
          "end_date",
          "program_id"
        ],
        "title": "CounselingProgram"
      },
      "CounselingRequestAdminUpdate": {
        "properties": {
          "status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RequestStatus"
              },
              {
                "type": "null"
              }
            ],
            "description": "상담 신청 상태"
          },
          "payment_status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/PaymentStatus"
              },
              {
                "type": "null"
              }
            ],
            "description": "결제 상태"
          },
          "assigned_counselor_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assigned Counselor Id",
            "description": "배정된 상담사 ID"
          },
          "counseling_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Counseling Date",
            "description": "확정된 상담일시"
          },
          "counseling_notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Counseling Notes",
            "description": "상담 진행 노트"
          },
          "test_results_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Test Results Id",
            "description": "연결된 심리검사 결과 ID"
          }
        },
        "type": "object",
        "title": "CounselingRequestAdminUpdate",
        "description": "상담 신청 관리자 수정 스키마"
      },
      "CounselingRequestCreate": {
        "properties": {
          "request_type": {
            "allOf": [
              {
                "$ref": "#/components/schemas/RequestType"
              }
            ],
            "description": "상담유형: GENERAL(일반), EMERGENCY(긴급), FOLLOWUP(후속)"
          },
          "category": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CounselingCategory"
              },
              {
                "type": "null"
              }
            ],
            "description": "상담 카테고리"
          },
          "title": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Title",
            "description": "상담 제목"
          },
          "content": {
            "type": "string",
            "minLength": 10,
            "title": "Content",
            "description": "상담 사연 내용 (최소 10자)"
          },
          "urgency_level": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 5,
                "minimum": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Urgency Level",
            "description": "긴급도 (1:매우긴급, 5:일반)"
          },
          "preferred_counselor_gender": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^[MF]$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Counselor Gender",
            "description": "선호 상담사 성별 (M/F)"
          },
          "preferred_date1": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Date1",
            "description": "희망 상담일시 1순위"
          },
          "preferred_date2": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Date2",
            "description": "희망 상담일시 2순위"
          },
          "preferred_date3": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Date3",
            "description": "희망 상담일시 3순위"
          },
          "counseling_method": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CounselingMethod"
              },
              {
                "type": "null"
              }
            ],
            "description": "상담방식: ONLINE, OFFLINE, PHONE, CHAT"
          },
          "is_test_required": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Test Required",
            "description": "심리검사 필요 여부"
          },
          "previous_request_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Previous Request Id",
            "description": "이전 상담 신청 ID (후속상담인 경우)"
          },
          "reservation_idx": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reservation Idx",
            "description": "예약 인덱스 (CRM 연동용)"
          },
          "account_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Account Id",
            "description": "계정 ID (기업 계정인 경우)"
          }
        },
        "type": "object",
        "required": [
          "request_type",
          "title",
          "content"
        ],
        "title": "CounselingRequestCreate",
        "description": "상담 신청 생성 스키마"
      },
      "CounselingRequestListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/CounselingRequestResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          },
          "total_pages": {
            "type": "integer",
            "title": "Total Pages"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size",
          "total_pages"
        ],
        "title": "CounselingRequestListResponse",
        "description": "상담 신청 목록 응답 스키마"
      },
      "CounselingRequestResponse": {
        "properties": {
          "request_id": {
            "type": "integer",
            "title": "Request Id"
          },
          "user_id": {
            "type": "integer",
            "title": "User Id"
          },
          "reservation_idx": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reservation Idx"
          },
          "account_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Account Id"
          },
          "request_type": {
            "type": "string",
            "title": "Request Type"
          },
          "category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "content": {
            "type": "string",
            "title": "Content"
          },
          "urgency_level": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Urgency Level"
          },
          "preferred_counselor_gender": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Counselor Gender"
          },
          "preferred_date1": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Date1"
          },
          "preferred_date2": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Date2"
          },
          "preferred_date3": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Date3"
          },
          "counseling_method": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Counseling Method"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "payment_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Payment Status"
          },
          "assigned_counselor_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assigned Counselor Id"
          },
          "assignment_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assignment Date"
          },
          "counseling_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Counseling Date"
          },
          "counseling_notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Counseling Notes"
          },
          "client_feedback": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Feedback"
          },
          "rating": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rating"
          },
          "is_test_required": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Test Required"
          },
          "test_results_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Test Results Id"
          },
          "previous_request_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Previous Request Id"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          },
          "submitted_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Submitted At"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          }
        },
        "type": "object",
        "required": [
          "request_id",
          "user_id",
          "reservation_idx",
          "account_id",
          "request_type",
          "category",
          "title",
          "content",
          "urgency_level",
          "preferred_counselor_gender",
          "preferred_date1",
          "preferred_date2",
          "preferred_date3",
          "counseling_method",
          "status",
          "payment_status",
          "assigned_counselor_id",
          "assignment_date",
          "counseling_date",
          "counseling_notes",
          "client_feedback",
          "rating",
          "is_test_required",
          "test_results_id",
          "previous_request_id",
          "created_at",
          "updated_at",
          "submitted_at",
          "completed_at"
        ],
        "title": "CounselingRequestResponse",
        "description": "상담 신청 응답 스키마"
      },
      "CounselingRequestUpdate": {
        "properties": {
          "request_type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RequestType"
              },
              {
                "type": "null"
              }
            ],
            "description": "상담유형"
          },
          "category": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CounselingCategory"
              },
              {
                "type": "null"
              }
            ],
            "description": "상담 카테고리"
          },
          "title": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Title",
            "description": "상담 제목"
          },
          "content": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 10
              },
              {
                "type": "null"
              }
            ],
            "title": "Content",
            "description": "상담 사연 내용"
          },
          "urgency_level": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 5,
                "minimum": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Urgency Level",
            "description": "긴급도"
          },
          "preferred_counselor_gender": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^[MF]$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Counselor Gender",
            "description": "선호 상담사 성별"
          },
          "preferred_date1": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Date1",
            "description": "희망 상담일시 1순위"
          },
          "preferred_date2": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Date2",
            "description": "희망 상담일시 2순위"
          },
          "preferred_date3": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Date3",
            "description": "희망 상담일시 3순위"
          },
          "counseling_method": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CounselingMethod"
              },
              {
                "type": "null"
              }
            ],
            "description": "상담방식"
          },
          "is_test_required": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Test Required",
            "description": "심리검사 필요 여부"
          }
        },
        "type": "object",
        "title": "CounselingRequestUpdate",
        "description": "상담 신청 수정 스키마"
      },
      "CounselingSession": {
        "properties": {
          "program_id": {
            "type": "integer",
            "title": "Program Id",
            "description": "프로그램 ID"
          },
          "session_name": {
            "type": "string",
            "title": "Session Name",
            "description": "세션 이름"
          },
          "session_order": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Order",
            "description": "세션 순서"
          },
          "is_active": {
            "type": "integer",
            "title": "Is Active",
            "description": "사용 여부 (0: 삭제됨, 1: 활성)",
            "default": 1
          },
          "subsession_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subsession Name",
            "description": "서브세션 이름"
          },
          "month": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Month",
            "description": "월 정보"
          },
          "week": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Week",
            "description": "주 정보"
          },
          "session_id": {
            "type": "integer",
            "title": "Session Id",
            "description": "세션 ID"
          },
          "program": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CounselingProgram"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "program_id",
          "session_name",
          "session_id"
        ],
        "title": "CounselingSession"
      },
      "CounselingStatistics": {
        "properties": {
          "total_requests": {
            "type": "integer",
            "title": "Total Requests",
            "description": "전체 상담 신청 수"
          },
          "pending_requests": {
            "type": "integer",
            "title": "Pending Requests",
            "description": "대기 중인 상담 수"
          },
          "in_progress_requests": {
            "type": "integer",
            "title": "In Progress Requests",
            "description": "진행 중인 상담 수"
          },
          "completed_requests": {
            "type": "integer",
            "title": "Completed Requests",
            "description": "완료된 상담 수"
          },
          "average_rating": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Average Rating",
            "description": "평균 만족도"
          },
          "emergency_requests": {
            "type": "integer",
            "title": "Emergency Requests",
            "description": "긴급 상담 수"
          },
          "by_category": {
            "type": "object",
            "title": "By Category",
            "description": "카테고리별 상담 수"
          },
          "by_method": {
            "type": "object",
            "title": "By Method",
            "description": "상담 방식별 수"
          }
        },
        "type": "object",
        "required": [
          "total_requests",
          "pending_requests",
          "in_progress_requests",
          "completed_requests",
          "emergency_requests",
          "by_category",
          "by_method"
        ],
        "title": "CounselingStatistics",
        "description": "상담 통계 스키마"
      },
      "Counselor": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "title": "Name",
            "description": "상담사 이름"
          },
          "contact": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Contact",
            "description": "상담사 연락처"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Email",
            "description": "상담사 이메일"
          },
          "web_user_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Web User Id",
            "description": "WEB 회원번호"
          },
          "crm_user_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Crm User Id",
            "description": "CRM 회원번호"
          },
          "attribute": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Attribute",
            "description": "과정구분(임시로사용)"
          },
          "memo": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Memo",
            "description": "메모란"
          },
          "checklist_disabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Checklist Disabled",
            "description": "체크리스트 비활성화 (True: 비활성화, False/None: 활성화)"
          },
          "counselor_id": {
            "type": "integer",
            "title": "Counselor Id",
            "description": "상담사 ID"
          }
        },
        "type": "object",
        "required": [
          "name",
          "counselor_id"
        ],
        "title": "Counselor",
        "description": "상담사 응답"
      },
      "CounselorCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "title": "Name",
            "description": "상담사 이름"
          },
          "contact": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Contact",
            "description": "상담사 연락처"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Email",
            "description": "상담사 이메일"
          },
          "web_user_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Web User Id",
            "description": "WEB 회원번호"
          },
          "crm_user_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Crm User Id",
            "description": "CRM 회원번호"
          },
          "attribute": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Attribute",
            "description": "과정구분(임시로사용)"
          },
          "memo": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Memo",
            "description": "메모란"
          },
          "checklist_disabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Checklist Disabled",
            "description": "체크리스트 비활성화 (True: 비활성화, False/None: 활성화)"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "CounselorCreate",
        "description": "상담사 생성"
      },
      "CounselorList": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/Counselor"
            },
            "type": "array",
            "title": "Items",
            "description": "상담사 목록"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "전체 개수"
          },
          "page": {
            "type": "integer",
            "title": "Page",
            "description": "현재 페이지"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size",
            "description": "페이지 크기"
          },
          "total_pages": {
            "type": "integer",
            "title": "Total Pages",
            "description": "전체 페이지 수"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size",
          "total_pages"
        ],
        "title": "CounselorList",
        "description": "상담사 목록 응답"
      },
      "CounselorUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "상담사 이름"
          },
          "contact": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Contact",
            "description": "상담사 연락처"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Email",
            "description": "상담사 이메일"
          },
          "web_user_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Web User Id",
            "description": "WEB 회원번호"
          },
          "crm_user_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Crm User Id",
            "description": "CRM 회원번호"
          },
          "attribute": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Attribute",
            "description": "과정구분(임시로사용)"
          },
          "memo": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Memo",
            "description": "메모란"
          },
          "checklist_disabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Checklist Disabled",
            "description": "체크리스트 비활성화 (True: 비활성화, False/None: 활성화)"
          }
        },
        "type": "object",
        "title": "CounselorUpdate",
        "description": "상담사 수정"
      },
      "EmailCheckRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "확인할 이메일",
            "example": "user@example.com"
          }
        },
        "type": "object",
        "required": [
          "email"
        ],
        "title": "EmailCheckRequest",
        "description": "이메일 중복 체크 요청 스키마"
      },
      "EmailCheckResponse": {
        "properties": {
          "available": {
            "type": "boolean",
            "title": "Available",
            "description": "사용 가능 여부"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "응답 메시지"
          }
        },
        "type": "object",
        "required": [
          "available",
          "message"
        ],
        "title": "EmailCheckResponse",
        "description": "이메일 중복 체크 응답 스키마"
      },
      "EmailVerificationConfirm": {
        "properties": {
          "auth_code": {
            "type": "string",
            "title": "Auth Code",
            "description": "인증 코드"
          }
        },
        "type": "object",
        "required": [
          "auth_code"
        ],
        "title": "EmailVerificationConfirm",
        "description": "이메일 인증 확인 스키마"
      },
      "EmailVerificationRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "인증할 이메일 주소"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "사용자 이름"
          },
          "verification_url_base": {
            "type": "string",
            "title": "Verification Url Base",
            "description": "프론트엔드 인증 페이지 URL (예: https://example.com/verify)"
          }
        },
        "type": "object",
        "required": [
          "email",
          "verification_url_base"
        ],
        "title": "EmailVerificationRequest",
        "description": "이메일 인증 요청 스키마"
      },
      "FileDeletePermanentlyResponse": {
        "properties": {
          "file_id": {
            "type": "string",
            "title": "File Id",
            "description": "삭제된 파일 ID"
          },
          "deleted": {
            "type": "boolean",
            "title": "Deleted",
            "description": "삭제 성공 여부"
          },
          "removed_from_stores": {
            "items": {
              "$ref": "#/components/schemas/ConnectedVectorStore"
            },
            "type": "array",
            "title": "Removed From Stores",
            "description": "파일이 제거된 Vector Store 목록",
            "default": []
          },
          "removed_count": {
            "type": "integer",
            "title": "Removed Count",
            "description": "제거된 Vector Store 개수"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "삭제 결과 메시지"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "삭제 실행 시간"
          }
        },
        "type": "object",
        "required": [
          "file_id",
          "deleted",
          "removed_count",
          "message"
        ],
        "title": "FileDeletePermanentlyResponse",
        "description": "파일 완전 삭제 응답 모델 (모든 Vector Store에서 제거 후 파일 삭제)",
        "example": {
          "deleted": true,
          "file_id": "file-abc123",
          "message": "파일이 2개의 Vector Store에서 제거되고 완전히 삭제되었습니다.",
          "removed_count": 2,
          "removed_from_stores": [
            {
              "id": "vs_store1",
              "name": "프로젝트A"
            },
            {
              "id": "vs_store2",
              "name": "프로젝트B"
            }
          ],
          "timestamp": "2025-01-20T10:30:00Z"
        }
      },
      "FileWithVectorStores": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "파일 ID"
          },
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "파일명"
          },
          "bytes": {
            "type": "integer",
            "title": "Bytes",
            "description": "파일 크기 (바이트)"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "업로드 시간"
          },
          "purpose": {
            "type": "string",
            "title": "Purpose",
            "description": "파일 용도 (assistants)"
          },
          "connected_stores": {
            "items": {
              "$ref": "#/components/schemas/ConnectedVectorStore"
            },
            "type": "array",
            "title": "Connected Stores",
            "description": "이 파일이 연결된 Vector Store 목록",
            "default": []
          },
          "connected_count": {
            "type": "integer",
            "title": "Connected Count",
            "description": "연결된 Vector Store 개수"
          }
        },
        "type": "object",
        "required": [
          "id",
          "filename",
          "bytes",
          "created_at",
          "purpose",
          "connected_count"
        ],
        "title": "FileWithVectorStores",
        "description": "Vector Store 연결 정보를 포함한 파일 정보",
        "example": {
          "bytes": 1048576,
          "connected_count": 2,
          "connected_stores": [
            {
              "id": "vs_store1",
              "name": "프로젝트A 문서"
            },
            {
              "id": "vs_store2",
              "name": "프로젝트B 문서"
            }
          ],
          "created_at": "2025-01-20T10:00:00Z",
          "filename": "심리상담_가이드.pdf",
          "id": "file-abc123",
          "purpose": "assistants"
        }
      },
      "FilesListResponse": {
        "properties": {
          "total_files": {
            "type": "integer",
            "title": "Total Files",
            "description": "총 파일 개수"
          },
          "files": {
            "items": {
              "$ref": "#/components/schemas/FileWithVectorStores"
            },
            "type": "array",
            "title": "Files",
            "description": "파일 목록"
          }
        },
        "type": "object",
        "required": [
          "total_files",
          "files"
        ],
        "title": "FilesListResponse",
        "description": "OpenAI Files 목록 응답 모델",
        "example": {
          "files": [
            {
              "bytes": 1048576,
              "connected_count": 1,
              "connected_stores": [
                {
                  "id": "vs_store1",
                  "name": "프로젝트A 문서"
                }
              ],
              "created_at": "2025-01-20T10:00:00Z",
              "filename": "심리상담_가이드.pdf",
              "id": "file-abc123",
              "purpose": "assistants"
            }
          ],
          "total_files": 5
        }
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "InicisPaymentApprovePayload": {
        "properties": {
          "url": {
            "type": "string",
            "title": "Url"
          },
          "method": {
            "type": "string",
            "title": "Method",
            "default": "POST"
          },
          "headers": {
            "type": "object",
            "title": "Headers"
          },
          "body": {
            "type": "object",
            "title": "Body"
          }
        },
        "type": "object",
        "required": [
          "url",
          "headers",
          "body"
        ],
        "title": "InicisPaymentApprovePayload",
        "description": "Server-built approval payload to post to authUrl."
      },
      "InicisPaymentApproveRequest": {
        "properties": {
          "authToken": {
            "type": "string",
            "title": "Authtoken",
            "description": "인증결과로 전달된 authToken"
          },
          "authUrl": {
            "type": "string",
            "maxLength": 2083,
            "minLength": 1,
            "format": "uri",
            "title": "Authurl",
            "description": "인증결과로 전달된 승인 요청 URL"
          },
          "idc_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Idc Name",
            "description": "인증결과로 전달된 IDC 센터 코드(fc, ks, stg)"
          },
          "price": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Price",
            "description": "인증가격 (옵션 필드, 제외 가능)"
          },
          "resultLanguage": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Resultlanguage",
            "description": "resultMsg 언어 설정 (\"ENG\"|\"CHI\", 기본 국문)"
          },
          "format": {
            "type": "string",
            "title": "Format",
            "description": "리턴 형식 [XML, JSON, NVP], 기본 JSON",
            "default": "JSON"
          },
          "charset": {
            "type": "string",
            "title": "Charset",
            "description": "인증결과 인코딩, 기본 UTF-8",
            "default": "UTF-8"
          }
        },
        "type": "object",
        "required": [
          "authToken",
          "authUrl"
        ],
        "title": "InicisPaymentApproveRequest",
        "description": "Client request payload to build an approval (auth) API call."
      },
      "InicisPaymentApproveResult": {
        "properties": {
          "resultCode": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Resultcode",
            "description": "결과코드(\"0000\" 성공, 그 외 실패)"
          },
          "resultMsg": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Resultmsg",
            "description": "결과메시지"
          },
          "tid": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tid",
            "description": "거래번호"
          },
          "mid": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mid",
            "description": "상점아이디"
          },
          "MOID": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Moid",
            "description": "주문번호(요청 oid)"
          },
          "TotPrice": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Totprice",
            "description": "결제금액"
          },
          "goodName": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Goodname",
            "description": "상품명"
          },
          "payMethod": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Paymethod",
            "description": "지불수단"
          },
          "applDate": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Appldate",
            "description": "승인일자 YYYYMMDD"
          },
          "applTime": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Appltime",
            "description": "승인시간 hh24miss"
          },
          "EventCode": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Eventcode",
            "description": "이벤트/할부 코드"
          },
          "buyerName": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Buyername",
            "description": "구매자명"
          },
          "buyerTel": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Buyertel",
            "description": "구매자 휴대폰번호"
          },
          "buyerEmail": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Buyeremail",
            "description": "구매자 이메일"
          },
          "custEmail": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Custemail",
            "description": "최종 이메일주소"
          },
          "applNum": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Applnum",
            "description": "승인번호"
          },
          "CARD_Num": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Card Num",
            "description": "신용카드번호"
          },
          "CARD_Interest": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Card Interest",
            "description": "상점부담 무이자여부(\"1\")"
          },
          "CARD_Quota": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Card Quota",
            "description": "카드 할부기간"
          },
          "CARD_Code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Card Code",
            "description": "카드사 코드"
          },
          "CARD_CorpFlag": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Card Corpflag",
            "description": "카드구분(\"0\" 개인, \"1\" 법인, \"9\" 불가)"
          },
          "CARD_CheckFlag": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Card Checkflag",
            "description": "카드종류(\"0\" 신용, \"1\" 체크, \"2\" 기프트)"
          },
          "CARD_PRTC_CODE": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Card Prtc Code",
            "description": "부분취소 가능여부(\"1\" 가능)"
          },
          "CARD_BankCode": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Card Bankcode",
            "description": "카드발급사 코드"
          },
          "CARD_SrcCode": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Card Srccode",
            "description": "간편(앱)결제 구분"
          },
          "CARD_Point": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Card Point",
            "description": "카드포인트 사용여부(\"\" 또는 \"1\")"
          },
          "CARD_UsePoint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Card Usepoint",
            "description": "포인트 사용금액"
          },
          "CARD_ApplPrice": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Card Applprice",
            "description": "신용카드 승인금액"
          },
          "CARD_CouponPrice": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Card Couponprice",
            "description": "즉시할인 시 실제 카드 승인 금액"
          },
          "CARD_CouponDiscount": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Card Coupondiscount",
            "description": "쿠폰(즉시할인) 금액"
          },
          "NAVERPOINT_UseFreePoint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Naverpoint Usefreepoint",
            "description": "네이버포인트 무상포인트"
          },
          "NAVERPOINT_CSHRApplYN": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Naverpoint Cshrapplyn",
            "description": "네이버포인트 현금영수증 발행여부(\"Y\"/\"N\")"
          },
          "NAVERPOINT_CSHRApplAmt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Naverpoint Cshrapplamt",
            "description": "네이버포인트 현금영수증 금액"
          },
          "PCO_OrderNo": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pco Orderno",
            "description": "페이코 주문번호"
          },
          "currency": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Currency",
            "description": "통화코드"
          },
          "OrgPrice": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Orgprice",
            "description": "달러 환전금액"
          },
          "ACCT_BankCode": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Acct Bankcode",
            "description": "은행코드"
          },
          "CSHR_ResultCode": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cshr Resultcode",
            "description": "현금영수증 발행 정상여부(\"220000\")"
          },
          "CSHR_ApplNum": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cshr Applnum",
            "description": "현금영수증 승인번호"
          },
          "CSHR_ApplPrice": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cshr Applprice",
            "description": "현금영수증 금액"
          },
          "CSHR_Type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cshr Type",
            "description": "현금영수증구분(\"0\" 소득공제, \"1\" 지출증빙)"
          },
          "ACCT_Name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Acct Name",
            "description": "계좌주명"
          },
          "VACT_Num": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Vact Num",
            "description": "가상계좌번호"
          },
          "VACT_BankCode": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Vact Bankcode",
            "description": "입금은행코드"
          },
          "vactBankName": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Vactbankname",
            "description": "입금은행명"
          },
          "VACT_Name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Vact Name",
            "description": "예금주명"
          },
          "VACT_InputName": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Vact Inputname",
            "description": "송금자명"
          },
          "VACT_Date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Vact Date",
            "description": "입금기한일자 YYYYMMDD"
          },
          "VACT_Time": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Vact Time",
            "description": "입금기한시각 hhmmss"
          },
          "HPP_Num": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Hpp Num",
            "description": "휴대폰번호"
          },
          "payDevice": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Paydevice",
            "description": "결제장치"
          },
          "PayOption": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Payoption",
            "description": "포인트 사용구분"
          },
          "OCB_Num": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ocb Num",
            "description": "OK CashBag 카드번호"
          },
          "OCB_PayPrice": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ocb Payprice",
            "description": "OK CashBag 지불금액"
          },
          "OCB_SaveApplNum": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ocb Saveapplnum",
            "description": "OK CashBag 적립 승인번호"
          },
          "OCB_PayApplNum": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ocb Payapplnum",
            "description": "OK CashBag 사용내역 승인번호"
          },
          "OCB_ApplDate": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ocb Appldate",
            "description": "OK CashBag 승인일시"
          },
          "UPoint_Num": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Upoint Num",
            "description": "U포인트 카드번호"
          },
          "UPoint_usablePoint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Upoint Usablepoint",
            "description": "U포인트 가용포인트"
          },
          "UPoint_ApplPrice": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Upoint Applprice",
            "description": "U포인트 승인요청 금액"
          },
          "UPNT_PayOption": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Upnt Payoption",
            "description": "U포인트 지불구분"
          },
          "UPNT_SavePrice": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Upnt Saveprice",
            "description": "U포인트 여신 승인금액"
          },
          "UPNT_PayPrice": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Upnt Payprice",
            "description": "U포인트 지불금액"
          },
          "GSPT_ApplPrice": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Gspt Applprice",
            "description": "GS포인트 승인금액"
          },
          "GSPT_SavePrice": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Gspt Saveprice",
            "description": "GS포인트 적립금액"
          },
          "GSPT_PayPrice": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Gspt Payprice",
            "description": "GS포인트 지불금액"
          },
          "CULT_UserID": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cult Userid",
            "description": "컬쳐랜드 고객ID"
          },
          "GAMG_Cnt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Gamg Cnt",
            "description": "스마트문화상품권 카드개수"
          },
          "GAMG_ApplPrice": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Gamg Applprice",
            "description": "스마트문화상품권 승인금액"
          },
          "GAMG_Num1": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Gamg Num1",
            "description": "스마트문화상품권 카드번호"
          },
          "GAMG_Price1": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Gamg Price1",
            "description": "스마트문화상품권 카드결제금액"
          },
          "TEEN_ApplPrice": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Teen Applprice",
            "description": "틴캐시 승인금액"
          },
          "TEEN_UserID": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Teen Userid",
            "description": "틴캐시 사용자아이디"
          },
          "TEEN_ApplNum": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Teen Applnum",
            "description": "틴캐시 승인번호"
          },
          "BCSH_ApplPrice": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bcsh Applprice",
            "description": "도서상품권 승인금액"
          },
          "BCSH_UserID": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bcsh Userid",
            "description": "도서상품권 사용자아이디"
          },
          "BCSH_ApplNum": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bcsh Applnum",
            "description": "도서상품권 승인번호"
          },
          "PHNB_Num": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Phnb Num",
            "description": "승인 전화번호"
          }
        },
        "additionalProperties": true,
        "type": "object",
        "title": "InicisPaymentApproveResult",
        "description": "Parsed approval (결제 승인결과) response."
      },
      "InicisPaymentPayload": {
        "properties": {
          "mid": {
            "type": "string",
            "title": "Mid"
          },
          "oid": {
            "type": "string",
            "title": "Oid"
          },
          "price": {
            "type": "integer",
            "title": "Price"
          },
          "currency": {
            "type": "string",
            "title": "Currency"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp"
          },
          "signature": {
            "type": "string",
            "title": "Signature"
          },
          "verification": {
            "type": "string",
            "title": "Verification"
          },
          "mKey": {
            "type": "string",
            "title": "Mkey"
          },
          "version": {
            "type": "string",
            "title": "Version"
          },
          "use_chkfake": {
            "type": "string",
            "title": "Use Chkfake"
          },
          "gopaymethod": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Gopaymethod"
          },
          "goodname": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Goodname"
          },
          "buyername": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Buyername"
          },
          "buyertel": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Buyertel"
          },
          "buyeremail": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Buyeremail"
          },
          "returnUrl": {
            "type": "string",
            "title": "Returnurl"
          },
          "closeUrl": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Closeurl"
          },
          "payViewType": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Payviewtype"
          },
          "languageView": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Languageview"
          },
          "acceptmethod": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Acceptmethod"
          },
          "merchantData": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Merchantdata"
          },
          "pay_js_url": {
            "type": "string",
            "title": "Pay Js Url"
          },
          "gateway_host": {
            "type": "string",
            "title": "Gateway Host"
          },
          "environment": {
            "type": "string",
            "title": "Environment"
          }
        },
        "type": "object",
        "required": [
          "mid",
          "oid",
          "price",
          "currency",
          "timestamp",
          "signature",
          "verification",
          "mKey",
          "version",
          "use_chkfake",
          "returnUrl",
          "pay_js_url",
          "gateway_host",
          "environment"
        ],
        "title": "InicisPaymentPayload",
        "description": "Server-built INIStdPay parameters."
      },
      "InicisPaymentPrepareRequest": {
        "properties": {
          "price": {
            "type": "integer",
            "exclusiveMinimum": 0,
            "title": "Price",
            "description": "결제 금액 (숫자만, KRW=원)"
          },
          "oid": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Oid",
            "description": "주문번호(고유). 미입력 시 서버에서 생성"
          },
          "currency": {
            "type": "string",
            "title": "Currency",
            "description": "통화구분: WON(원화) 또는 USD(달러, 카드 결제만 가능)",
            "default": "WON"
          },
          "gopaymethod": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Gopaymethod",
            "description": "요청 지불수단. 빈값이면 전체 노출 (예: Card, VBank 등)"
          },
          "goodname": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Goodname",
            "description": "상품명 (40 byte 초과 시 자동 축약)"
          },
          "buyername": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Buyername",
            "description": "구매자명 (30 byte 초과 시 자동 축약)"
          },
          "buyertel": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Buyertel",
            "description": "구매자 휴대폰번호 (숫자와 \"-\" 허용)"
          },
          "buyeremail": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Buyeremail",
            "description": "구매자 이메일 (@\".\" 외 특수문자 불가)"
          },
          "returnUrl": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Returnurl",
            "description": "결과 수신 URL. 미입력 시 설정값 사용"
          },
          "closeUrl": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Closeurl",
            "description": "결제창 닫기 URL. 미입력 시 설정값 사용"
          },
          "payViewType": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Payviewtype",
            "description": "결제창 호출 방법 [overlay,popup]",
            "default": "overlay"
          },
          "languageView": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Languageview",
            "description": "결제창 언어 설정 [ko,en,cn]",
            "default": "ko"
          },
          "acceptmethod": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Acceptmethod",
            "description": "추가 옵션. 기본 IDC센터코드 수신",
            "default": "centerCd(Y)"
          },
          "merchantData": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Merchantdata",
            "description": "가맹점 임의 데이터 (한글은 urlencode 필요)"
          }
        },
        "type": "object",
        "required": [
          "price"
        ],
        "title": "InicisPaymentPrepareRequest",
        "description": "Client request payload to build an INIStdPay parameter set."
      },
      "Interpretation": {
        "properties": {
          "response": {
            "type": "string",
            "title": "Response",
            "description": "AI 해석 응답 텍스트"
          }
        },
        "type": "object",
        "required": [
          "response"
        ],
        "title": "Interpretation",
        "description": "AI 해석 결과 (자연어 텍스트)"
      },
      "KakaoAuthorizeURLResponse": {
        "properties": {
          "authorize_url": {
            "type": "string",
            "title": "Authorize Url",
            "description": "카카오 인가 코드 요청 URL"
          },
          "state": {
            "type": "string",
            "title": "State",
            "description": "CSRF 방지 state 값"
          }
        },
        "type": "object",
        "required": [
          "authorize_url",
          "state"
        ],
        "title": "KakaoAuthorizeURLResponse",
        "description": "카카오 로그인 인가 코드 요청 URL 응답"
      },
      "KakaoCodeExchangeRequest": {
        "properties": {
          "code": {
            "type": "string",
            "title": "Code",
            "description": "카카오 인가 코드(code)"
          },
          "redirect_uri": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Redirect Uri",
            "description": "인가 코드 요청 시 사용한 redirect_uri(백엔드가 토큰 교환 시 사용)"
          },
          "state": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "State",
            "description": "CSRF 방지 state 값(옵션)"
          },
          "code_verifier": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Code Verifier",
            "description": "PKCE code_verifier (모바일 권장)"
          }
        },
        "type": "object",
        "required": [
          "code"
        ],
        "title": "KakaoCodeExchangeRequest",
        "description": "카카오 인가 코드 교환 요청(프론트/모바일에서 code를 받은 뒤 호출)"
      },
      "KakaoTokenRevokeResponse": {
        "properties": {
          "kakao_id": {
            "type": "integer",
            "title": "Kakao Id",
            "description": "처리된 카카오 사용자 회원번호"
          },
          "action": {
            "type": "string",
            "title": "Action",
            "description": "처리 종류 (logout/unlink)"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "결과 메시지"
          }
        },
        "type": "object",
        "required": [
          "kakao_id",
          "action",
          "message"
        ],
        "title": "KakaoTokenRevokeResponse",
        "description": "카카오 토큰 폐기(로그아웃/연결해제) 처리 결과"
      },
      "LoginResponse": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token",
            "description": "JWT 액세스 토큰"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "description": "토큰 타입",
            "default": "bearer"
          },
          "user_id": {
            "type": "integer",
            "title": "User Id",
            "description": "사용자 ID"
          },
          "email": {
            "type": "string",
            "title": "Email",
            "description": "이메일 주소"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "사용자 이름"
          },
          "user_type": {
            "type": "integer",
            "title": "User Type",
            "description": "사용자 타입 (0:비회원, 1:비인증회원, 2:인증회원, 3:그룹생성자, 4:코치(활동정지), 5:코치(활동중), 6:관리자, 9:임시회원)"
          },
          "user_type_name": {
            "type": "string",
            "title": "User Type Name",
            "description": "사용자 타입명"
          },
          "is_admin": {
            "type": "boolean",
            "title": "Is Admin",
            "description": "관리자 여부 (TYPE이 6인 경우 true)"
          },
          "is_coach": {
            "type": "boolean",
            "title": "Is Coach",
            "description": "활성 코치 여부 (TYPE이 5인 경우 true)"
          },
          "role": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Role",
            "description": "사용자 역할 (USER: 일반사용자, PARENT: 맥스학원 부모, STUDENT: 맥스학원 학생, COUNSELOR: 상담사)"
          },
          "counseling_client": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CounselingClientInfo"
              },
              {
                "type": "null"
              }
            ],
            "description": "매칭된 내담자 정보 (승인된 경우만)"
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "user_id",
          "email",
          "user_type",
          "user_type_name",
          "is_admin",
          "is_coach"
        ],
        "title": "LoginResponse",
        "description": "로그인 응답 스키마 (리프레시 토큰은 쿠키로만 전달)"
      },
      "LogoutResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "로그아웃 완료 메시지"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "LogoutResponse",
        "description": "로그아웃 응답 스키마"
      },
      "Meta": {
        "properties": {
          "used_chunks": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Used Chunks",
            "description": "근거로 사용한 MD chunk 파일명 목록"
          },
          "model": {
            "type": "string",
            "title": "Model",
            "description": "사용 모델",
            "default": "gpt-5.2"
          },
          "tokens_used": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tokens Used",
            "description": "총 토큰 수 (Phase 3: 3-A + 3-B 합산)"
          },
          "prompt_tokens": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prompt Tokens",
            "description": "프롬프트 토큰 수 (Phase 3: 3-A + 3-B 합산)"
          },
          "completion_tokens": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completion Tokens",
            "description": "완료 토큰 수 (Phase 3: 3-A + 3-B 합산)"
          },
          "api_cost_usd": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Cost Usd",
            "description": "API 비용 (USD, Phase 3: 3-A + 3-B 합산)"
          },
          "latency_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Latency Ms",
            "description": "응답 시간 (ms)"
          }
        },
        "type": "object",
        "title": "Meta",
        "description": "메타 정보"
      },
      "OpenAIInterpretRequest": {
        "properties": {
          "session": {
            "allOf": [
              {
                "$ref": "#/components/schemas/WpiSession"
              }
            ],
            "description": "세션 정보"
          },
          "phase": {
            "type": "integer",
            "maximum": 3,
            "minimum": 1,
            "title": "Phase",
            "description": "Phase (1~3)"
          },
          "profiles": {
            "allOf": [
              {
                "$ref": "#/components/schemas/WpiProfiles"
              }
            ],
            "description": "프로파일 입력"
          },
          "story": {
            "allOf": [
              {
                "$ref": "#/components/schemas/WpiStory"
              }
            ],
            "description": "사연 입력"
          },
          "followup": {
            "allOf": [
              {
                "$ref": "#/components/schemas/WpiFollowup"
              }
            ],
            "description": "후속 질문 입력"
          },
          "model": {
            "type": "string",
            "title": "Model",
            "description": "사용할 모델 (gpt-5.2, gpt-5.1, gpt-5)",
            "default": "gpt-5.2"
          }
        },
        "type": "object",
        "required": [
          "phase",
          "profiles"
        ],
        "title": "OpenAIInterpretRequest",
        "description": "WPI 조회 해석 요청 모델 (GPT-5.2 + Vector Store + MD chunk)\n\n- Phase 기반 입력 구조를 사용합니다.\n- PDF는 조회 대상이 아니며, 사전 처리된 MD chunk만 Vector Store에 존재합니다.",
        "example": {
          "followup": {},
          "phase": 1,
          "profiles": {
            "ideal": {
              "self_scores": {
                "agent": 30,
                "humanist": 10,
                "idealist": 55,
                "realist": 40,
                "romantic": 0
              },
              "standard_scores": {
                "culture": 25,
                "manual": 0,
                "relation": 20,
                "self": 60,
                "trust": 40
              }
            },
            "reality": {
              "self_scores": {
                "agent": 20.6,
                "humanist": 4.7,
                "idealist": 51.7,
                "realist": 27.5,
                "romantic": 26.5
              },
              "standard_scores": {
                "culture": 23.3,
                "manual": 0,
                "relation": 29.5,
                "self": 50.1,
                "trust": 26
              }
            }
          },
          "session": {
            "turn": 1
          },
          "story": {}
        }
      },
      "OpenAIInterpretResponse": {
        "properties": {
          "session": {
            "allOf": [
              {
                "$ref": "#/components/schemas/SessionOut"
              }
            ],
            "description": "세션 정보"
          },
          "interpretation": {
            "allOf": [
              {
                "$ref": "#/components/schemas/Interpretation"
              }
            ],
            "description": "해석 결과"
          },
          "meta": {
            "$ref": "#/components/schemas/Meta"
          },
          "phase_3a": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Phase3AInfo"
              },
              {
                "type": "null"
              }
            ],
            "description": "Phase 3-A (청크 선택) 상세 정보"
          },
          "phase_3b": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Phase3BInfo"
              },
              {
                "type": "null"
              }
            ],
            "description": "Phase 3-B (해석 수행) 상세 정보"
          },
          "run_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Run Id",
            "description": "OpenAI run ID"
          },
          "thread_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Thread Id",
            "description": "OpenAI thread ID"
          },
          "vector_store_used": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Vector Store Used",
            "description": "사용된 Vector Store ID"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "응답 생성 시간"
          }
        },
        "type": "object",
        "required": [
          "session",
          "interpretation",
          "meta"
        ],
        "title": "OpenAIInterpretResponse",
        "description": "WPI 조회 해석 응답 모델 (고정 구조)",
        "example": {
          "interpretation": {
            "response": "## 1. 자기 믿음(빨간선) 문장화\n\n이상적인 자기 믿음은 '나는 의미 있게 살아야 하는 사람이다'입니다...\n\n## 2. 기준(파란선) 문장화\n\n...(이하 8단계 해석 텍스트)"
          },
          "meta": {
            "api_cost_usd": 0.0398125,
            "completion_tokens": 2357,
            "latency_ms": 63586,
            "model": "gpt-5.2",
            "prompt_tokens": 12994,
            "tokens_used": 15351,
            "used_chunks": [
              "1211_해석_매뉴얼__rule__해석_절대_금지_규칙__part_01_of_01.md",
              "1211_해석_매뉴얼__procedure__NRP-10_해석_절차__part_01_of_01.md"
            ]
          },
          "session": {
            "phase": 1,
            "session_id": "2a1b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d",
            "turn": 1
          },
          "timestamp": "2025-01-20T10:30:00Z"
        }
      },
      "PCCounselingAttachmentPresignedUrl": {
        "properties": {
          "upload_url": {
            "type": "string",
            "title": "Upload Url",
            "description": "S3 업로드 URL"
          },
          "file_path": {
            "type": "string",
            "title": "File Path",
            "description": "S3 파일 경로"
          },
          "expires_in": {
            "type": "integer",
            "title": "Expires In",
            "description": "URL 만료 시간(초)"
          }
        },
        "type": "object",
        "required": [
          "upload_url",
          "file_path",
          "expires_in"
        ],
        "title": "PCCounselingAttachmentPresignedUrl",
        "description": "S3 Presigned URL 응답 스키마"
      },
      "PCCounselingAttachmentResponse": {
        "properties": {
          "file_type": {
            "type": "string",
            "title": "File Type",
            "description": "파일 타입 (DOCUMENT, IMAGE, TEST_RESULT, OTHER)"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "파일 설명"
          },
          "file_order": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Order",
            "description": "파일 순서"
          },
          "is_private": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Private",
            "description": "비공개 여부",
            "default": false
          },
          "attachment_id": {
            "type": "integer",
            "title": "Attachment Id"
          },
          "request_id": {
            "type": "integer",
            "title": "Request Id"
          },
          "file_name": {
            "type": "string",
            "title": "File Name"
          },
          "file_path": {
            "type": "string",
            "title": "File Path"
          },
          "file_size": {
            "type": "integer",
            "title": "File Size"
          },
          "mime_type": {
            "type": "string",
            "title": "Mime Type"
          },
          "upload_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Upload Date"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          }
        },
        "type": "object",
        "required": [
          "file_type",
          "attachment_id",
          "request_id",
          "file_name",
          "file_path",
          "file_size",
          "mime_type",
          "upload_date",
          "is_active"
        ],
        "title": "PCCounselingAttachmentResponse",
        "description": "첨부파일 응답 스키마"
      },
      "PCCounselingAttachmentUpdate": {
        "properties": {
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "파일 설명"
          },
          "file_order": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Order",
            "description": "파일 순서"
          },
          "is_private": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Private",
            "description": "비공개 여부"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active",
            "description": "활성 상태"
          }
        },
        "type": "object",
        "title": "PCCounselingAttachmentUpdate",
        "description": "첨부파일 수정 스키마"
      },
      "PaymentStatus": {
        "type": "string",
        "enum": [
          "PENDING",
          "PROCESSING",
          "COMPLETED",
          "FAILED",
          "REFUNDED"
        ],
        "title": "PaymentStatus",
        "description": "결제 상태"
      },
      "Phase3AInfo": {
        "properties": {
          "selected_chunks": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Selected Chunks",
            "description": "선택된 청크 파일명 목록"
          },
          "reasoning": {
            "type": "string",
            "title": "Reasoning",
            "description": "청크 선택 이유",
            "default": ""
          },
          "tokens_used": {
            "type": "integer",
            "title": "Tokens Used",
            "description": "Phase 3-A 토큰 수",
            "default": 0
          },
          "prompt_tokens": {
            "type": "integer",
            "title": "Prompt Tokens",
            "description": "Phase 3-A 프롬프트 토큰",
            "default": 0
          },
          "completion_tokens": {
            "type": "integer",
            "title": "Completion Tokens",
            "description": "Phase 3-A 완료 토큰",
            "default": 0
          },
          "latency_ms": {
            "type": "integer",
            "title": "Latency Ms",
            "description": "Phase 3-A 처리 시간 (ms)",
            "default": 0
          }
        },
        "type": "object",
        "title": "Phase3AInfo",
        "description": "Phase 3-A (청크 선택) 상세 정보"
      },
      "Phase3BInfo": {
        "properties": {
          "tokens_used": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tokens Used",
            "description": "Phase 3-B 토큰 수"
          },
          "prompt_tokens": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prompt Tokens",
            "description": "Phase 3-B 프롬프트 토큰"
          },
          "completion_tokens": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completion Tokens",
            "description": "Phase 3-B 완료 토큰"
          },
          "api_cost_usd": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Cost Usd",
            "description": "Phase 3-B API 비용 (USD)"
          },
          "latency_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Latency Ms",
            "description": "Phase 3-B 처리 시간 (ms)"
          }
        },
        "type": "object",
        "title": "Phase3BInfo",
        "description": "Phase 3-B (해석 수행) 상세 정보"
      },
      "PineconeUploadResponse": {
        "properties": {
          "file_id": {
            "type": "string",
            "title": "File Id",
            "description": "Generated identifier for this file upload"
          },
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "Original file name"
          },
          "file_size": {
            "type": "integer",
            "title": "File Size",
            "description": "File size in bytes"
          },
          "total_chunks": {
            "type": "integer",
            "title": "Total Chunks",
            "description": "Total number of chunks stored in Pinecone"
          },
          "chunk_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Chunk Ids",
            "description": "Vector IDs created for this file"
          },
          "namespace": {
            "type": "string",
            "title": "Namespace",
            "description": "Pinecone namespace used for storage"
          },
          "index_host": {
            "type": "string",
            "title": "Index Host",
            "description": "Pinecone index host URL"
          },
          "embedding_model": {
            "type": "string",
            "title": "Embedding Model",
            "description": "Embedding model used to vectorize the text"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp",
            "description": "UTC timestamp when the vectors were stored"
          }
        },
        "type": "object",
        "required": [
          "file_id",
          "filename",
          "file_size",
          "total_chunks",
          "chunk_ids",
          "namespace",
          "index_host",
          "embedding_model",
          "timestamp"
        ],
        "title": "PineconeUploadResponse"
      },
      "Program": {
        "properties": {
          "program_name": {
            "type": "string",
            "maxLength": 255,
            "title": "Program Name",
            "description": "프로그램 이름"
          },
          "start_date": {
            "type": "string",
            "format": "date",
            "title": "Start Date",
            "description": "시작 날짜"
          },
          "end_date": {
            "type": "string",
            "format": "date",
            "title": "End Date",
            "description": "종료 날짜"
          },
          "year": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 4
              },
              {
                "type": "null"
              }
            ],
            "title": "Year",
            "description": "연도"
          },
          "semester": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 10
              },
              {
                "type": "null"
              }
            ],
            "title": "Semester",
            "description": "학기"
          },
          "subprogram_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Subprogram Name",
            "description": "서브프로그램 이름"
          },
          "is_active": {
            "type": "integer",
            "title": "Is Active",
            "description": "사용 여부 (0: 삭제됨, 1: 활성)",
            "default": 1
          },
          "attribute": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Attribute",
            "description": "프로그램 속성"
          },
          "program_id": {
            "type": "integer",
            "title": "Program Id",
            "description": "프로그램 ID"
          },
          "session_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Count",
            "description": "세션 개수"
          },
          "assignment_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assignment Count",
            "description": "배정 개수"
          }
        },
        "type": "object",
        "required": [
          "program_name",
          "start_date",
          "end_date",
          "program_id"
        ],
        "title": "Program",
        "description": "프로그램 응답"
      },
      "ProgramCreate": {
        "properties": {
          "program_name": {
            "type": "string",
            "maxLength": 255,
            "title": "Program Name",
            "description": "프로그램 이름"
          },
          "start_date": {
            "type": "string",
            "format": "date",
            "title": "Start Date",
            "description": "시작 날짜"
          },
          "end_date": {
            "type": "string",
            "format": "date",
            "title": "End Date",
            "description": "종료 날짜"
          },
          "year": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 4
              },
              {
                "type": "null"
              }
            ],
            "title": "Year",
            "description": "연도"
          },
          "semester": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 10
              },
              {
                "type": "null"
              }
            ],
            "title": "Semester",
            "description": "학기"
          },
          "subprogram_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Subprogram Name",
            "description": "서브프로그램 이름"
          },
          "is_active": {
            "type": "integer",
            "title": "Is Active",
            "description": "사용 여부 (0: 삭제됨, 1: 활성)",
            "default": 1
          },
          "attribute": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Attribute",
            "description": "프로그램 속성"
          }
        },
        "type": "object",
        "required": [
          "program_name",
          "start_date",
          "end_date"
        ],
        "title": "ProgramCreate",
        "description": "프로그램 생성"
      },
      "ProgramList": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/Program"
            },
            "type": "array",
            "title": "Items",
            "description": "프로그램 목록"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "전체 개수"
          },
          "page": {
            "type": "integer",
            "title": "Page",
            "description": "현재 페이지"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size",
            "description": "페이지 크기"
          },
          "total_pages": {
            "type": "integer",
            "title": "Total Pages",
            "description": "전체 페이지 수"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size",
          "total_pages"
        ],
        "title": "ProgramList",
        "description": "프로그램 목록 응답"
      },
      "ProgramUpdate": {
        "properties": {
          "program_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Program Name",
            "description": "프로그램 이름"
          },
          "start_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Date",
            "description": "시작 날짜"
          },
          "end_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Date",
            "description": "종료 날짜"
          },
          "year": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 4
              },
              {
                "type": "null"
              }
            ],
            "title": "Year",
            "description": "연도"
          },
          "semester": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 10
              },
              {
                "type": "null"
              }
            ],
            "title": "Semester",
            "description": "학기"
          },
          "subprogram_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Subprogram Name",
            "description": "서브프로그램 이름"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active",
            "description": "사용 여부 (0: 삭제됨, 1: 활성)"
          },
          "attribute": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Attribute",
            "description": "프로그램 속성"
          }
        },
        "type": "object",
        "title": "ProgramUpdate",
        "description": "프로그램 수정"
      },
      "PsychTestAccountListResponse": {
        "properties": {
          "total_count": {
            "type": "integer",
            "title": "Total Count"
          },
          "page": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Page",
            "description": "현재 페이지 (fetch_all=false일 때)"
          },
          "page_size": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Page Size",
            "description": "페이지당 항목 수"
          },
          "fetch_all": {
            "type": "boolean",
            "title": "Fetch All",
            "description": "전체 조회 여부",
            "default": false
          },
          "has_next": {
            "type": "boolean",
            "title": "Has Next",
            "description": "다음 페이지 존재 여부",
            "default": false
          },
          "items": {
            "items": {
              "$ref": "#/components/schemas/PsychTestAccountResponse"
            },
            "type": "array",
            "title": "Items"
          }
        },
        "type": "object",
        "required": [
          "total_count"
        ],
        "title": "PsychTestAccountListResponse",
        "description": "Paginated wrapper for account rows"
      },
      "PsychTestAccountResponse": {
        "properties": {
          "ID": {
            "type": "integer",
            "title": "Id"
          },
          "USER_ID": {
            "type": "integer",
            "title": "User Id"
          },
          "TEST_ID": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Test Id"
          },
          "RESULT_ID": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Result Id"
          },
          "TYPE": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Type"
          },
          "DEVICE_TYPE": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Device Type"
          },
          "AMOUNT": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Amount"
          },
          "SUM": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sum"
          },
          "ACCOUNT_SUM": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Account Sum"
          },
          "DEPOSIT_NAME": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deposit Name"
          },
          "CASH_RECEIPT": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cash Receipt"
          },
          "CASH_RECEIPT_FOR": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cash Receipt For"
          },
          "CASH_RECEIPT_NUMBER": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cash Receipt Number"
          },
          "TRANSACTION_NUMBER": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Transaction Number"
          },
          "STATUS": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status"
          },
          "COUPON_PUBLISH": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Coupon Publish"
          },
          "USE_FLAG": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Use Flag"
          },
          "CREATE_DATE": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Create Date"
          },
          "MODIFY_DATE": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Modify Date"
          },
          "PAYMENT_DATE": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Payment Date"
          },
          "VACCT_NUM": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Vacct Num"
          },
          "VACCT_BANK_CODE": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Vacct Bank Code"
          },
          "VACCT_PAYMENT_DATE": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Vacct Payment Date"
          },
          "ORDER_ID": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Order Id"
          },
          "COUPON_PIN_GROUP_ID": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Coupon Pin Group Id"
          },
          "VACCT_BANK_NAME": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Vacct Bank Name"
          },
          "FREE_FLAG": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Free Flag"
          },
          "TEST_REQUEST_ID": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Test Request Id"
          },
          "result": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/PsychTestUserResultResponse"
              },
              {
                "type": "null"
              }
            ],
            "description": "Joined TBL_SVC_USER_RESULT row (if RESULT_ID exists)"
          }
        },
        "type": "object",
        "required": [
          "ID",
          "USER_ID"
        ],
        "title": "PsychTestAccountResponse",
        "description": "Account/payment entries from wisdom.TBL_SVC_ACCOUNT"
      },
      "PsychTestChecklistInfo": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "sequence": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sequence"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "question": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Question"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "cnt_1st_selection": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cnt 1St Selection"
          },
          "cnt_2nd_selection": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cnt 2Nd Selection"
          },
          "cnt_3rd_selection": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cnt 3Rd Selection"
          },
          "classes": {
            "items": {
              "$ref": "#/components/schemas/PsychTestClassInfo"
            },
            "type": "array",
            "title": "Classes"
          },
          "questions": {
            "items": {
              "$ref": "#/components/schemas/PsychTestQuestionInfo"
            },
            "type": "array",
            "title": "Questions"
          }
        },
        "type": "object",
        "required": [
          "id"
        ],
        "title": "PsychTestChecklistInfo",
        "description": "심리검사 체크리스트 정보"
      },
      "PsychTestChecklistSelection": {
        "properties": {
          "checklist_id": {
            "type": "integer",
            "title": "Checklist Id",
            "description": "체크리스트 ID"
          },
          "ranks": {
            "items": {
              "$ref": "#/components/schemas/PsychTestRankSelection"
            },
            "type": "array",
            "title": "Ranks",
            "description": "순위별 선택 결과"
          }
        },
        "type": "object",
        "required": [
          "checklist_id"
        ],
        "title": "PsychTestChecklistSelection",
        "description": "체크리스트별 선택 정보"
      },
      "PsychTestClassInfo": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "profile": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Profile"
          },
          "contents": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Contents"
          }
        },
        "type": "object",
        "required": [
          "id"
        ],
        "title": "PsychTestClassInfo",
        "description": "심리검사 클래스 정보"
      },
      "PsychTestClassResultResponse": {
        "properties": {
          "ID": {
            "type": "integer",
            "title": "Id"
          },
          "USER_RESULT_ID": {
            "type": "integer",
            "title": "User Result Id"
          },
          "CLASS_ID": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Class Id"
          },
          "NAME": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "EDITOR_ID": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Editor Id"
          },
          "CHECKLIST_ID": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Checklist Id"
          },
          "CHECKLIST_NAME": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Checklist Name"
          },
          "POINT": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Point"
          },
          "STATUS": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status"
          },
          "USE_FLAG": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Use Flag"
          },
          "CREATE_DATE": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Create Date"
          },
          "MODIFY_DATE": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Modify Date"
          }
        },
        "type": "object",
        "required": [
          "ID",
          "USER_RESULT_ID"
        ],
        "title": "PsychTestClassResultResponse",
        "description": "Stored row from wisdom.TBL_SVC_CLASS_RESULT"
      },
      "PsychTestClassScore": {
        "properties": {
          "class_id": {
            "type": "integer",
            "title": "Class Id"
          },
          "class_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Class Name"
          },
          "class_weight": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Class Weight"
          },
          "total_score": {
            "type": "number",
            "title": "Total Score"
          },
          "result_combine_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Result Combine Type"
          },
          "result_master_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Result Master Type"
          },
          "master_checklist_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Master Checklist Id"
          }
        },
        "type": "object",
        "required": [
          "class_id",
          "total_score"
        ],
        "title": "PsychTestClassScore",
        "description": "체크리스트별 클래스 합산 결과"
      },
      "PsychTestDetailResponse": {
        "properties": {
          "test_id": {
            "type": "integer",
            "title": "Test Id"
          },
          "test_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Test Name"
          },
          "checklists": {
            "items": {
              "$ref": "#/components/schemas/PsychTestChecklistInfo"
            },
            "type": "array",
            "title": "Checklists"
          }
        },
        "type": "object",
        "required": [
          "test_id"
        ],
        "title": "PsychTestDetailResponse",
        "description": "심리검사 항목 응답"
      },
      "PsychTestQuestionInfo": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "sequence": {
            "type": "integer",
            "title": "Sequence"
          },
          "question": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Question"
          }
        },
        "type": "object",
        "required": [
          "id",
          "sequence"
        ],
        "title": "PsychTestQuestionInfo",
        "description": "심리검사 문항 정보"
      },
      "PsychTestRankSelection": {
        "properties": {
          "rank": {
            "type": "integer",
            "maximum": 3,
            "minimum": 1,
            "title": "Rank",
            "description": "선택 순위 (1~3)"
          },
          "question_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Question Ids",
            "description": "해당 순위에서 선택된 문항 ID"
          }
        },
        "type": "object",
        "required": [
          "rank"
        ],
        "title": "PsychTestRankSelection",
        "description": "순위별 사용자가 선택한 문항 정보"
      },
      "PsychTestResultRequest": {
        "properties": {
          "selections": {
            "items": {
              "$ref": "#/components/schemas/PsychTestChecklistSelection"
            },
            "type": "array",
            "minItems": 1,
            "title": "Selections",
            "description": "체크리스트별 순위 선택 리스트"
          },
          "worry": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Worry",
            "description": "사용자가 입력한 고민 영역 (예: 진로,연애)"
          },
          "test_target_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Test Target Name",
            "description": "실제 검사 대상자 이름 (대리 응시 등)"
          },
          "note": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Note",
            "description": "비고 또는 추가 메모"
          },
          "process_sequence": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0
              },
              {
                "type": "null"
              }
            ],
            "title": "Process Sequence",
            "description": "진행 시퀀스 번호 (미입력 시 기본값 사용)"
          }
        },
        "type": "object",
        "required": [
          "selections"
        ],
        "title": "PsychTestResultRequest",
        "description": "심리검사 결과 계산 요청"
      },
      "PsychTestResultResponse": {
        "properties": {
          "result_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Result Id",
            "description": "저장된 결과 ID"
          },
          "test_id": {
            "type": "integer",
            "title": "Test Id"
          },
          "sequences": {
            "items": {
              "$ref": "#/components/schemas/PsychTestSequenceScore"
            },
            "type": "array",
            "title": "Sequences"
          }
        },
        "type": "object",
        "required": [
          "test_id"
        ],
        "title": "PsychTestResultResponse",
        "description": "심리검사 결과 계산 응답"
      },
      "PsychTestResultUpdateRequest": {
        "properties": {
          "selections": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/PsychTestChecklistSelection"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Selections",
            "description": "체크리스트별 순위 선택 리스트 (생략 시 기존 답안 유지, 일부 체크리스트만 보내면 해당 체크리스트만 덮어씀)"
          },
          "worry": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Worry",
            "description": "사용자가 입력한 고민 영역 (예: 진로,연애)"
          },
          "test_target_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Test Target Name",
            "description": "실제 검사 대상자 이름 (대리 응시 등)"
          },
          "note": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Note",
            "description": "비고 또는 추가 메모"
          },
          "process_sequence": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0
              },
              {
                "type": "null"
              }
            ],
            "title": "Process Sequence",
            "description": "진행 시퀀스 번호 (미입력 시 기존 값 유지)"
          }
        },
        "type": "object",
        "title": "PsychTestResultUpdateRequest",
        "description": "심리검사 결과 수정 요청 (부분 업데이트 허용)"
      },
      "PsychTestSequenceScore": {
        "properties": {
          "checklist_id": {
            "type": "integer",
            "title": "Checklist Id"
          },
          "sequence": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sequence"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "classes": {
            "items": {
              "$ref": "#/components/schemas/PsychTestClassScore"
            },
            "type": "array",
            "title": "Classes"
          }
        },
        "type": "object",
        "required": [
          "checklist_id"
        ],
        "title": "PsychTestSequenceScore",
        "description": "체크리스트(시퀀스)별 클래스 점수"
      },
      "PsychTestStoredResultResponse": {
        "properties": {
          "result": {
            "$ref": "#/components/schemas/PsychTestUserResultResponse"
          },
          "classes": {
            "items": {
              "$ref": "#/components/schemas/PsychTestClassResultResponse"
            },
            "type": "array",
            "title": "Classes"
          }
        },
        "type": "object",
        "required": [
          "result"
        ],
        "title": "PsychTestStoredResultResponse",
        "description": "User result row and its class scores"
      },
      "PsychTestUserResultResponse": {
        "properties": {
          "ID": {
            "type": "integer",
            "title": "Id"
          },
          "USER_ID": {
            "type": "integer",
            "title": "User Id"
          },
          "TEST_ID": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Test Id"
          },
          "TOTAL_POINT": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Point"
          },
          "WORRY": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Worry"
          },
          "PROCESS_SEQ": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Process Seq"
          },
          "DESCRIPTION": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "USE_FLAG": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Use Flag"
          },
          "CREATE_DATE": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Create Date"
          },
          "MODIFY_DATE": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Modify Date"
          },
          "NOTE": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Note"
          },
          "TEST_TARGET_NAME": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Test Target Name"
          },
          "UPLOAD_TH": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Upload Th"
          }
        },
        "type": "object",
        "required": [
          "ID",
          "USER_ID"
        ],
        "title": "PsychTestUserResultResponse",
        "description": "Stored row from wisdom.TBL_SVC_USER_RESULT"
      },
      "RefreshTokenRequest": {
        "properties": {
          "refresh_token": {
            "type": "string",
            "title": "Refresh Token",
            "description": "리프레시 토큰"
          }
        },
        "type": "object",
        "required": [
          "refresh_token"
        ],
        "title": "RefreshTokenRequest",
        "description": "토큰 갱신 요청 스키마"
      },
      "RefreshTokenResponse": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token",
            "description": "새로운 JWT 액세스 토큰"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "description": "토큰 타입",
            "default": "bearer"
          }
        },
        "type": "object",
        "required": [
          "access_token"
        ],
        "title": "RefreshTokenResponse",
        "description": "토큰 갱신 응답 스키마"
      },
      "RequestStatus": {
        "type": "string",
        "enum": [
          "DRAFT",
          "SUBMITTED",
          "PAYMENT_PENDING",
          "PAID",
          "ASSIGNED",
          "IN_PROGRESS",
          "COMPLETED",
          "CANCELLED"
        ],
        "title": "RequestStatus",
        "description": "상담 신청 상태"
      },
      "RequestType": {
        "type": "string",
        "enum": [
          "GENERAL",
          "EMERGENCY",
          "FOLLOWUP"
        ],
        "title": "RequestType",
        "description": "상담 유형"
      },
      "RespondentType": {
        "type": "string",
        "enum": [
          "counselor",
          "client"
        ],
        "title": "RespondentType",
        "description": "응답자 유형"
      },
      "Session": {
        "properties": {
          "program_id": {
            "type": "integer",
            "title": "Program Id",
            "description": "프로그램 ID"
          },
          "session_name": {
            "type": "string",
            "maxLength": 50,
            "title": "Session Name",
            "description": "세션 이름"
          },
          "session_order": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Order",
            "description": "세션 순서"
          },
          "is_active": {
            "type": "integer",
            "title": "Is Active",
            "description": "사용 여부 (0: 삭제됨, 1: 활성)",
            "default": 1
          },
          "subsession_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Subsession Name",
            "description": "서브세션 이름"
          },
          "month": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 12,
                "minimum": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Month",
            "description": "월 정보"
          },
          "week": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 53,
                "minimum": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Week",
            "description": "주 정보"
          },
          "session_id": {
            "type": "integer",
            "title": "Session Id",
            "description": "세션 ID"
          },
          "program": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Program"
              },
              {
                "type": "null"
              }
            ],
            "description": "프로그램 정보"
          },
          "assignment_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assignment Count",
            "description": "배정 개수"
          }
        },
        "type": "object",
        "required": [
          "program_id",
          "session_name",
          "session_id"
        ],
        "title": "Session",
        "description": "세션 응답"
      },
      "SessionBulkCreate": {
        "properties": {
          "program_id": {
            "type": "integer",
            "title": "Program Id",
            "description": "프로그램 ID"
          },
          "sessions": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "title": "Sessions",
            "description": "생성할 세션 목록"
          }
        },
        "type": "object",
        "required": [
          "program_id",
          "sessions"
        ],
        "title": "SessionBulkCreate",
        "description": "세션 일괄 생성"
      },
      "SessionCreate": {
        "properties": {
          "program_id": {
            "type": "integer",
            "title": "Program Id",
            "description": "프로그램 ID"
          },
          "session_name": {
            "type": "string",
            "maxLength": 50,
            "title": "Session Name",
            "description": "세션 이름"
          },
          "session_order": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Order",
            "description": "세션 순서"
          },
          "is_active": {
            "type": "integer",
            "title": "Is Active",
            "description": "사용 여부 (0: 삭제됨, 1: 활성)",
            "default": 1
          },
          "subsession_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Subsession Name",
            "description": "서브세션 이름"
          },
          "month": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 12,
                "minimum": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Month",
            "description": "월 정보"
          },
          "week": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 53,
                "minimum": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Week",
            "description": "주 정보"
          }
        },
        "type": "object",
        "required": [
          "program_id",
          "session_name"
        ],
        "title": "SessionCreate",
        "description": "세션 생성"
      },
      "SessionList": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/Session"
            },
            "type": "array",
            "title": "Items",
            "description": "세션 목록"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "전체 개수"
          },
          "page": {
            "type": "integer",
            "title": "Page",
            "description": "현재 페이지"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size",
            "description": "페이지 크기"
          },
          "total_pages": {
            "type": "integer",
            "title": "Total Pages",
            "description": "전체 페이지 수"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size",
          "total_pages"
        ],
        "title": "SessionList",
        "description": "세션 목록 응답"
      },
      "SessionOut": {
        "properties": {
          "session_id": {
            "type": "string",
            "title": "Session Id",
            "description": "세션 ID"
          },
          "turn": {
            "type": "integer",
            "minimum": 1,
            "title": "Turn",
            "description": "대화 턴"
          },
          "phase": {
            "type": "integer",
            "maximum": 3,
            "minimum": 1,
            "title": "Phase",
            "description": "Phase"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "turn",
          "phase"
        ],
        "title": "SessionOut"
      },
      "SessionUpdate": {
        "properties": {
          "program_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Program Id",
            "description": "프로그램 ID"
          },
          "session_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Name",
            "description": "세션 이름"
          },
          "session_order": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Order",
            "description": "세션 순서"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active",
            "description": "사용 여부 (0: 삭제됨, 1: 활성)"
          },
          "subsession_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Subsession Name",
            "description": "서브세션 이름"
          },
          "month": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 12,
                "minimum": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Month",
            "description": "월 정보"
          },
          "week": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 53,
                "minimum": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Week",
            "description": "주 정보"
          }
        },
        "type": "object",
        "title": "SessionUpdate",
        "description": "세션 수정"
      },
      "SocialAuthorizeURLResponse": {
        "properties": {
          "provider": {
            "type": "string",
            "title": "Provider",
            "description": "소셜 제공자 (kakao/naver/google/apple)"
          },
          "authorize_url": {
            "type": "string",
            "title": "Authorize Url",
            "description": "소셜 인가 코드 요청 URL"
          },
          "state": {
            "type": "string",
            "title": "State",
            "description": "CSRF 방지 state 값"
          }
        },
        "type": "object",
        "required": [
          "provider",
          "authorize_url",
          "state"
        ],
        "title": "SocialAuthorizeURLResponse",
        "description": "소셜 로그인 인가 코드 요청 URL 응답"
      },
      "SocialCodeExchangeRequest": {
        "properties": {
          "provider": {
            "type": "string",
            "title": "Provider",
            "description": "소셜 제공자 (kakao/naver/google/apple)"
          },
          "code": {
            "type": "string",
            "title": "Code",
            "description": "인가 코드(code)"
          },
          "redirect_uri": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Redirect Uri",
            "description": "인가 코드 요청 시 사용한 redirect_uri(백엔드가 토큰 교환 시 사용)"
          },
          "code_verifier": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Code Verifier",
            "description": "PKCE code_verifier (모바일 권장)"
          },
          "state": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "State",
            "description": "CSRF 방지 state 값(옵션)"
          },
          "include_refresh_token": {
            "type": "boolean",
            "title": "Include Refresh Token",
            "description": "모바일용 refresh_token 응답 포함 여부 (기본 true)",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "provider",
          "code"
        ],
        "title": "SocialCodeExchangeRequest",
        "description": "소셜 인가 코드 교환 요청"
      },
      "SocialLoginResponse": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token",
            "description": "JWT 액세스 토큰"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "description": "토큰 타입",
            "default": "bearer"
          },
          "user_id": {
            "type": "integer",
            "title": "User Id",
            "description": "사용자 ID"
          },
          "email": {
            "type": "string",
            "title": "Email",
            "description": "이메일 주소"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "사용자 이름"
          },
          "user_type": {
            "type": "integer",
            "title": "User Type",
            "description": "사용자 타입 (0:비회원, 1:비인증회원, 2:인증회원, 3:그룹생성자, 4:코치(활동정지), 5:코치(활동중), 6:관리자, 9:임시회원)"
          },
          "user_type_name": {
            "type": "string",
            "title": "User Type Name",
            "description": "사용자 타입명"
          },
          "is_admin": {
            "type": "boolean",
            "title": "Is Admin",
            "description": "관리자 여부 (TYPE이 6인 경우 true)"
          },
          "is_coach": {
            "type": "boolean",
            "title": "Is Coach",
            "description": "활성 코치 여부 (TYPE이 5인 경우 true)"
          },
          "role": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Role",
            "description": "사용자 역할 (USER: 일반사용자, PARENT: 맥스학원 부모, STUDENT: 맥스학원 학생, COUNSELOR: 상담사)"
          },
          "counseling_client": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CounselingClientInfo"
              },
              {
                "type": "null"
              }
            ],
            "description": "매칭된 내담자 정보 (승인된 경우만)"
          },
          "refresh_token": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Refresh Token",
            "description": "모바일용 refresh_token (include_refresh_token=true일 때만 반환)"
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "user_id",
          "email",
          "user_type",
          "user_type_name",
          "is_admin",
          "is_coach"
        ],
        "title": "SocialLoginResponse",
        "description": "소셜 로그인 응답 (모바일용 refresh_token 선택 포함)"
      },
      "ThreadStatusResponse": {
        "properties": {
          "thread_id": {
            "type": "string",
            "title": "Thread Id",
            "description": "OpenAI thread ID"
          },
          "exists": {
            "type": "boolean",
            "title": "Exists",
            "description": "Thread 존재 여부"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "상태 메시지"
          }
        },
        "type": "object",
        "required": [
          "thread_id",
          "exists",
          "message"
        ],
        "title": "ThreadStatusResponse",
        "description": "OpenAI thread 상태 확인 응답",
        "example": {
          "exists": true,
          "message": "스레드가 존재하며 계속 사용할 수 있습니다.",
          "thread_id": "thread_abc123"
        }
      },
      "UserRegister": {
        "properties": {
          "EMAIL": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "이메일",
            "example": "user@example.com"
          },
          "PASSWORD": {
            "type": "string",
            "maxLength": 20,
            "minLength": 8,
            "title": "Password",
            "description": "비밀번호 (영문, 숫자, 특수기호 조합 8-20자리)",
            "example": "Password123!"
          },
          "GENDER": {
            "type": "string",
            "maxLength": 4,
            "title": "Gender",
            "description": "성별 (남/여)",
            "example": "남"
          },
          "NAME": {
            "type": "string",
            "maxLength": 30,
            "title": "Name",
            "description": "이름",
            "example": "홍길동"
          },
          "BIRTHDAY": {
            "type": "string",
            "pattern": "^\\d{8}$",
            "title": "Birthday",
            "description": "생년월일 (YYYYMMDD)",
            "example": "19900101"
          },
          "MOBILE_NUMBER": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 30
              },
              {
                "type": "null"
              }
            ],
            "title": "Mobile Number",
            "description": "휴대폰 번호 (숫자만 또는 +로 시작하는 국제번호, 하이픈 불허용. 예: 01012345678, +821012345678)",
            "example": "01012345678"
          },
          "JOB": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Job",
            "description": "직업",
            "example": "개발자"
          },
          "ADDRESS": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Address",
            "description": "주소",
            "example": "서울시 강남구"
          },
          "EDUCATION": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 10
              },
              {
                "type": "null"
              }
            ],
            "title": "Education",
            "description": "학력",
            "example": "대졸"
          },
          "ROLE": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Role",
            "description": "사용자 역할 (예: USER, PARENT, STUDENT, COUNSELOR 등)",
            "example": "USER"
          },
          "TERMS_AGREED": {
            "type": "string",
            "pattern": "^[YN]$",
            "title": "Terms Agreed",
            "description": "이용약관 동의여부 (Y: 동의, N: 미동의)",
            "example": "Y"
          },
          "PRIVACY_AGREED": {
            "type": "string",
            "pattern": "^[YN]$",
            "title": "Privacy Agreed",
            "description": "개인정보 취급방침 동의여부 (Y: 동의, N: 미동의)",
            "example": "Y"
          },
          "MAIL_YN": {
            "type": "string",
            "pattern": "^[YN]$",
            "title": "Mail Yn",
            "description": "메일 수신 동의여부 (Y: 동의, N: 거부)",
            "default": "Y",
            "example": "Y"
          }
        },
        "type": "object",
        "required": [
          "EMAIL",
          "PASSWORD",
          "GENDER",
          "NAME",
          "BIRTHDAY",
          "TERMS_AGREED",
          "PRIVACY_AGREED"
        ],
        "title": "UserRegister",
        "description": "회원가입 스키마"
      },
      "UserRegisterResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "성공 여부"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "응답 메시지"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id",
            "description": "생성된 사용자 ID"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "UserRegisterResponse",
        "description": "회원가입 응답 스키마"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "VectorStoreCreateRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name",
            "description": "Vector Store 이름",
            "example": "새로운 문서 저장소"
          },
          "file_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Ids",
            "description": "초기에 추가할 파일 ID 목록",
            "example": [
              "file-abc123",
              "file-def456"
            ]
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "VectorStoreCreateRequest",
        "description": "Vector Store 생성 요청 모델",
        "example": {
          "file_ids": [
            "file-abc123"
          ],
          "name": "상담 케이스 문서"
        }
      },
      "VectorStoreCreateResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "생성된 Vector Store ID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Vector Store 이름"
          },
          "file_counts": {
            "allOf": [
              {
                "$ref": "#/components/schemas/VectorStoreFileCounts"
              }
            ],
            "description": "파일 카운트 정보"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Vector Store 상태"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "생성 시간"
          },
          "usage_bytes": {
            "type": "integer",
            "title": "Usage Bytes",
            "description": "사용 중인 스토리지 (바이트)"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "생성 결과 메시지"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "file_counts",
          "status",
          "created_at",
          "usage_bytes",
          "message"
        ],
        "title": "VectorStoreCreateResponse",
        "description": "Vector Store 생성 응답 모델",
        "example": {
          "created_at": "2025-01-20T15:00:00Z",
          "file_counts": {
            "cancelled": 0,
            "completed": 0,
            "failed": 0,
            "in_progress": 1,
            "total": 1
          },
          "id": "vs_xyz789",
          "message": "Vector Store '상담 케이스 문서'이(가) 성공적으로 생성되었습니다.",
          "name": "상담 케이스 문서",
          "status": "in_progress",
          "usage_bytes": 0
        }
      },
      "VectorStoreDeleteRequestResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "삭제된 Vector Store ID"
          },
          "deleted": {
            "type": "boolean",
            "title": "Deleted",
            "description": "삭제 성공 여부"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "삭제 결과 메시지"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "삭제 실행 시간"
          }
        },
        "type": "object",
        "required": [
          "id",
          "deleted",
          "message"
        ],
        "title": "VectorStoreDeleteRequestResponse",
        "description": "Vector Store 삭제 응답 모델",
        "example": {
          "deleted": true,
          "id": "vs_xyz789",
          "message": "Vector Store가 성공적으로 삭제되었습니다.",
          "timestamp": "2025-01-20T16:00:00Z"
        }
      },
      "VectorStoreDeleteResponse": {
        "properties": {
          "file_id": {
            "type": "string",
            "title": "File Id",
            "description": "제거된 파일 ID"
          },
          "vector_store_id": {
            "type": "string",
            "title": "Vector Store Id",
            "description": "파일이 제거된 Vector Store ID"
          },
          "deleted": {
            "type": "boolean",
            "title": "Deleted",
            "description": "제거 성공 여부"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "제거 결과 메시지"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "제거 실행 시간"
          }
        },
        "type": "object",
        "required": [
          "file_id",
          "vector_store_id",
          "deleted",
          "message"
        ],
        "title": "VectorStoreDeleteResponse",
        "description": "Vector Store에서 파일 제거 응답 모델 (파일 자체는 유지)",
        "example": {
          "deleted": true,
          "file_id": "file-abc123",
          "message": "Vector Store에서 파일이 제거되었습니다. (파일 자체는 유지됨)",
          "timestamp": "2025-01-20T10:30:00Z",
          "vector_store_id": "vs_xyz789"
        }
      },
      "VectorStoreDetailFile": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "파일 ID"
          },
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "파일명"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "파일 상태 (completed, in_progress, failed)"
          },
          "bytes": {
            "type": "integer",
            "title": "Bytes",
            "description": "파일 크기 (바이트)"
          }
        },
        "type": "object",
        "required": [
          "id",
          "filename",
          "status",
          "bytes"
        ],
        "title": "VectorStoreDetailFile",
        "description": "Vector Store 내 파일 상세 정보",
        "example": {
          "bytes": 1048576,
          "filename": "심리상담_가이드.pdf",
          "id": "file-abc123",
          "status": "completed"
        }
      },
      "VectorStoreDetailResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Vector Store ID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Vector Store 이름"
          },
          "file_counts": {
            "allOf": [
              {
                "$ref": "#/components/schemas/VectorStoreFileCounts"
              }
            ],
            "description": "파일 카운트 정보"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Vector Store 상태"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "생성 시간"
          },
          "usage_bytes": {
            "type": "integer",
            "title": "Usage Bytes",
            "description": "사용 중인 스토리지 (바이트)"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At",
            "description": "만료 시간"
          },
          "is_default": {
            "type": "boolean",
            "title": "Is Default",
            "description": "기본 Vector Store 여부",
            "default": false
          },
          "files": {
            "items": {
              "$ref": "#/components/schemas/VectorStoreDetailFile"
            },
            "type": "array",
            "title": "Files",
            "description": "파일 목록",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "file_counts",
          "status",
          "created_at",
          "usage_bytes"
        ],
        "title": "VectorStoreDetailResponse",
        "description": "Vector Store 상세 정보 응답 모델",
        "example": {
          "created_at": "2025-01-20T10:00:00Z",
          "file_counts": {
            "cancelled": 0,
            "completed": 5,
            "failed": 0,
            "in_progress": 0,
            "total": 5
          },
          "files": [
            {
              "bytes": 1048576,
              "filename": "심리상담_가이드.pdf",
              "id": "file-abc123",
              "status": "completed"
            }
          ],
          "id": "vs_abc123",
          "is_default": true,
          "name": "심리상담 문서 저장소",
          "status": "completed",
          "usage_bytes": 5242880
        }
      },
      "VectorStoreFileCounts": {
        "properties": {
          "in_progress": {
            "type": "integer",
            "title": "In Progress",
            "description": "처리 중인 파일 수",
            "default": 0
          },
          "completed": {
            "type": "integer",
            "title": "Completed",
            "description": "처리 완료된 파일 수",
            "default": 0
          },
          "failed": {
            "type": "integer",
            "title": "Failed",
            "description": "처리 실패한 파일 수",
            "default": 0
          },
          "cancelled": {
            "type": "integer",
            "title": "Cancelled",
            "description": "취소된 파일 수",
            "default": 0
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "총 파일 수",
            "default": 0
          }
        },
        "type": "object",
        "title": "VectorStoreFileCounts",
        "description": "Vector Store 파일 카운트 모델",
        "example": {
          "cancelled": 0,
          "completed": 5,
          "failed": 0,
          "in_progress": 1,
          "total": 6
        }
      },
      "VectorStoreInfo": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Vector Store ID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Vector Store 이름"
          },
          "file_counts": {
            "allOf": [
              {
                "$ref": "#/components/schemas/VectorStoreFileCounts"
              }
            ],
            "description": "파일 카운트 정보"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Vector Store 상태 (completed, in_progress, expired)"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "생성 시간"
          },
          "usage_bytes": {
            "type": "integer",
            "title": "Usage Bytes",
            "description": "사용 중인 스토리지 (바이트)"
          },
          "is_default": {
            "type": "boolean",
            "title": "Is Default",
            "description": "기본 Vector Store 여부",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "file_counts",
          "status",
          "created_at",
          "usage_bytes"
        ],
        "title": "VectorStoreInfo",
        "description": "Vector Store 기본 정보 모델",
        "example": {
          "created_at": "2025-01-20T10:00:00Z",
          "file_counts": {
            "cancelled": 0,
            "completed": 5,
            "failed": 0,
            "in_progress": 0,
            "total": 5
          },
          "id": "vs_abc123",
          "is_default": true,
          "name": "심리상담 문서 저장소",
          "status": "completed",
          "usage_bytes": 5242880
        }
      },
      "VectorStoreListResponse": {
        "properties": {
          "total_count": {
            "type": "integer",
            "title": "Total Count",
            "description": "총 Vector Store 개수"
          },
          "default_vector_store_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Vector Store Id",
            "description": "기본 Vector Store ID"
          },
          "vector_stores": {
            "items": {
              "$ref": "#/components/schemas/VectorStoreInfo"
            },
            "type": "array",
            "title": "Vector Stores",
            "description": "Vector Store 목록"
          }
        },
        "type": "object",
        "required": [
          "total_count",
          "vector_stores"
        ],
        "title": "VectorStoreListResponse",
        "description": "Vector Store 목록 조회 응답 모델",
        "example": {
          "default_vector_store_id": "vs_abc123",
          "total_count": 3,
          "vector_stores": [
            {
              "created_at": "2025-01-20T10:00:00Z",
              "file_counts": {
                "cancelled": 0,
                "completed": 5,
                "failed": 0,
                "in_progress": 0,
                "total": 5
              },
              "id": "vs_abc123",
              "is_default": true,
              "name": "심리상담 문서 저장소",
              "status": "completed",
              "usage_bytes": 5242880
            }
          ]
        }
      },
      "VectorStoreUploadResponse": {
        "properties": {
          "file_id": {
            "type": "string",
            "title": "File Id",
            "description": "업로드된 파일 ID"
          },
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "파일명"
          },
          "bytes": {
            "type": "integer",
            "title": "Bytes",
            "description": "파일 크기 (바이트)"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "파일 상태 (in_progress, completed)"
          },
          "vector_store_id": {
            "type": "string",
            "title": "Vector Store Id",
            "description": "Vector Store ID"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "업로드 시간"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "업로드 결과 메시지"
          }
        },
        "type": "object",
        "required": [
          "file_id",
          "filename",
          "bytes",
          "status",
          "vector_store_id",
          "created_at",
          "message"
        ],
        "title": "VectorStoreUploadResponse",
        "description": "Vector Store 파일 업로드 응답 모델",
        "example": {
          "bytes": 524288,
          "created_at": "2025-01-20T10:00:00Z",
          "file_id": "file-abc123",
          "filename": "새로운_문서.pdf",
          "message": "파일이 성공적으로 업로드되어 처리 중입니다.",
          "status": "in_progress",
          "vector_store_id": "vs_abc123"
        }
      },
      "WpiFollowup": {
        "properties": {
          "question": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Question",
            "description": "후속 질문. Phase 3에서 사용"
          }
        },
        "type": "object",
        "title": "WpiFollowup"
      },
      "WpiProfiles": {
        "properties": {
          "reality": {
            "allOf": [
              {
                "$ref": "#/components/schemas/WpiScoreProfile"
              }
            ],
            "description": "reality 프로파일 (필수)"
          },
          "ideal": {
            "allOf": [
              {
                "$ref": "#/components/schemas/WpiScoreProfile"
              }
            ],
            "description": "ideal 프로파일 (필수)"
          }
        },
        "type": "object",
        "required": [
          "reality",
          "ideal"
        ],
        "title": "WpiProfiles"
      },
      "WpiScoreProfile": {
        "properties": {
          "self_scores": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Self Scores",
            "description": "Self scores"
          },
          "standard_scores": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Standard Scores",
            "description": "Standard scores"
          }
        },
        "type": "object",
        "required": [
          "self_scores",
          "standard_scores"
        ],
        "title": "WpiScoreProfile"
      },
      "WpiSession": {
        "properties": {
          "session_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id",
            "description": "세션 ID (없으면 서버가 새로 생성)"
          },
          "turn": {
            "type": "integer",
            "minimum": 1,
            "title": "Turn",
            "description": "대화 턴(회차)",
            "default": 1
          }
        },
        "type": "object",
        "title": "WpiSession"
      },
      "WpiStory": {
        "properties": {
          "content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content",
            "description": "사연(텍스트). Phase 2에서 사용"
          }
        },
        "type": "object",
        "title": "WpiStory"
      }
    },
    "securitySchemes": {
      "OAuth2PasswordBearer": {
        "type": "oauth2",
        "flows": {
          "password": {
            "tokenUrl": "api/v1/auth/login",
            "scopes": {}
          }
        }
      },
      "Bearer": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "JWT 토큰을 입력하세요. 예: Bearer eyJhbGciOiJIUzI1NiIs..."
      }
    }
  },
  "security": [
    {
      "Bearer": []
    }
  ]
}